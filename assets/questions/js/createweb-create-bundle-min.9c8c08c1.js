(function(e,t){e.ui=e.ui||{};var i,n=Math.max,r=Math.abs,s=Math.round,o=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+%?/,u=/^\w+/,f=/%$/,c=e.fn.position;function h(e,t,i){return[parseInt(e[0],10)*(f.test(e[0])?t/100:1),parseInt(e[1],10)*(f.test(e[1])?i/100:1)]}function d(t,i){return parseInt(e.css(t,i),10)||0}function p(t){var i=t[0];if(i.nodeType===9){return{width:t.width(),height:t.height(),offset:{top:0,left:0}}}if(e.isWindow(i)){return{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}}if(i.preventDefault){return{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}}return{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(i!==t){return i}var n,r,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];e("body").append(s);n=o.offsetWidth;s.css("overflow","scroll");r=o.offsetWidth;if(n===r){r=s[0].clientWidth}s.remove();return i=n-r},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),r=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,s=n==="scroll"||n==="auto"&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}};e.fn.position=function(t){if(!t||!t.of){return c.apply(this,arguments)}t=e.extend({},t);var i,f,g,m,_,v,y=e(t.of),b=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(b),x=(t.collision||"flip").split(" "),E={};v=p(y);if(y[0].preventDefault){t.at="left top"}f=v.width;g=v.height;m=v.offset;_=e.extend({},m);e.each(["my","at"],function(){var e=(t[this]||"").split(" "),i,n;if(e.length===1){e=o.test(e[0])?e.concat(["center"]):a.test(e[0])?["center"].concat(e):["center","center"]}e[0]=o.test(e[0])?e[0]:"center";e[1]=a.test(e[1])?e[1]:"center";i=l.exec(e[0]);n=l.exec(e[1]);E[this]=[i?i[0]:0,n?n[0]:0];t[this]=[u.exec(e[0])[0],u.exec(e[1])[0]]});if(x.length===1){x[1]=x[0]}if(t.at[0]==="right"){_.left+=f}else if(t.at[0]==="center"){_.left+=f/2}if(t.at[1]==="bottom"){_.top+=g}else if(t.at[1]==="center"){_.top+=g/2}i=h(E.at,f,g);_.left+=i[0];_.top+=i[1];return this.each(function(){var o,a,l=e(this),u=l.outerWidth(),c=l.outerHeight(),p=d(this,"marginLeft"),v=d(this,"marginTop"),M=u+p+d(this,"marginRight")+w.width,S=c+v+d(this,"marginBottom")+w.height,A=e.extend({},_),C=h(E.my,l.outerWidth(),l.outerHeight());if(t.my[0]==="right"){A.left-=u}else if(t.my[0]==="center"){A.left-=u/2}if(t.my[1]==="bottom"){A.top-=c}else if(t.my[1]==="center"){A.top-=c/2}A.left+=C[0];A.top+=C[1];if(!e.support.offsetFractions){A.left=s(A.left);A.top=s(A.top)}o={marginLeft:p,marginTop:v};e.each(["left","top"],function(n,r){if(e.ui.position[x[n]]){e.ui.position[x[n]][r](A,l,{targetWidth:f,targetHeight:g,elemWidth:u,elemHeight:c,collisionPosition:o,collisionWidth:M,collisionHeight:S,offset:[i[0]+C[0],i[1]+C[1]],my:t.my,at:t.at,within:b,elem:l})}});if(t.using){a=function(e){var i=m.left-A.left,s=i+f-u,o=m.top-A.top,a=o+g-c,h={target:{element:y,left:m.left,top:m.top,width:f,height:g},element:{element:l,left:A.left,top:A.top,width:u,height:c},horizontal:s<0?"left":i>0?"right":"center",vertical:a<0?"top":o>0?"bottom":"middle"};if(f<u&&r(i+s)<f){h.horizontal="center"}if(g<c&&r(o+a)<g){h.vertical="middle"}if(n(r(i),r(s))>n(r(o),r(a))){h.important="horizontal"}else{h.important="vertical"}t.using.call(this,e,h)}}l.offset(e.extend(A,{using:a}))})};e.ui.position={fit:{left:function(e,t,i){var r=i.within,s=r.isWindow?r.scrollLeft:r.offset.left,o=r.width,a=e.left-i.collisionPosition.marginLeft,l=s-a,u=a+i.collisionWidth-o-s,f;if(i.collisionWidth>o){if(l>0&&u<=0){f=e.left+l+i.collisionWidth-o-s;e.left+=l-f}else if(u>0&&l<=0){e.left=s}else{if(l>u){e.left=s+o-i.collisionWidth}else{e.left=s}}}else if(l>0){e.left+=l}else if(u>0){e.left-=u}else{e.left=n(e.left-a,e.left)}},top:function(e,t,i){var r=i.within,s=r.isWindow?r.scrollTop:r.offset.top,o=i.within.height,a=e.top-i.collisionPosition.marginTop,l=s-a,u=a+i.collisionHeight-o-s,f;if(i.collisionHeight>o){if(l>0&&u<=0){f=e.top+l+i.collisionHeight-o-s;e.top+=l-f}else if(u>0&&l<=0){e.top=s}else{if(l>u){e.top=s+o-i.collisionHeight}else{e.top=s}}}else if(l>0){e.top+=l}else if(u>0){e.top-=u}else{e.top=n(e.top-a,e.top)}}},flip:{left:function(e,t,i){var n=i.within,s=n.offset.left+n.scrollLeft,o=n.width,a=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-i.collisionPosition.marginLeft,u=l-a,f=l+i.collisionWidth-o-a,c=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,h=i.at[0]==="left"?i.targetWidth:i.at[0]==="right"?-i.targetWidth:0,d=-2*i.offset[0],p,g;if(u<0){p=e.left+c+h+d+i.collisionWidth-o-s;if(p<0||p<r(u)){e.left+=c+h+d;t.trigger("position.horizontal.flip")}}else if(f>0){g=e.left-i.collisionPosition.marginLeft+c+h+d-a;if(g>0||r(g)<f){e.left+=c+h+d;t.trigger("position.horizontal.flip")}}},top:function(e,t,i){var n=i.within,s=n.offset.top+n.scrollTop,o=n.height,a=n.isWindow?n.scrollTop:n.offset.top,l=e.top-i.collisionPosition.marginTop,u=l-a,f=l+i.collisionHeight-o-a,c=i.my[1]==="top",h=c?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,d=i.at[1]==="top"?i.targetHeight:i.at[1]==="bottom"?-i.targetHeight:0,p=-2*i.offset[1],g,m;if(u<0){m=e.top+h+d+p+i.collisionHeight-o-s;if(e.top+h+d+p>u&&(m<0||m<r(u))){e.top+=h+d+p;t.trigger("position.vertical.flip")}}else if(f>0){g=e.top-i.collisionPosition.marginTop+h+d+p-a;if(e.top+h+d+p>f&&(g>0||r(g)<f)){e.top+=h+d+p;t.trigger("position.vertical.flip")}}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var t,i,n,r,s,o=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(o?"div":"body");n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(o){e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"})}for(s in n){t.style[s]=n[s]}t.appendChild(a);i=o||document.documentElement;i.insertBefore(t,i.firstChild);a.style.cssText="position: absolute; left: 10.7432222px;";r=e(a).offset().left;e.support.offsetFractions=r>10&&r<11;t.innerHTML="";i.removeChild(t)})()})(jQuery);jQuery.migrationFixPosition=function(e){var t,i,n,r;function s(e){if(e[0]!=="-"&&e[0]!=="+"){e="+"+e}return e}if(!e){return e}if($().jquery.indexOf("1.7")>=0||$().jquery.indexOf("1.8")>=0){return e}t=e.at;i=e.offset;if(!i){return e}if(!t){return e}n=t.split(" ");r=i.split(" ");if(r.length){r[0]=s(r[0])}if(r.length>1){r[1]=s(r[1])}e.at=n[0]+r[0]+" "+n[1]+r[1];return e};(function(){var e=$.cleanData;if(!$.ui||$.ui&&!$.ui.version){$.cleanData=function(t){for(var i=0,n;(n=t[i])!=null;i++){if(n&&n.nodeType===1){$(n).triggerHandler("remove")}}e(t)}}})();var Mustache=typeof module!=="undefined"&&module.exports||{};(function(e){e.name="mustache.js";e.version="0.5.0-dev";e.tags=["<%","%>"];e.parse=_;e.compile=w;e.render=x;e.clearCache=b;e.to_html=function(e,t,i,n){var r=x(e,t,i);if(typeof n==="function"){n(r)}else{return r}};var t=Object.prototype.toString;var i=Array.isArray;var n=Array.prototype.forEach;var r=String.prototype.trim;var s;if(i){s=i}else{s=function(e){return t.call(e)==="[object Array]"}}var o;if(n){o=function(e,t,i){return n.call(e,t,i)}}else{o=function(e,t,i){for(var n=0,r=e.length;n<r;++n){t.call(i,e[n],n,e)}}}var a=/^\s*$/;function l(e){return a.test(e)}var u;if(r){u=function(e){return e==null?"":r.call(e)}}else{var f,c;if(l("\xa0")){f=/^\s+/;c=/\s+$/}else{f=/^[\s\xA0]+/;c=/[\s\xA0]+$/}u=function(e){return e==null?"":String(e).replace(f,"").replace(c,"")}}var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function d(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return h[e]||e})}function p(e,t,i,n){n=n||"<template>";var r=t.split("\n"),s=Math.max(i-3,0),o=Math.min(r.length,i+3),a=r.slice(s,o);var l;for(var u=0,f=a.length;u<f;++u){l=u+s+1;a[u]=(l===i?" >> ":"    ")+a[u]}e.template=t;e.line=i;e.file=n;e.message=[n+":"+i,a.join("\n"),"",e.message].join("\n");return e}function g(e,t,i){if(e==="."){return t[t.length-1]}var n=e.split(".");var r=n.length-1;var s=n[r];var o,a,l=t.length,u,f;while(l){f=t.slice(0);a=t[--l];u=0;while(u<r){a=a[n[u++]];if(a==null){break}f.push(a)}if(a&&typeof a==="object"&&s in a){o=a[s];break}}if(typeof o==="function"){o=o.call(f[f.length-1])}if(o==null){return i}return o}function m(e,t,i,n){var r="";var a=g(e,t);if(n){if(a==null||a===false||s(a)&&a.length===0){r+=i()}}else if(s(a)){o(a,function(e){t.push(e);r+=i();t.pop()})}else if(typeof a==="object"){t.push(a);r+=i();t.pop()}else if(typeof a==="function"){var l=t[t.length-1];var u=function(e){return x(e,l)};r+=a.call(l,i(),u)||""}else if(a){r+=i()}return r}function _(t,i){i=i||{};var n=i.tags||e.tags,r=n[0],s=n[n.length-1];var o=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'];var a=[],f=false,c=false;var h=function(){if(f&&!c&&!i.space){while(a.length){o.splice(a.pop(),1)}}else{a=[]}f=false;c=false};var d=[],g,m,_;var v=function(e){n=u(e).split(/\s+/);m=n[0];_=n[n.length-1]};var y=function(e){o.push('";',g,'\nvar partial = partials["'+u(e)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "')};var b=function(e,n){var r=u(e);if(r===""){throw p(new Error("Section name may not be empty"),t,S,i.file)}d.push({name:r,inverted:n});o.push('";',g,'\nvar name = "'+r+'";',"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "')};var w=function(e){b(e,true)};var x=function(e){var n=u(e);var r=d.length!=0&&d[d.length-1].name;if(!r||n!=r){throw p(new Error('Section named "'+n+'" was never opened'),t,S,i.file)}var s=d.pop();o.push('";',"\n    return buffer;","\n  };","\n})();");if(s.inverted){o.push("\nbuffer += renderSection(name,stack,callback,true);")}else{o.push("\nbuffer += renderSection(name,stack,callback);")}o.push('\nbuffer += "')};var E=function(e){o.push('";',g,'\nbuffer += lookup("'+u(e)+'",stack,"");','\nbuffer += "')};var M=function(e){o.push('";',g,'\nbuffer += escapeHTML(lookup("'+u(e)+'",stack,""));','\nbuffer += "')};var S=1,A,C;for(var T=0,k=t.length;T<k;++T){if(t.slice(T,T+r.length)===r){T+=r.length;A=t.substr(T,1);g="\nline = "+S+";";m=r;_=s;f=true;switch(A){case"!":T++;C=null;break;case"=":T++;s="="+s;C=v;break;case">":T++;C=y;break;case"#":T++;C=b;break;case"^":T++;C=w;break;case"/":T++;C=x;break;case"{":s="}"+s;case"&":T++;c=true;C=E;break;default:c=true;C=M}var R=t.indexOf(s,T);if(R===-1){throw p(new Error('Tag "'+r+'" was not closed properly'),t,S,i.file)}var P=t.substring(T,R);if(C){C(P)}var q=0;while(~(q=P.indexOf("\n",q))){S++;q++}T=R+s.length-1;r=m;s=_}else{A=t.substr(T,1);switch(A){case'"':case"\\":c=true;o.push("\\"+A);break;case"\r":break;case"\n":a.push(o.length);o.push("\\n");h();S++;break;default:if(l(A)){a.push(o.length)}else{c=true}o.push(A)}}}if(d.length!=0){throw p(new Error('Section "'+d[d.length-1].name+'" was not closed properly'),t,S,i.file)}h();o.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }");var I=o.join("").replace(/buffer \+= "";\n/g,"");if(i.debug){if(typeof console!="undefined"&&console.log){console.log(I)}else if(typeof print==="function"){print(I)}}return I}function v(e,t){var i="view,partials,stack,lookup,escapeHTML,renderSection,render";var n=_(e,t);var r=new Function(i,n);return function(i,n){n=n||{};var s=[i];try{return r(i,n,s,g,d,m,x)}catch(i){throw p(i.error,e,i.line,t.file)}}}var y={};function b(){y={}}function w(e,t){t=t||{};if(t.cache!==false){if(!y[e]){y[e]=v(e,t)}return y[e]}return v(e,t)}function x(e,t,i){return w(e)(t,i)}})(Mustache);(function(e,t){var i,n,r,s,o,a,l,u,f,c,h,d,p,g,m,_,v,y,b,w,x,E,M,S;i=function(e){return new i.prototype.init(e)};if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){module.exports=i}else{e.Globalize=i}i.cultures={};i.prototype={constructor:i,init:function(e){this.cultures=i.cultures;this.cultureSelector=e;return this}};i.prototype.init.prototype=i.prototype;i.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:false,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n%","n%"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};i.cultures["default"].calendar=i.cultures["default"].calendars.standard;i.cultures.en=i.cultures["default"];i.cultureSelector="en";n=/^0x[a-f0-9]+$/i;r=/^[+\-]?infinity$/i;s=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;o=/^\s+|\s+$/g;a=function(e,t){if(e.indexOf){return e.indexOf(t)}for(var i=0,n=e.length;i<n;i++){if(e[i]===t){return i}}return-1};l=function(e,t){return e.substr(e.length-t.length)===t};u=function(){var e,i,n,r,s,o,a=arguments[0]||{},l=1,d=arguments.length,p=false;if(typeof a==="boolean"){p=a;a=arguments[1]||{};l=2}if(typeof a!=="object"&&!c(a)){a={}}for(;l<d;l++){if((e=arguments[l])!=null){for(i in e){n=a[i];r=e[i];if(a===r){continue}if(p&&r&&(h(r)||(s=f(r)))){if(s){s=false;o=n&&f(n)?n:[]}else{o=n&&h(n)?n:{}}a[i]=u(p,o,r)}else if(r!==t){a[i]=r}}}}return a};f=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};c=function(e){return Object.prototype.toString.call(e)==="[object Function]"};h=function(e){return Object.prototype.toString.call(e)==="[object Object]"};d=function(e,t){return e.indexOf(t)===0};p=function(e){return(e+"").replace(o,"")};g=function(e){if(isNaN(e)){return NaN}return Math[e<0?"ceil":"floor"](e)};m=function(e,t,i){var n;for(n=e.length;n<t;n+=1){e=i?"0"+e:e+"0"}return e};_=function(e,t){var i=0,n=false;for(var r=0,s=e.length;r<s;r++){var o=e.charAt(r);switch(o){case"'":if(n){t.push("'")}else{i++}n=false;break;case"\\":if(n){t.push("\\")}n=!n;break;default:t.push(o);n=false;break}}return i};v=function(e,t){t=t||"F";var i,n=e.patterns,r=t.length;if(r===1){i=n[t];if(!i){throw"Invalid date format string '"+t+"'."}t=i}else if(r===2&&t.charAt(0)==="%"){t=t.charAt(1)}return t};y=function(e,t,i){var n=i.calendar,r=n.convert,s;if(!t||!t.length||t==="i"){if(i&&i.name.length){if(r){s=y(e,n.patterns.F,i)}else{var o=new Date(e.getTime()),a=x(e,n.eras);o.setFullYear(E(e,n,a));s=o.toLocaleString()}}else{s=e.toString()}return s}var l=n.eras,u=t==="s";t=v(n,t);s=[];var f,c=["0","00","000"],h,d,p=/([^d]|^)(d|dd)([^d]|$)/g,g=0,m=w(),b;function M(e,t){var i,n=e+"";if(t>1&&n.length<t){i=c[t-2]+n;return i.substr(i.length-t,t)}else{i=n}return i}function S(){if(h||d){return h}h=p.test(t);d=true;return h}function A(e,t){if(b){return b[t]}switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}if(!u&&r){b=r.fromGregorian(e)}for(;;){var C=m.lastIndex,T=m.exec(t);var k=t.slice(C,T?T.index:t.length);g+=_(k,s);if(!T){break}if(g%2){s.push(T[0]);continue}var R=T[0],P=R.length;switch(R){case"ddd":case"dddd":var q=P===3?n.days.namesAbbr:n.days.names;s.push(q[e.getDay()]);break;case"d":case"dd":h=true;s.push(M(A(e,2),P));break;case"MMM":case"MMMM":var I=A(e,1);s.push(n.monthsGenitive&&S()?n.monthsGenitive[P===3?"namesAbbr":"names"][I]:n.months[P===3?"namesAbbr":"names"][I]);break;case"M":case"MM":s.push(M(A(e,1)+1,P));break;case"y":case"yy":case"yyyy":I=b?b[0]:E(e,n,x(e,l),u);if(P<4){I=I%100}s.push(M(I,P));break;case"h":case"hh":f=e.getHours()%12;if(f===0)f=12;s.push(M(f,P));break;case"H":case"HH":s.push(M(e.getHours(),P));break;case"m":case"mm":s.push(M(e.getMinutes(),P));break;case"s":case"ss":s.push(M(e.getSeconds(),P));break;case"t":case"tt":I=e.getHours()<12?n.AM?n.AM[0]:" ":n.PM?n.PM[0]:" ";s.push(P===1?I.charAt(0):I);break;case"f":case"ff":case"fff":s.push(M(e.getMilliseconds(),3).substr(0,P));break;case"z":case"zz":f=e.getTimezoneOffset()/60;s.push((f<=0?"+":"-")+M(Math.floor(Math.abs(f)),P));break;case"zzz":f=e.getTimezoneOffset()/60;s.push((f<=0?"+":"-")+M(Math.floor(Math.abs(f)),2)+":"+M(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":if(n.eras){s.push(n.eras[x(e,l)].name)}break;case"/":s.push(n["/"]);break;default:throw"Invalid date format pattern '"+R+"'."}}return s.join("")};(function(){var e;e=function(e,t,i){var n=i.groupSizes,r=n[0],s=1,o=Math.pow(10,t),a=Math.round(e*o)/o;if(!isFinite(a)){a=e}e=a;var l=e+"",u="",f=l.split(/e/i),c=f.length>1?parseInt(f[1],10):0;l=f[0];f=l.split(".");l=f[0];u=f.length>1?f[1]:"";var h;if(c>0){u=m(u,c,false);l+=u.slice(0,c);u=u.substr(c)}else if(c<0){c=-c;l=m(l,c+1,true);u=l.slice(-c,l.length)+u;l=l.slice(0,-c)}if(t>0){u=i["."]+(u.length>t?u.slice(0,t):m(u,t))}else{u=""}var d=l.length-1,p=i[","],g="";while(d>=0){if(r===0||r>d){return l.slice(0,d+1)+(g.length?p+g+u:u)}g=l.slice(d-r+1,d+1)+(g.length?p+g:"");d-=r;if(s<n.length){r=n[s];s++}}return l.slice(0,d+1)+p+g+u};b=function(t,i,n){if(!isFinite(t)){if(t===Infinity){return n.numberFormat.positiveInfinity}if(t===-Infinity){return n.numberFormat.negativeInfinity}return n.numberFormat["NaN"]}if(!i||i==="i"){return n.name.length?t.toLocaleString():t.toString()}i=i||"D";var r=n.numberFormat,s=Math.abs(t),o=-1,a;if(i.length>1)o=parseInt(i.slice(1),10);var l=i.charAt(0).toUpperCase(),u;switch(l){case"D":a="n";s=g(s);if(o!==-1){s=m(""+s,o,true)}if(t<0)s="-"+s;break;case"N":u=r;case"C":u=u||r.currency;case"P":u=u||r.percent;a=t<0?u.pattern[0]:u.pattern[1]||"n";if(o===-1)o=u.decimals;s=e(s*(l==="P"?100:1),o,u);break;default:throw"Bad number format specifier: "+l}var f=/n|\$|-|%/g,c="";for(;;){var h=f.lastIndex,d=f.exec(a);c+=a.slice(h,d?d.index:a.length);if(!d){break}switch(d[0]){case"n":c+=s;break;case"$":c+=r.currency.symbol;break;case"-":if(/[1-9]/.test(s)){c+=r["-"]}break;case"%":c+=r.percent.symbol;break}}return c}})();w=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};x=function(e,t){if(!t)return 0;var i,n=e.getTime();for(var r=0,s=t.length;r<s;r++){i=t[r].start;if(i===null||n>=i){return r}}return 0};E=function(e,t,i,n){var r=e.getFullYear();if(!n&&t.eras){r-=t.eras[i].offset}return r};(function(){var e,t,i,n,r,s,o;e=function(e,t){if(t<100){var i=new Date,n=x(i),r=E(i,e,n),s=e.twoDigitYearMax;s=typeof s==="string"?(new Date).getFullYear()%100+parseInt(s,10):s;t+=r-r%100;if(t>s){t-=100}}return t};t=function(e,t,i){var n,r=e.days,l=e._upperDays;if(!l){e._upperDays=l=[o(r.names),o(r.namesAbbr),o(r.namesShort)]}t=s(t);if(i){n=a(l[1],t);if(n===-1){n=a(l[2],t)}}else{n=a(l[0],t)}return n};i=function(e,t,i){var n=e.months,r=e.monthsGenitive||e.months,l=e._upperMonths,u=e._upperMonthsGen;if(!l){e._upperMonths=l=[o(n.names),o(n.namesAbbr)];e._upperMonthsGen=u=[o(r.names),o(r.namesAbbr)]}t=s(t);var f=a(i?l[1]:l[0],t);if(f<0){f=a(i?u[1]:u[0],t)}return f};n=function(e,t){var i=e._parseRegExp;if(!i){e._parseRegExp=i={}}else{var n=i[t];if(n){return n}}var r=v(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],a=0,l=0,u=w(),f;while((f=u.exec(r))!==null){var c=r.slice(a,f.index);a=u.lastIndex;l+=_(c,s);if(l%2){s.push(f[0]);continue}var h=f[0],d=h.length,p;switch(h){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":p="(\\D+)";break;case"tt":case"t":p="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":p="(\\d{"+d+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":p="(\\d\\d?)";break;case"zzz":p="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":p="([+-]?\\d\\d?)";break;case"/":p="(\\/)";break;default:throw"Invalid date format pattern '"+h+"'."}if(p){s.push(p)}o.push(f[0])}_(r.slice(a),s);s.push("$");var g=s.join("").replace(/\s+/g,"\\s+"),m={regExp:g,groups:o};return i[t]=m};r=function(e,t,i){return e<t||e>i};s=function(e){return e.split("\xa0").join(" ").toUpperCase()};o=function(e){var t=[];for(var i=0,n=e.length;i<n;i++){t[i]=s(e[i])}return t};M=function(s,o,a){s=p(s);var l=a.calendar,u=n(l,o),f=new RegExp(u.regExp).exec(s);if(f===null){return null}var c=u.groups,h=null,g=null,m=null,_=null,v=null,y=0,b,w=0,x=0,E=0,M=null,S=false;for(var A=0,C=c.length;A<C;A++){var T=f[A+1];if(T){var k=c[A],R=k.length,P=parseInt(T,10);switch(k){case"dd":case"d":_=P;if(r(_,1,31))return null;break;case"MMM":case"MMMM":m=i(l,T,R===3);if(r(m,0,11))return null;break;case"M":case"MM":m=P-1;if(r(m,0,11))return null;break;case"y":case"yy":case"yyyy":g=R<4?e(l,P):P;if(r(g,0,9999))return null;break;case"h":case"hh":y=P;if(y===12)y=0;if(r(y,0,11))return null;break;case"H":case"HH":y=P;if(r(y,0,23))return null;break;case"m":case"mm":w=P;if(r(w,0,59))return null;break;case"s":case"ss":x=P;if(r(x,0,59))return null;break;case"tt":case"t":S=l.PM&&(T===l.PM[0]||T===l.PM[1]||T===l.PM[2]);if(!S&&(!l.AM||T!==l.AM[0]&&T!==l.AM[1]&&T!==l.AM[2]))return null;break;case"f":case"ff":case"fff":E=P*Math.pow(10,3-R);if(r(E,0,999))return null;break;case"ddd":case"dddd":v=t(l,T,R===3);if(r(v,0,6))return null;break;case"zzz":var q=T.split(/:/);if(q.length!==2)return null;b=parseInt(q[0],10);if(r(b,-12,13))return null;var I=parseInt(q[1],10);if(r(I,0,59))return null;M=b*60+(d(T,"-")?-I:I);break;case"z":case"zz":b=P;if(r(b,-12,13))return null;M=b*60;break;case"g":case"gg":var O=T;if(!O||!l.eras)return null;O=p(O.toLowerCase());for(var j=0,D=l.eras.length;j<D;j++){if(O===l.eras[j].name.toLowerCase()){h=j;break}}if(h===null)return null;break}}}var N=new Date,L,z=l.convert;L=z?z.fromGregorian(N)[0]:N.getFullYear();if(g===null){g=L}else if(l.eras){g+=l.eras[h||0].offset}if(m===null){m=0}if(_===null){_=1}if(z){N=z.toGregorian(g,m,_);if(N===null)return null}else{N.setFullYear(g,m,_);if(N.getDate()!==_)return null;if(v!==null&&N.getDay()!==v){return null}}if(S&&y<12){y+=12}N.setHours(y,w,x,E);if(M!==null){var $=N.getMinutes()-(M+N.getTimezoneOffset());N.setHours(N.getHours()+parseInt($/60,10),$%60)}return N}})();S=function(e,t,i){var n=t["-"],r=t["+"],s;switch(i){case"n -":n=" "+n;r=" "+r;case"n-":if(l(e,n)){s=["-",e.substr(0,e.length-n.length)]}else if(l(e,r)){s=["+",e.substr(0,e.length-r.length)]}break;case"- n":n+=" ";r+=" ";case"-n":if(d(e,n)){s=["-",e.substr(n.length)]}else if(d(e,r)){s=["+",e.substr(r.length)]}break;case"(n)":if(d(e,"(")&&l(e,")")){s=["-",e.substr(1,e.length-2)]}break}return s||["",e]};i.prototype.findClosestCulture=function(e){return i.findClosestCulture.call(this,e)};i.prototype.format=function(e,t,n){return i.format.call(this,e,t,n)};i.prototype.localize=function(e,t){return i.localize.call(this,e,t)};i.prototype.parseInt=function(e,t,n){return i.parseInt.call(this,e,t,n)};i.prototype.parseFloat=function(e,t,n){return i.parseFloat.call(this,e,t,n)};i.prototype.culture=function(e){return i.culture.call(this,e)};i.addCultureInfo=function(e,t,i){var n={},r=false;if(typeof e!=="string"){i=e;e=this.culture().name;n=this.cultures[e]}else if(typeof t!=="string"){i=t;r=this.cultures[e]==null;n=this.cultures[e]||this.cultures["default"]}else{r=true;n=this.cultures[t]}this.cultures[e]=u(true,{},n,i);if(r){this.cultures[e].calendar=this.cultures[e].calendars.standard}};i.findClosestCulture=function(e){var t;if(!e){return this.findClosestCulture(this.cultureSelector)||this.cultures["default"]}if(typeof e==="string"){e=e.split(",")}if(f(e)){var i,n=this.cultures,r=e,s,o=r.length,a=[];for(s=0;s<o;s++){e=p(r[s]);var l,u=e.split(";");i=p(u[0]);if(u.length===1){l=1}else{e=p(u[1]);if(e.indexOf("q=")===0){e=e.substr(2);l=parseFloat(e);l=isNaN(l)?0:l}else{l=1}}a.push({lang:i,pri:l})}a.sort(function(e,t){if(e.pri<t.pri){return 1}else if(e.pri>t.pri){return-1}return 0});for(s=0;s<o;s++){i=a[s].lang;t=n[i];if(t){return t}}for(s=0;s<o;s++){i=a[s].lang;do{var c=i.lastIndexOf("-");if(c===-1){break}i=i.substr(0,c);t=n[i];if(t){return t}}while(1)}for(s=0;s<o;s++){i=a[s].lang;for(var h in n){var d=n[h];if(d.language==i){return d}}}}else if(typeof e==="object"){return e}return t||null};i.format=function(e,t,i){var n=this.findClosestCulture(i);if(e instanceof Date){e=y(e,t,n)}else if(typeof e==="number"){e=b(e,t,n)}return e};i.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages[e]};i.parseDate=function(e,t,i){i=this.findClosestCulture(i);var n,r,s;if(t){if(typeof t==="string"){t=[t]}if(t.length){for(var o=0,a=t.length;o<a;o++){var l=t[o];if(l){n=M(e,l,i);if(n){break}}}}}else{s=i.calendar.patterns;for(r in s){n=M(e,s[r],i);if(n){break}}}return n||null};i.parseInt=function(e,t,n){return g(i.parseFloat(e,t,n))};i.parseFloat=function(e,t,i){if(typeof t!=="number"){i=t;t=10}var o=this.findClosestCulture(i);var a=NaN,l=o.numberFormat;if(e.indexOf(o.numberFormat.currency.symbol)>-1){e=e.replace(o.numberFormat.currency.symbol,"");e=e.replace(o.numberFormat.currency["."],o.numberFormat["."])}e=p(e);if(r.test(e)){a=parseFloat(e)}else if(!t&&n.test(e)){a=parseInt(e,16)}else{var u=S(e,l,l.pattern[0]),f=u[0],c=u[1];if(f===""&&l.pattern[0]!=="(n)"){u=S(e,l,"(n)");f=u[0];c=u[1]}if(f===""&&l.pattern[0]!=="-n"){u=S(e,l,"-n");f=u[0];c=u[1]}f=f||"+";var h,d,g=c.indexOf("e");if(g<0)g=c.indexOf("E");if(g<0){d=c;h=null}else{d=c.substr(0,g);h=c.substr(g+1)}var m,_,v=l["."],y=d.indexOf(v);if(y<0){m=d;_=null}else{m=d.substr(0,y);_=d.substr(y+v.length)}var b=l[","];m=m.split(b).join("");var w=b.replace(/\u00A0/g," ");if(b!==w){m=m.split(w).join("")}var x=f+m;if(_!==null){x+="."+_}if(h!==null){var E=S(h,l,"-n");x+="e"+(E[0]||"+")+E[1]}if(s.test(x)){a=parseFloat(x)}}return a};i.culture=function(e){if(typeof e!=="undefined"){this.cultureSelector=e}return this.findClosestCulture(e)||this.cultures["default"]}})(this);Globalize.getSmartlingCulture=function(){var e=$('meta[http-equiv="Content-Language"]'),t={"pt-br":"pt-BR","pt-pt":"pt-PT"},i="en";if(e.length>0){i=e.attr("content")}if(t[i]){i=t[i]}return i};Globalize.formatPercent=function(e,t){var i;if(!isFinite(e)){e=0}t=SM.Math.isInt(e*100)?2:t+2;e=SM.Math.roundTo(e,t);i="p"+(t-2);return this.format(e,i)};Globalize.getWeekdayIndexOfFirstDay=function(e,t){var i=this;var n=new Date(t,e,1).getDay();var r=this.culture();n=n-r.calendars.standard.firstDay;if(n>-1){return n}return 7+n};Globalize.usesMilitaryTime=function(){var e=this.culture();return e.calendar.AM===null};Globalize.normalizeHour=function(e){var t=this.culture(),i=t.calendar.AM,n=t.calendar.PM,r;if(i){r=i[1]}if(!i){return""+e}else if(e===0){e=12}else if(e>12){e=e-12;r=n[1]}else if(e===12){r=n[1]}return""+e+" "+r};Globalize.addCultureInfo("en",{calendar:{timeAbbr:{h:"h",m:"m",s:"s"}}});Globalize.pluralize=function(e,t,i){var n=_.pluralize(e,t),r=Globalize.localize(n);return i?t+" "+r:r};Globalize.lastNameFirst=function(){var e=this.culture();switch(e.name){case"ja":case"ko":return true;default:return false}};(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("da","default",{name:"da",englishName:"Danish",nativeName:"dansk",language:"da",numberFormat:{",":".",".":",",negativeInfinity:"-INF",positiveInfinity:"INF",percent:{",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:"kr."}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],namesAbbr:["s\xf8","ma","ti","on","to","fr","l\xf8"],namesShort:["s\xf8","ma","ti","on","to","fr","l\xf8"]},months:{names:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"dd-MM-yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}})})(this);Globalize.addCultureInfo("da",{calendar:{timeAbbr:{h:"t",m:"m",s:"s"},yearFirst:false},calendars:{standard:{days:{namesShort:["S\xf8","Ma","Ti","On","To","Fr","L\xf8"]},months:{namesAbbr:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec",""]}}}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("de","default",{name:"de",englishName:"German",nativeName:"Deutsch",language:"de",numberFormat:{",":".",".":",",NaN:"n. def.",negativeInfinity:"-unendlich",positiveInfinity:"+unendlich",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"\u20ac"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],namesAbbr:["So","Mo","Di","Mi","Do","Fr","Sa"],namesShort:["So","Mo","Di","Mi","Do","Fr","Sa"]},months:{names:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],namesAbbr:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""]},AM:null,PM:null,eras:[{name:"n. Chr.",start:null,offset:0}],patterns:{d:"dd.MM.yyyy",D:"dddd, d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d. MMMM yyyy HH:mm",F:"dddd, d. MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}})})(this);Globalize.addCultureInfo("de",{calendar:{timeAbbr:{h:"H",m:"M",s:"S"},yearFirst:false}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("es","default",{name:"es",englishName:"Spanish",nativeName:"espa\xf1ol",language:"es",numberFormat:{",":".",".":",",NaN:"NeuN",negativeInfinity:"-Infinito",positiveInfinity:"Infinito",percent:{",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"\u20ac"}},calendars:{standard:{firstDay:1,days:{names:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],namesAbbr:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],namesShort:["do","lu","ma","mi","ju","vi","s\xe1"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd, dd' de 'MMMM' de 'yyyy H:mm",F:"dddd, dd' de 'MMMM' de 'yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}})})(this);Globalize.addCultureInfo("es",{calendar:{timeAbbr:{h:"h",m:"m",s:"s"},yearFirst:false},calendars:{standard:{days:{namesShort:["Do","Lu","Ma","Mi","Ju","Vi","S\xe1"]},months:{namesAbbr:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic",""]}}}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("fi","default",{name:"fi",
englishName:"Finnish",nativeName:"suomi",language:"fi",numberFormat:{",":"\xa0",".":",",negativeInfinity:"-INF",positiveInfinity:"INF",percent:{",":"\xa0",".":","},currency:{pattern:["-n $","n $"],",":"\xa0",".":",",symbol:"\u20ac"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],namesAbbr:["su","ma","ti","ke","to","pe","la"],namesShort:["su","ma","ti","ke","to","pe","la"]},months:{names:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xe4kuu","hein\xe4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],namesAbbr:["tammi","helmi","maalis","huhti","touko","kes\xe4","hein\xe4","elo","syys","loka","marras","joulu",""]},AM:null,PM:null,patterns:{d:"d.M.yyyy",D:"d. MMMM'ta 'yyyy",t:"H:mm",T:"H:mm:ss",f:"d. MMMM'ta 'yyyy H:mm",F:"d. MMMM'ta 'yyyy H:mm:ss",M:"d. MMMM'ta'",Y:"MMMM yyyy"}}}})})(this);Globalize.addCultureInfo("fi",{calendar:{timeAbbr:{h:"t",m:"m",s:"s"},yearFirst:false},calendars:{standard:{days:{namesShort:["Su","Ma","Ti","Ke","To","Pe","La"]},months:{namesAbbr:["Tammi","Helmi","Maalis","Huhti","Touko","Kes\xe4","Hein\xe4","Elo","Syys","Loka","Marras","Joulu",""]}}}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("fr","default",{name:"fr",englishName:"French",nativeName:"fran\xe7ais",language:"fr",numberFormat:{",":"\xa0",".":",",NaN:"Non Num\xe9rique",negativeInfinity:"-Infini",positiveInfinity:"+Infini",percent:{",":"\xa0",".":","},currency:{pattern:["-n $","n $"],",":"\xa0",".":",",symbol:"\u20ac"}},calendars:{standard:{firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre",""],namesAbbr:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}})})(this);Globalize.addCultureInfo("fr",{calendar:{timeAbbr:{h:"h",m:"m",s:"s"},yearFirst:false}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("it","default",{name:"it",englishName:"Italian",nativeName:"italiano",language:"it",numberFormat:{",":".",".":",",NaN:"Non un numero reale",negativeInfinity:"-Infinito",positiveInfinity:"+Infinito",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-$ n","$ n"],",":".",".":",",symbol:"\u20ac"}},calendars:{standard:{firstDay:1,days:{names:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],namesAbbr:["dom","lun","mar","mer","gio","ven","sab"],namesShort:["do","lu","ma","me","gi","ve","sa"]},months:{names:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],namesAbbr:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}})})(this);Globalize.addCultureInfo("it",{calendar:{timeAbbr:{h:"o",m:"m",s:"s"},yearFirst:false}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("ja","default",{name:"ja",englishName:"Japanese",nativeName:"\u65e5\u672c\u8a9e",language:"ja",numberFormat:{NaN:"NaN (\u975e\u6570\u5024)",negativeInfinity:"-\u221e",positiveInfinity:"+\u221e",percent:{pattern:["-n%","n%"]},currency:{pattern:["-$n","$n"],decimals:0,symbol:"\xa5"}},calendars:{standard:{days:{names:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],namesAbbr:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],namesShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},months:{names:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["\u5348\u524d","\u5348\u524d","\u5348\u524d"],PM:["\u5348\u5f8c","\u5348\u5f8c","\u5348\u5f8c"],eras:[{name:"\u897f\u66a6",start:null,offset:0}],patterns:{d:"yyyy/MM/dd",D:"yyyy'\u5e74'M'\u6708'd'\u65e5'",t:"H:mm",T:"H:mm:ss",f:"yyyy'\u5e74'M'\u6708'd'\u65e5' H:mm",F:"yyyy'\u5e74'M'\u6708'd'\u65e5' H:mm:ss",M:"M'\u6708'd'\u65e5'",Y:"yyyy'\u5e74'M'\u6708'"}},Japanese:{name:"Japanese",days:{names:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],namesAbbr:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],namesShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},months:{names:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["\u5348\u524d","\u5348\u524d","\u5348\u524d"],PM:["\u5348\u5f8c","\u5348\u5f8c","\u5348\u5f8c"],eras:[{name:"\u5e73\u6210",start:null,offset:1867},{name:"\u662d\u548c",start:-18121536e5,offset:1911},{name:"\u5927\u6b63",start:-13576032e5,offset:1925},{name:"\u660e\u6cbb",start:6002208e4,offset:1988}],twoDigitYearMax:99,patterns:{d:"gg y/M/d",D:"gg y'\u5e74'M'\u6708'd'\u65e5'",t:"H:mm",T:"H:mm:ss",f:"gg y'\u5e74'M'\u6708'd'\u65e5' H:mm",F:"gg y'\u5e74'M'\u6708'd'\u65e5' H:mm:ss",M:"M'\u6708'd'\u65e5'",Y:"gg y'\u5e74'M'\u6708'"}}}})})(this);Globalize.addCultureInfo("ja",{calendar:{timeAbbr:{h:"\u6642",m:"\u5206",s:"\u79d2"},yearFirst:true,patterns:{f:"yyyy'\u5e74'M'\u6708'd'\u65e5' tth:mm",F:"yyyy'\u5e74'M'\u6708'd'\u65e5' tth:mm:ss"}},calendars:{standard:{months:{namesAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708",""]}}},Japanese:{calendar:{timeAbbr:{h:"\u6642\u9593",m:"\u5206",s:"\u79d2"},yearFirst:true},calendars:{standard:{months:{namesAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708",""]}}}}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("ko","default",{name:"ko",englishName:"Korean",nativeName:"\ud55c\uad6d\uc5b4",language:"ko",numberFormat:{currency:{pattern:["-$n","$n"],decimals:0,symbol:"\u20a9"}},calendars:{standard:{"/":"-",days:{names:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],namesAbbr:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],namesShort:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},months:{names:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["\uc624\uc804","\uc624\uc804","\uc624\uc804"],PM:["\uc624\ud6c4","\uc624\ud6c4","\uc624\ud6c4"],eras:[{name:"\uc11c\uae30",start:null,offset:0}],patterns:{d:"yyyy-MM-dd",D:"yyyy'\ub144' M'\uc6d4' d'\uc77c' dddd",t:"tt h:mm",T:"tt h:mm:ss",f:"yyyy'\ub144' M'\uc6d4' d'\uc77c' dddd tt h:mm",F:"yyyy'\ub144' M'\uc6d4' d'\uc77c' dddd tt h:mm:ss",M:"M'\uc6d4' d'\uc77c'",Y:"yyyy'\ub144' M'\uc6d4'"}},Korean:{name:"Korean","/":"-",days:{names:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],namesAbbr:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],namesShort:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},months:{names:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4",""],namesAbbr:["1","2","3","4","5","6","7","8","9","10","11","12",""]},AM:["\uc624\uc804","\uc624\uc804","\uc624\uc804"],PM:["\uc624\ud6c4","\uc624\ud6c4","\uc624\ud6c4"],eras:[{name:"\ub2e8\uae30",start:null,offset:-2333}],twoDigitYearMax:4362,patterns:{d:"gg yyyy-MM-dd",D:"gg yyyy'\ub144' M'\uc6d4' d'\uc77c' dddd",t:"tt h:mm",T:"tt h:mm:ss",f:"gg yyyy'\ub144' M'\uc6d4' d'\uc77c' dddd tt h:mm",F:"gg yyyy'\ub144' M'\uc6d4' d'\uc77c' dddd tt h:mm:ss",M:"M'\uc6d4' d'\uc77c'",Y:"gg yyyy'\ub144' M'\uc6d4'"}}}})})(this);Globalize.addCultureInfo("ko",{calendar:{timeAbbr:{h:"\uc2dc",m:"\ubd84",s:"\ucd08"},yearFirst:true,patterns:{f:"yyyy'\ub144' M'\uc6d4' d'\uc77c' dddd tth:mm",F:"yyyy'\ub144' M'\uc6d4' d'\uc77c' dddd tth:mm:ss"}},calendars:{standard:{months:{namesAbbr:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4",""]}}},Korean:{calendar:{timeAbbr:{h:"\uc2dc\uac04",m:"\ubd84",s:"\ucd08"},yearFirst:true},calendars:{standard:{months:{namesAbbr:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4",""]}}}}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("nl","default",{name:"nl",englishName:"Dutch",nativeName:"Nederlands",language:"nl",numberFormat:{",":".",".":",",percent:{",":".",".":","},currency:{pattern:["$ -n","$ n"],",":".",".":",",symbol:"\u20ac"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],namesAbbr:["zo","ma","di","wo","do","vr","za"],namesShort:["zo","ma","di","wo","do","vr","za"]},months:{names:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],namesAbbr:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"d-M-yyyy",D:"dddd d MMMM yyyy",t:"H:mm",T:"H:mm:ss",f:"dddd d MMMM yyyy H:mm",F:"dddd d MMMM yyyy H:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}})})(this);Globalize.addCultureInfo("nl",{calendar:{timeAbbr:{h:"u",m:"m",s:"s"},yearFirst:false},calendars:{standard:{days:{namesShort:["Zo","Ma","Di","Wo","Do","Vr","Za"]},months:{namesAbbr:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec",""]}}}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("no","default",{name:"no",englishName:"Norwegian",nativeName:"norsk",language:"no",numberFormat:{",":"\xa0",".":",",negativeInfinity:"-INF",positiveInfinity:"INF",percent:{",":"\xa0",".":","},currency:{pattern:["$ -n","$ n"],",":"\xa0",".":",",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],namesAbbr:["s\xf8","ma","ti","on","to","fr","l\xf8"],namesShort:["s\xf8","ma","ti","on","to","fr","l\xf8"]},months:{names:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],namesAbbr:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}})})(this);Globalize.addCultureInfo("no",{calendar:{timeAbbr:{h:"t",m:"m",s:"s"},yearFirst:false}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("pt-BR","default",{name:"pt-BR",englishName:"Portuguese (Brazil)",nativeName:"Portugu\xeas (Brasil)",language:"pt",numberFormat:{",":".",".":",",NaN:"NaN (N\xe3o \xe9 um n\xfamero)",negativeInfinity:"-Infinito",positiveInfinity:"+Infinito",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-$ n","$ n"],",":".",".":",",symbol:"R$"}},calendars:{standard:{days:{names:["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],namesAbbr:["dom","seg","ter","qua","qui","sex","s\xe1b"],namesShort:["D","S","T","Q","Q","S","S"]},months:{names:["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],namesAbbr:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, d' de 'MMMM' de 'yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d' de 'MMMM' de 'yyyy HH:mm",F:"dddd, d' de 'MMMM' de 'yyyy HH:mm:ss",M:"dd' de 'MMMM",Y:"MMMM' de 'yyyy"}}}})})(this);Globalize.addCultureInfo("pt-BR",{calendar:{timeAbbr:{h:"h",m:"m",s:"s"},yearFirst:false}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("ru","default",{name:"ru",englishName:"Russian",nativeName:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439",language:"ru",numberFormat:{",":"\xa0",".":",",negativeInfinity:"-\u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0441\u0442\u044c",positiveInfinity:"\u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0441\u0442\u044c",percent:{pattern:["-n%","n%"],",":"\xa0",".":","},currency:{pattern:["-n$","n$"],",":"\xa0",".":",",symbol:"\u0440."}},calendars:{standard:{"/":".",firstDay:1,days:{names:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],namesAbbr:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],namesShort:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},months:{names:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c",""],namesAbbr:["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0439","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a",""]},monthsGenitive:{names:["\u042f\u043d\u0432\u0430\u0440\u044f","\u0424\u0435\u0432\u0440\u0430\u043b\u044f","\u041c\u0430\u0440\u0442\u0430","\u0410\u043f\u0440\u0435\u043b\u044f","\u041c\u0430\u044f","\u0418\u044e\u043d\u044f","\u0418\u044e\u043b\u044f","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u041e\u043a\u0442\u044f\u0431\u0440\u044f","\u041d\u043e\u044f\u0431\u0440\u044f","\u0414\u0435\u043a\u0430\u0431\u0440\u044f",""],namesAbbr:["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0439","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy '\u0433.'",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy '\u0433.' H:mm",F:"d MMMM yyyy '\u0433.' H:mm:ss",Y:"MMMM yyyy"}}}})})(this);Globalize.addCultureInfo("ru",{calendar:{timeAbbr:{h:"\u0447",m:"\u043c",s:"\u0441"},yearFirst:false},calendars:{standard:{months:{namesAbbr:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a",""]}}}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("tr","default",{name:"tr",englishName:"Turkish",nativeName:"T\xfcrk\xe7e",language:"tr",numberFormat:{",":".",".":",",percent:{pattern:["-%n","%n"],",":".",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"TL"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],namesAbbr:["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cmt"],namesShort:["Pz","Pt","Sa","\xc7a","Pe","Cu","Ct"]},months:{names:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k",""],namesAbbr:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"dd MMMM yyyy dddd",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy dddd HH:mm",F:"dd MMMM yyyy dddd HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}})})(this);Globalize.addCultureInfo("tr",{calendar:{timeAbbr:{h:"s",m:"dak",s:"sn"},yearFirst:false}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("sv","default",{name:"sv",englishName:"Swedish",nativeName:"svenska",language:"sv",numberFormat:{",":"\xa0",".":",",negativeInfinity:"-INF",positiveInfinity:"INF",percent:{",":"\xa0",".":","},currency:{pattern:["-n $","n $"],",":".",".":",",symbol:"kr"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["s\xf6ndag","m\xe5ndag","tisdag","onsdag","torsdag","fredag","l\xf6rdag"],namesAbbr:["s\xf6","m\xe5","ti","on","to","fr","l\xf6"],namesShort:["s\xf6","m\xe5","ti","on","to","fr","l\xf6"]},months:{names:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],namesAbbr:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""]},AM:null,PM:null,patterns:{d:"yyyy-MM-dd",D:"'den 'd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"'den 'd MMMM yyyy HH:mm",F:"'den 'd MMMM yyyy HH:mm:ss",M:"'den 'd MMMM",Y:"MMMM yyyy"}}}})})(this);Globalize.addCultureInfo("sv",{calendar:{timeAbbr:{h:"t",m:"m",s:"s"},yearFirst:false},calendars:{standard:{days:{namesShort:["S\xf6","M\xe5","Ti","On","To","Fr","L\xf6"]},months:{namesAbbr:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec",""]}}}});(function(e,t){var i;if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){i=require("globalize")}else{i=e.Globalize}i.addCultureInfo("zh","default",{name:"zh",englishName:"Chinese",nativeName:"\u4e2d\u6587",language:"zh",numberFormat:{NaN:"\u975e\u6570\u5b57",negativeInfinity:"\u8d1f\u65e0\u7a77\u5927",positiveInfinity:"\u6b63\u65e0\u7a77\u5927",percent:{pattern:["-n%","n%"]},currency:{pattern:["$-n","$n"],symbol:"\xa5"}},calendars:{standard:{days:{names:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],namesAbbr:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],namesShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},months:{names:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708",""],namesAbbr:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708",""]},AM:["\u4e0a\u5348","\u4e0a\u5348","\u4e0a\u5348"],PM:["\u4e0b\u5348","\u4e0b\u5348","\u4e0b\u5348"],eras:[{name:"\u516c\u5143",start:null,offset:0}],patterns:{d:"yyyy/M/d",D:"yyyy'\u5e74'M'\u6708'd'\u65e5'",t:"H:mm",T:"H:mm:ss",f:"yyyy'\u5e74'M'\u6708'd'\u65e5' H:mm",F:"yyyy'\u5e74'M'\u6708'd'\u65e5' H:mm:ss",M:"M'\u6708'd'\u65e5'",Y:"yyyy'\u5e74'M'\u6708'"}}}})})(this);Globalize.addCultureInfo("zh",{calendar:{timeAbbr:{h:"\u6642",m:"\u5206",s:"\u79d2"},yearFirst:false,patterns:{f:"yyyy'\u5e74'M'\u6708'd'\u65e5' tth:mm",F:"yyyy'\u5e74'M'\u6708'd'\u65e5' tth:mm:ss"}}});if(typeof module=="object"&&module.exports&&typeof require=="function"){var SM=require("../SM")}SM.Browser={init:function(){var e=document.body.className;this.isIE6=e.indexOf("ie6")!==-1;this.isIE7=e.indexOf("ie7")!==-1;this.isIE8=e.indexOf("ie8")!==-1;this.isIE9=e.indexOf("ie9")!==-1;this.isOldIE=this.isIE9||this.isIE8||this.isIE7||this.isIE6;this.isIE=!!("ActiveXObject"in window||window.ActiveXObject);this.isFirefox=window.navigator.userAgent.indexOf("Firefox")!==-1;this.isSafari=window.navigator.userAgent.indexOf("Safari")!==-1},support:{mediaQuery:function(){var e=window.matchMedia||window.msMatchMedia;return!!e},notSupported:function(){var e=window.navigator.userAgent.toLowerCase(),t=SM.Browser,i=0;if(t.isOldIE&&(!t.isIE8&&!t.isIE9)){return true}else if(t.isFirefox){e=e.substring(e.indexOf("firefox/")+8);i=parseFloat(e.substring(0,e.indexOf(".")));if(i<10){return true}}else if(t.isSafari){e=e.substring(e.indexOf("version/")+8);e=e.substring(0,e.indexOf(" "));i=parseFloat(e.substring(0,e.indexOf(".")));if(i<=3){return true}}return false},needsBrowserUpgrade:function(){if(!SM.Cookies.get("upgrade_browser_modal")){if(SM.Browser.support.notSupported()){SM.Views.create(SM.DialogView,{templateID:"upgrade-browser-warning-dialog-template",isModal:true,width:780}).open()}SM.Cookies.set("upgrade_browser_modal","true","1d","/")}}}};SM.Browser.init();if(typeof module=="object"&&module.exports){module.exports=SM.Browser}if(typeof module=="object"&&module.exports&&typeof require=="function"){var SM=require("../SM");require("./object")}SM.Object=$.extend(SM.Object,{deepCopy:function(e){return $.extend(true,{},e)},copy:function(e){return $.extend({},e)},update:function(e,t){$.extend(e,t)},deepUpdate:function(e,t){var i=Array.prototype.concat.apply([true],arguments);return $.extend.apply($,i)},extend:function(e,t){var i=Array.prototype.concat.apply([{}],arguments);return $.extend.apply($,i)},deepExtend:function(e,t){var i=Array.prototype.concat.apply([true,{}],arguments);return $.extend.apply($,i)}});if(typeof module=="object"&&module.exports){module.exports=SM.Object}if(typeof module=="object"&&module.exports&&typeof require=="function"){var SM=require("../SM")}SM.KeyCodes={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS:20,ESCAPE:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,AMPERSAND:55,A:65,C:67,V:86,X:88,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,LESS_THAN:188,GREATER_THAN:190,COMMAND:224,isNonAdditiveKey:function(e){return e===SM.KeyCodes.BACKSPACE||e===SM.KeyCodes.END||e===SM.KeyCodes.HOME||e===SM.KeyCodes.LEFT||e===SM.KeyCodes.UP||e===SM.KeyCodes.RIGHT||e===SM.KeyCodes.DOWN||e===SM.KeyCodes.DELETE},getEscapedHtmlContentCharLength:function(e){switch(e){case SM.KeyCodes.AMPERSAND:return 5;case SM.KeyCodes.LESS_THAN:case SM.KeyCodes.GREATER_THAN:return 4;default:return undefined}}};if(typeof module=="object"&&module.exports){module.exports=SM.KeyCodes}if(typeof module=="object"&&module.exports&&typeof require=="function"){var SM=require("../SM")}SM.PubSub={$document:$(window.document),subscribe:function(e,t,i){if(!this.on){return this}if(e===null||e===undefined){throw new Error("SM.PubSub: subscribing to a null or undefined event")}if(t===undefined||t===null){throw new Error("SM.PubSub: subscribing to "+e+"without a callback")}if(arguments.length===3){this.$document.on(e,i,t)}else{this.$document.on(e,t)}return this},unsubscribe:function(e,t){if(!this.on){return this}if(e===null||e===undefined){throw new Error("SM.PubSub: unsubscribing to a null or undefined event")}if(arguments.length===2){this.$document.off(e,t)}else{this.$document.off(e)}},publish:function(e){var t={};if(!this.on){return this}if(e===null||e===undefined){throw new Error("SM.PubSub: publishing a null or undefined event")}if(typeof e==="string"){t.type=e}else{if(e.type===null||e.type===undefined){throw new Error("SM.PubSub: publishing a null or undefined event")}t=e}this.$document.trigger(t);return this},time:function(e,t,i){var n,r,s=$.Deferred();if(!this.on){return this}if(arguments.length===3){SM.PubSub.subscribe(e,function(e){n=(new Date).getTime()},i);SM.PubSub.subscribe(t,function(e){r=(new Date).getTime()-n;s.notify(r,e)},i)}else{SM.PubSub.subscribe(e,function(e){n=(new Date).getTime()});SM.PubSub.subscribe(t,function(e){r=(new Date).getTime()-n;s.notify(r,e)})}return s},on:true};if(typeof module=="object"&&module.exports){module.exports=SM.PubSub}if(typeof module=="object"&&module.exports&&typeof require=="function"){var SM=require("../SM")}SM.Widget={__NAME:undefined,__init:undefined,__destroy:undefined,__setters:undefined,__getters:undefined,__counter:0,__defaults:undefined,el:undefined,$el:undefined,__settings:undefined,__uid:undefined,get:function(e,t){var i=this.__getters;if(e===undefined){return}if(i&&i[e]){return i[e](this,t)}else{return this.__settings[e]}},set:function(e,t){var i=this.__setters;if(arguments.length===2){if(i&&i[e]){i[e](this,t)}else{this.__settings[e]=t}}return this},destroy:function(){if(this.__destroy){this.__destroy()}},__$document:$(document),__subscribe:function(e,t,i){if(!i){i={}}if(e===undefined){throw new Error("__subscribe: tried to subscribe to undefined event")}if(t===undefined){throw new Error("__subscribe: subscribing with an undefined callback")}i[this.__NAME]=this;i["self"]=this;SM.PubSub.subscribe(e+"."+this.__NAME+this.__uid,t,i);return this},__unsubscribe:function(e,t){if(e===undefined){throw new Error("__unsubscribe: tried to unsubscribe to undefined event")}SM.PubSub.unsubscribe(e+"."+this.__NAME+this.__uid,t);return this},__trigger:function(e){var t={};if(e===undefined){throw new Error("__trigger: tried to trigger an undefined event")}if(typeof e==="string"){t.type=this.__NAME+"."+e}else{if(e.type===undefined){throw new Error("__trigger: tried to trigger an undefined event")}t=e;t.type=this.__NAME+"."+e.type}t[this.__NAME]=this;this.$el.trigger(t);return this},subscribe:function(){this.__subscribe.apply(this,arguments);return this},trigger:function(){this.__trigger.apply(this,arguments);return this},unsubscribe:function(){this.__unsubscribe.apply(this,arguments);return this},bind:function(e,t,i){if(arguments.length===2){i=t;if(typeof i!=="function"){throw new Error("bind takes event, delegate, callback or event, callback")}this.$el.on(e,{self:this},i)}else if(arguments.length===3){this.$el.on(e,t,{self:this},i)}else{throw new Error("bind takes event, delegate, callback or event, callback")}return this},__initSettings:function(e){var t,i,n;this.__settings={};if(e){i={};n={};if(this.__defaults){for(t in this.__defaults){if(this.__defaults.hasOwnProperty(t)&&e.hasOwnProperty(t)){n[t]=e[t]}}for(t in e){if(e.hasOwnProperty(t)&&!this.__defaults.hasOwnProperty(t)){i[t]=e[t]}}this.__settings=SM.Object.deepExtend(this.__defaults,n)}else{i=e}SM.Object.update(this.__settings,i)}else if(this.__defaults){this.__settings=SM.Object.deepCopy(this.__defaults)}}};SM.Widgets={register:function(e){e=SM.Object.extend(SM.Widget,e);if(!e.__NAME){throw new Error("the __NAME property must be defined")}e.__counter=0;this._extendjQuery(e);return e},extend:function(e,t){var i=SM.Object.extend(e,t);return this.register(i)},deepExtend:function(e,t){var i=SM.Object.deepExtend(e,t);return this.register(i)},create:function(e,t,i){var n=$.data(t,e.__NAME);if(!n){n=SM.Object.create(e);n.__initSettings(i);n.__uid=e.__counter++;if(e.__counter===1&&e.__setup){e.__setup()}n.el=t;n.$el=$(t);$.data(t,e.__NAME,n);if(i===undefined){i={}}if(e.__init){n.__init(i)}n.$el.on("remove",function(){n.destroy()})}return n},_extendjQuery:function(e){var t=this.create;if($.fn[e.__NAME]){throw new Error("class with this name already exists")}$.fn[e.__NAME]=function(i){function n(n,r){t(e,r,i)}return this.each(n)}}};if(typeof module=="object"&&module.exports){module.exports.Widget=SM.Widget;module.exports.Widgets=SM.Widgets}if(typeof module=="object"&&module.exports&&typeof require=="function"){var SM=require("../SM")}SM.Html={rtagName:/<([\w:]+)/,rhtml:/<|&#?\w+;/,rxhtmlTag:/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wrapMap:{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},support:{},tagRexExes:{},safeFrag:null,init:function(){this._featureTest();this._extendWrapMap();this.safeFrag=document.createDocumentFragment()},hasTag:function(e,t){return this.findFirstTag(e,t)?true:false},findFirstTag:function(e,t){var i;t=t.toLowerCase();if(!this.tagRexExes[t]){this.tagRexExes[t]=new RegExp("<"+t+"\\s+(.*?)[^<]\\/?>","i")}i=this.tagRexExes[t].exec(e);return i?i[0]:null},getFirstTagName:function(e){return(this.rtagName.exec(e)||["",""])[1].toLowerCase()},removeExternalAttributes:function(e){return e.replace(/\s+(src|href)=/gi," data-src=")},strip:function(e,t){var i,n,r;if(!e){return""}if(t===undefined){t=true}i=document.createElement("div");e=this.removeExternalAttributes(e);i.innerHTML=e;r=i.textContent||i.innerText;if(t){while(r!==i.innerHTML&&r!==n){n=r;i.innerHTML=r;r=i.textContent||i.innerText}}return r===null||r===undefined?"":r},has:function(e){return this.rhtml.test(e)},parse:function(e){var t,i,n,r,s,o,a,l,u,f,c=[];if(!e||typeof e!=="string"){return[]}if(!this.has(e)){return[document.createTextNode(e)]}i=this.safeFrag;t=i.appendChild(document.createElement("div"));e=e.replace(this.rxhtmlTag,"<$1></$2>");n=this.getFirstTagName(e);r=this.wrapMap[n]||this.wrapMap._default;s=r[0];t.innerHTML=r[1]+e+r[2];while(s--){t=t.lastChild}if(!this.tbodySupport){o=this.hasTag(e,"tbody");if(n==="table"&&!o){a=t.firstChild&&t.firstChild.childNodes}else if(r[1]==="<table>"&&!o){a=t.childNodes}else{a=[]}for(u=a.length-1;u>=0;--u){l=a[u];if(l.nodeName&&l.nodeName.toUpperCase()==="tbody".toUpperCase()&&!l.childNodes.length){l.parentNode.removeChild(l)}}}e=t.childNodes;f=e.length;for(u=0;u<f;u++){c[u]=e[u]}t=i.lastChild;i.removeChild(t);e=t=i=null;return c},_featureTest:function(){var e=document.createElement("div");e.innerHTML="<link/><table></table>";this.support.htmlSerialize=!!e.getElementsByTagName("link").length;this.support.tbody=!e.getElementsByTagName("tbody").length},_extendWrapMap:function(){var e=this.wrapMap;e.optgroup=e.option;e.tbody=e.tfoot=e.colgroup=e.caption=e.thead;e.th=e.td;if(!this.support.htmlSerialize){e._default=[1,"X<div>","</div>"]}}};SM.Html.init();if(typeof module=="object"&&module.exports){module.exports=SM.Html}if(typeof module=="object"&&module.exports&&typeof require=="function"){var SM=require("../SM");require("./string");require("./html")}SM.Template={r_mustache_html_whitespace:/(([#\/\^!][^<]*%>)|([^%]>))(\s+)((<[^%])|(<%(?=[#\/\^!])))/g,
whitespaceFunc:function(){return arguments[0].replace(arguments[4],"")},render:function(e,t,i){var n,r;if(!this._templates[e]){n=document.getElementById(e);if(!n){throw new Error("Template not found, id: "+e)}r=n.innerHTML;if(n.getAttribute("remove-ws")){r=r.replace(this.r_mustache_html_whitespace,this.whitespaceFunc)}r=SM.String.trim(r);this._templates[e]=r}if(t===undefined){return this._templates[e]}return Mustache.render(this._templates[e],t,i)},renderHTML:function(e,t){var i=this.render(e,t),n=SM.Html.parse(i)[0];n.parentNode.removeChild(n);return n},_templates:{}};if(typeof module=="object"&&module.exports){module.exports=SM.Template}if(typeof module=="object"&&module.exports&&typeof require=="function"){var SM=require("../SM");require("./object");require("./widget");require("./template")}SM.View=SM.Object.extend(SM.Widget,{__templateID:undefined,__beforeRender:function(e){return this.__settings},__render:function(e){return SM.Template.renderHTML(this.__templateID,e)},__afterRender:function(e){},__update:function(e){var t=this.__beforeRender(e),i=this.el.tagName.toLowerCase(),n=i==="input"||i==="button",r=this.__render(t),s=r.attributes,o,a,l=this,u=s.length,f=0;try{for(;f<u;f++){o=s[f];a=r.getAttributeNode(o.name);if(a&&(a.nodeValue||a.nodeValue==="")&&!(n&&o.name.toLowerCase()==="type")){if(o.name==="class"){this.el.className=o.value}else{this.el.setAttribute(o.name,o.value)}}}}catch(e){SM.Error.log(e,"Error setting attribute: "+o.name+", value: "+o.name)}this.$el.html(r.innerHTML);this.__afterRender(t)},render:function(){this.__update.apply(this,arguments)},destroy:function(){this.clearBindings();if(this.__destroy){this.__destroy()}},bindModel:function(){var e,t,i,n;if(arguments.length<3){throw new Error("requires at least 3 arguments")}e=arguments[0];i=arguments[1];n=arguments[arguments.length-1];if(!$.isFunction(e.on)){throw new Error("the first argument was not a model")}if(typeof i!=="string"){throw new Error("the second argument was not an event string")}if(!$.isFunction(n)){throw new Error("the last argument was not a callback function")}t=Array.prototype.slice.call(arguments,0);t[1]=t[1]+"."+this.__NAME+this.__uid;e.on.apply(e,t.slice(1));this.__bindings.push(t)},unbindModel:function(){var e,t,i;if(arguments.length<2){throw new Error("requires at least 2 arguments")}e=arguments[0];i=arguments[1];if(arguments.length>2){t=arguments[arguments.length-1]}if(!$.isFunction(e.on)){throw new Error("the first argument was not a model")}if(typeof i!=="string"){throw new Error("the second argument was not an event string")}if(t&&!$.isFunction(t)){throw new Error("the last argument was not a callback function")}this.__removeBinding(e,i,t)},clearBindings:function(){if(this.__bindings.length){$.each(this.__bindings,function(e,t){var i=t[0],n=t[1],r=t[t.length-1];i.off(n,r)});this.__bindings=[]}},__removeBinding:function(e,t,i){var n=t+"."+this.__NAME+this.__uid,r=this.__bindings,s,o=0,a,l,u;for(;o<r.length;o++){s=r[o];l=s[0],a=s[1],u=s[s.length-1];if(l===e&&a===n){if(i){if(i===u){l.off(a,u);r.splice(o,1);o--}}else{l.off(a);r.splice(o,1);o--}}}}});SM.Views={register:function(e){if(!e.__NAME){throw new Error("the __NAME property must be defined")}if(!e.__templateID){throw new Error("the __templateID property must be defined")}e=SM.Object.extend(SM.View,e);e.__counter=0;return e},extend:function(e,t){var i=SM.Object.extend(e,t);return this.register(i)},deepExtend:function(e,t){var i=SM.Object.deepExtend(e,t);return this.register(i)},create:function(e,t){var i,n,r,s;if(e.__counter===0&&e.__setup){e.__setup()}i=SM.Object.create(e);if(t&&t.templateID){i.__templateID=t.templateID}i.__bindings=[];i.__initSettings(t);t=t||{};if(t.model){if(e.__model===undefined){throw new Error("SM.Views.create: if model option is given your view must define a __model property")}i[e.__model]=t.model}i.__uid=e.__counter++;if(typeof i.__create==="function"){i.__create(t)}s=i.__beforeRender(t);i.el=i.__render(s);i.$el=$(i.el);i.__afterRender(s);i.$el.attr("view-role",e.__NAME);$.data(i.el,e.__NAME,i);if(e.__init){i.__init(t)}i.$el.on("remove",{self:this},function(){i.destroy()});return i}};if(typeof module=="object"&&module.exports){module.exports.View=SM.View;module.exports.Views=SM.Views}if(typeof module=="object"&&module.exports&&typeof require=="function"){var SM=require("../SM");require("./keycode")}SM.A11y={checkClick:function(e){var t;if(e.type==="click"){return true}else if(e.type==="keydown"){t=e.which||e.keyCode||e.charCode;if(t===SM.KeyCodes.SPACE||t===SM.KeyCodes.ENTER){return true}}else{return false}},checkSubmit:function(e){var t=e.which||e.keyCode||e.charCode;return t===SM.KeyCodes.ENTER}};if(typeof module=="object"&&module.exports){module.exports=SM.A11y}(function(e){var t=window.getSelection?false:true;var i=function(e){var i;if(t){i=document.body.createTextRange();i.moveToElementText(e)}else{i=document.createRange();i.selectNodeContents(e)}return i};var n=function(){var e=a();if(t){return e.createRange()}else{if(e.rangeCount===0){return document.createRange()}else{return e.getRangeAt(0)}}};var r=function(i,r){var s=r?r:n();var o=e.parseHTML(i)[0];if(t){s.collapse(true);s.pasteHTML(i)}else{s.collapse(false);s.insertNode(o)}};var s=function(i,r){var s=r?r:n();var o=e.parseHTML(i)[0];if(t){s.pasteHTML(i)}else{s.deleteContents();s.insertNode(o)}};var o=function(e,i,n){var r;if(i){e.collapse(n)}if(t){e.select()}else{r=window.getSelection();r.removeAllRanges();r.addRange(e)}};var a=function(){if(t){return document.selection}else{return window.getSelection()}};e.extend({selectedRange:function(e){if(e){var t=false;o(e,t)}else{return n()}},getRangeText:function(e){if(t){return e.text}else{return e.toString()}},insertHtmlAtSelection:function(e,t,i){if(t){r(e,i)}else{s(e,i)}}});e.fn.extend({selection:function(e){var t,n;return this.each(function(r,s){var a=i(s);if(s.tagName.toLowerCase()==="input"){switch(e){case"all":s.select();return;case"start":s.focus();return;default:return this}}else{switch(e){case"all":t=false;break;case"start":t=true;n=true;break;case"end":t=true;n=false;break;default:return this}o(a,t,n)}})}})})(jQuery);SM.BaseMenuView=SM.Views.register({__NAME:"baseMenuView",__templateID:"base-menu-template"});SM.OptionMenuView=SM.Object.deepExtend({__init:function(){this.bind("focusin",".option",this._onFocusIn).bind("mouseenter",".option",this._onOptionMouseEnter).bind("mouseleave",this._onMouseLeave)},__setters:{currentIndex:function(e,t){e._$options.removeClass("current");e._$options.parent().removeClass("current");if(t===-1){e._$currentOption=null}else{e._$currentOption=e._$options.eq(t).addClass("current");e._$currentOption.parent().addClass("current")}e._currentIndex=t;e.focusOption(e._currentIndex)},selectedIndex:function(e,t){e._setSelectedIndex(t)}},__getters:{currentIndex:function(e,t){return e._currentIndex}},nextCurrent:function(){var e=this._currentIndex;if(e<this._optionCount-1){this.set("currentIndex",e+1);this.scrollToItem(this._currentIndex)}},prevCurrent:function(){var e=this._currentIndex;if(e>0){this.set("currentIndex",e-1);this.scrollToItem(this._currentIndex)}},selectCurrent:function(){if(this._$currentOption){this._$currentOption.click()}},_$selectedOption:undefined,_$currentOption:undefined,_$options:undefined,_currentIndex:-1,_selectedIndex:-1,_optionCount:0,_refreshOptionData:function(){this._$options=this.$el.find(".option").not(".disabled");this._optionCount=this._$options.length;return this},_setSelectedIndex:function(e){this._$options.removeClass("selected");if(e>=0&&e<this._optionCount){this._$selectedOption=this._$options.eq(e).addClass("selected")}else{this._$selectedOption=undefined}this._selectedIndex=e;return this},scrollToItem:function(e){var t=this.el,i=this._$options.eq(e).parent()[0];if(t.scrollHeight<=t.offsetHeight){return}if(i.offsetTop<t.scrollTop){t.scrollTop=i.offsetTop}else if(i.offsetTop+i.offsetHeight>t.scrollTop+t.clientHeight){t.scrollTop=i.offsetTop+i.offsetHeight-t.clientHeight}return this},focusOption:function(e){var t=this._$options.eq(e);t.focus()},_onOptionMouseEnter:function(e){var t=e.data.self,i=$(this);if(i.hasClass("disabled")){return}t.set("currentIndex",t._$options.index(i))},_onFocusIn:function(e){e.stopPropagation()},_onMouseLeave:function(e){var t=e.data.self;t.set("currentIndex",-1)}});SM.ActionMenuView=SM.Views.deepExtend(SM.OptionMenuView,{__NAME:"actionMenuView",__templateID:"action-menu-template",__defaults:{preventFocusOnLeave:false},__init:function(){SM.OptionMenuView.__init.call(this);this.bind("click",".option",this._onOptionClick)},__afterRender:function(){this._refreshOptionData();if(this.__settings.saveState){if(this.__settings.selectedAction){this._setSelectedAction(this.__settings.selectedAction,true)}else{this._setSelectedIndex(-1,true)}}},__setters:{selectedAction:function(e,t){e._setSelectedAction(t,false)},selectedIndex:function(e,t){e._setSelectedIndex(t,false)},actions:function(e,t){e.__settings.actions=t;e.render()}},hasAction:function(e){return this.$el.find('[data-action="'+e+'"]').length>0},actionHasSubMenu:function(e){var t=this._getActionSubmenu(e);return t&&t.actions&&t.actions.length},openSelectedSubmenu:function(){var e=this,t,i=this.__settings.selectedAction,n=this._getActionSubmenu(i),r;if(n&&n.actions&&n.actions.length){t=this.$el.find('[data-action="'+i+'"]');r=t.data("actionMenu");if(!r){n=$.extend({parentMenu:e},n);t.actionMenu(n).on("actionMenu.beforeOpen",function(t){e.trigger({type:"beforeSubmenuOpen",actionSubmenu:r})}).on("actionMenu.afterOpen",function(t){e.trigger({type:"submenuOpened",actionSubmenu:r})}).on("actionMenu.actionSelected",function(t){e.trigger({type:"actionSelected",action:t.action,$action:t.$action})}).on("actionMenu.afterClose",function(){e.trigger("submenuClosed")});r=t.data("actionMenu")}r.open()}},_getActionSubmenu:function(e){var t=this.__settings.actions||[],i;for(i=0;i<t.length;i++){if(t[i].action===e){return t[i].submenu}}return null},_setSelectedAction:function(e,t){var i=-1,n=this.$el.find('[data-action="'+e+'"]');if(n.length){i=this._$options.index(n)}if(this.__settings.saveState){this._setSelectedIndex(i,t)}this.__settings.selectedAction=e;if(!t&&!(i>=0&&this.__settings.saveState)&&!this.actionHasSubMenu(e)){this.trigger({type:"actionSelected",action:e,$action:n})}},_setSelectedIndex:function(e,t){var i;if(this.__settings.saveState){SM.OptionMenuView._setSelectedIndex.call(this,e)}if(e>=0&&e<this._optionCount){i=this._$options.eq(e);this.__settings.selectedAction=i.attr("data-action");if(!t){this.trigger({type:"actionSelected",action:i.attr("data-action"),$action:i})}}},_onOptionClick:function(e){var t=e.data.self,i=$(this),n,r=i.attr("href"),s=i.attr("data-action");if(r){n=r.split("#");if(n.length<2){if(i.hasClass("disabled")){e.preventDefault();e.stopPropagation()}else{t.trigger("optionClicked")}return}}e.preventDefault();e.stopPropagation();if(i.hasClass("disabled")){return}t.set("selectedAction",s);if(t.actionHasSubMenu(s)){t.openSelectedSubmenu()}else{t.trigger("optionClicked")}},_onMouseLeave:function(e){var t=e.data.self;if(!t.__settings.preventFocusOnLeave){SM.OptionMenuView._onMouseLeave.call(t,e)}}});SM.DialogView=SM.Views.deepExtend({__NAME:"dialog",__templateID:"dialog-template",__defaults:{isModal:false,isFixed:true,noOverlay:false,width:350,position:{my:"center",at:"center",collision:"none"},fixedPosition:null,easyClose:true,closeBtn:true},_hasShownOnce:false,__afterRender:function(){var e;this.$el.css("width",this.__settings.width);if(this.__settings.title){this.$el.attr("title",this.__settings.title)}e=this.$el.attr("title");if(e){this._addTitlebar(e);this.$el.removeAttr("title")}if(this.__settings.closeBtn){this._addCloseBtn()}if(this._hasShownOnce){this.$el.addClass("open");this.$el.removeClass("close")}else{this.$el.addClass("close");this.$el.removeClass("open")}},__onBeforeOpen:function(){var e=this;$(window).on(SM.Event.RESIZE+"."+this.__NAME+this.__uid,{self:this},this._onResize);this.subscribe(SM.Event.KEYDOWN,this._onOpenKeydown);this.$el.on("click",".dialog-close-btn",{self:this},this._onCloseClick)},__onAfterOpen:function(){},__onBeforeClose:function(){$(window).off(SM.Event.RESIZE+"."+this.__NAME+this.__uid,this._onResize);this.unsubscribe(SM.Event.KEYDOWN,this._onOpenKeydown);this.$el.off("click",this._onCloseClick)},__onAfterClose:function(){},__onWindowResize:function(e){if(!this.__settings.noOverlay){this.position()}},open:function(e){if(this._isOpen){return this}if(e){SM.Object.update(this.__settings,e)}this.trigger("beforeOpen");this.__onBeforeOpen();this._open();return this},update:function(e){if(e.title){this._updateTitlebar(e.title)}},close:function(){var e=$.Event("beforeClose",{dialog:this});if(!this._isOpen){return this}this.trigger(e);if(e.isDefaultPrevented()){return this}this.__onBeforeClose();this._close();return this},position:function(){var e;if(!this.__settings.position.of){this.__settings.position.of=window}e=$.migrationFixPosition({my:this.__settings.position.my,at:this.__settings.position.at,of:this.__settings.position.of,offset:this.__settings.position.offset,within:this.__settings.position.within,collision:this.__settings.position.collision});this.$el.position(e);this.trigger("position")},isOpen:function(){return this._isOpen},_$overlay:null,_isOpen:false,_open:function(){var e,t,i=this;e=SM.Template.renderHTML("dialog-container-template");this._$dialogContainer=$(e);this._$dialogContainer.appendTo(document.body);if(!this.__settings.noOverlay){t=SM.Template.renderHTML("dialog-overlay-template",{isModal:this.__settings.isModal});this._$overlay=$(t);if(this.$el.hasClass("dialog-b")){this._$overlay.addClass("dialog-overlay-b")}this._$overlay.appendTo(this._$dialogContainer);if(this.__settings.easyClose){this._$overlay.on("click",{self:this},i._onOverlayClick)}}else{this._$dialogContainer.addClass("no-overlay")}if(this.__settings.isModal&&this.__settings.isFixed){$("body").addClass("sm-fixed-dialog-modal")}this.$el.appendTo(this._$dialogContainer);setTimeout(function(){i._fadeIn()},0)},_close:function(){var e=this;if(this._$overlay){this._$overlay.removeClass("open")}this.$el.removeClass("open");this.$el.addClass("close");this._isOpen=false;this._hasShownOnce=false;if(this.__settings.isModal){$("body").removeClass("sm-fixed-dialog-modal")}setTimeout(function(){e._fadeOutComplete()},100)},_fadeIn:function(){if(this._$overlay){this._$overlay.addClass("open")}this.$el.addClass("open");this.$el.removeClass("close");if(this.__settings.isFixed&&!this.__settings.isModal){this.$el.closest(".dialog-container").addClass("fixed-dialog")}if(!this.__settings.noOverlay){this.position()}else if(this.__settings.fixedPosition){this._$dialogContainer.css(this.__settings.fixedPosition)}this._isOpen=true;this._hasShownOnce=true;this.trigger("afterOpen");this.__onAfterOpen()},_fadeOutComplete:function(){if(this._$overlay){this._$overlay.off("click");this._$overlay.remove();this._$overlay=null}this.$el.detach();this.trigger("afterClose");this._$dialogContainer.remove();this._$dialogContainer=null;this.__onAfterClose()},_addCloseBtn:function(){var e,t=this.$el.hasClass("dialog-b")?"dialog-close-btn-template-b":"dialog-close-btn-template";e=SM.Template.renderHTML(t);this.$el.prepend(e)},_updateTitlebar:function(e){this.$el.find(".dialog-title-bar").replaceWith(SM.Template.renderHTML("dialog-title-bar-template",{title:e}))},_addTitlebar:function(e){var t=SM.Template.renderHTML("dialog-title-bar-template",{title:e});this.$el.prepend(t)},_onCloseClick:function(e){e.data.self.close();e.preventDefault()},_onOverlayClick:function(e){e.data.self.close()},_onResize:function(e,t){var i=e.data.self;i.__onWindowResize(e,t)},_onOpenKeydown:function(e){var t=e.data.self;if(e.which===SM.KeyCodes.ESCAPE){t.close();e.preventDefault()}},_contains:function(e){return SM.DOM.contains(this.el,e)}});SM.ConfirmDialogView=SM.Views.deepExtend(SM.DialogView,{__NAME:"confirmDialog",__templateID:"confirm-dialog-template",__onBeforeOpen:function(){SM.DialogView.__onBeforeOpen.call(this);this.$el.on("click",".confirm-btn",{self:this},this._onConfirm).on("click",".cancel-btn",{self:this},this._onCancel)},__onBeforeClose:function(){SM.DialogView.__onBeforeClose.call(this);this.$el.off("click",this._onConfirm).off("click",this._onCancel)},_onCancel:function(e){e.preventDefault();e.data.self.trigger("cancel")},_onConfirm:function(e){e.preventDefault();e.data.self.trigger("confirm")}});SM.BaseMenu={__NAME:"menu",__defaults:{position:{my:"left top",at:"left bottom",offset:"0 -1"},parentEl:document.body},__init:function(){var e=this;if(this.__settings.menuView){this._menuView=this.__settings.menuView}this.bind("click",this._onClick).bind("keydown",this._onKeydown)},__onClick:function(e){e.preventDefault();if(this._isOpen){this.close()}else{this.open()}},__onClosedKeydown:function(e){var t=e.which;if(t===SM.KeyCodes.ENTER){e.preventDefault();e.stopPropagation();this.$el.click()}},__onWindowResize:function(e){this.position()},__onMenuInit:function(){},__onBeforeMenuOpen:function(){$(window).on(SM.Event.RESIZE+"."+this.__NAME+this.__uid,{self:this},this._onResize);this.subscribe(SM.Event.FOCUSIN,this._onDocumentFocusin).subscribe(SM.Event.CLICK,this._onDocumentClick).subscribe(SM.Event.KEYDOWN,this._onDocumentKeydown)},__onMenuAddedToPage:function(){},__onAfterMenuOpen:function(){},__onClickOutside:function(e){this.close()},__onFocusOutside:function(e){this.close()},__onOpenKeydown:function(e){var t=e.which;if(t===SM.KeyCodes.ESCAPE){e.preventDefault();this.close()}},__onBeforeMenuClose:function(){},__onAfterMenuClose:function(){$(window).off(SM.Event.RESIZE+"."+this.__NAME+this.__uid,this._onResize);this.unsubscribe(SM.Event.FOCUSIN,this._onDocumentFocusin).unsubscribe(SM.Event.KEYDOWN,this._onDocumentKeydown).unsubscribe(SM.Event.CLICK,this._onDocumentClick)},__setters:{position:function(e,t){SM.Object.update(e.__settings.position,t);if(e.isOpen()){e.position()}},parentEl:function(e,t){e.__settings.parentEl=t;if(e.isOpen()){e.position()}}},__getters:{menuView:function(e,t){if(!e._menu){e._initMenu()}return e._menu}},bindMenu:function(e,t){this._menu.$el.on(this._menu.__NAME+"."+e,{self:this},t);return this},open:function(){var e;if(this.$el.hasClass("disabled")){return}e=this.get("menuView");if(this._isOpen){return}this.trigger("beforeOpen");this.__onBeforeMenuOpen();e.$el.on("click",".close-menu-btn",{self:this},this._onCloseMenuClick);e.$el.appendTo(this.__settings.parentEl);this.$el.addClass("open");this.__onMenuAddedToPage();this.position();this._isOpen=true;this.trigger("afterOpen");this.__onAfterMenuOpen()},close:function(){var e;if(!this._isOpen){return}e=this.get("menuView");this.trigger("beforeClose");this.__onBeforeMenuClose();e.$el.off("click",".close-menu-btn",this._onCloseMenuClick);e.$el.detach();this._isOpen=false;this.$el.removeClass("open");this.trigger("afterClose");this.__onAfterMenuClose()},isOpen:function(){return this._isOpen},position:function(){var e;if(!this.__settings.position.of){this.__settings.position.of=this.$el}if(this.__settings.parentEl){this.__settings.position.within=this.__settings.parentEl}e=$.migrationFixPosition({my:this.__settings.position.my,at:this.__settings.position.at,of:this.__settings.position.of,offset:this.__settings.position.offset,within:this.__settings.position.within,collision:this.__settings.position.collision});this._menu.$el.position(e);this.trigger("position")},_initMenu:function(){var e;if(!this._menu){e=SM[this._menuView];if(!e){throw new Error("A menu requires a menuView key")}this._menu=SM.Views.create(e,this.__settings);this._menu.$el.css({top:0,left:0});this.trigger("menuInit");this.__onMenuInit()}return this._menu},__destroy:function(){if(this._menu){this.__onAfterMenuClose();this._isOpen=false;if(this._menu.$el){this._menu.$el.remove()}this._menu=null}this.$el.off("click",this._onClick).off("keydown",this._onKeydown).data(this.__NAME,null)},_menu:null,_menuView:"BaseMenuView",_isOpen:false,_onClick:function(e){var t=e.data.self;t.__onClick(e)},_onKeydown:function(e){var t=e.data.self;if(!t._isOpen){t.__onClosedKeydown(e)}},_onDocumentKeydown:function(e){var t=e.data.self;t.__onOpenKeydown(e)},_onDocumentClick:function(e){var t=e.data.self;if(!t._menuContains(e.target)&&!t._isStepChild(e.target)&&!t._contains(e.target)){t.__onClickOutside(e)}},_onDocumentFocusin:function(e){var t=e.data.self;if(e.target===document){return}if(!t._menuContains(e.target)&&!t._isStepChild(e.target)&&!t._contains(e.target)&&e.target.tagName.toLowerCase()!=="body"){t.__onFocusOutside(e)}},_onResize:function(e){var t=e.data.self;t.__onWindowResize(e)},_menuContains:function(e){return SM.DOM.contains(this._menu.el,e)},_isStepChild:function(e){return false},_onCloseMenuClick:function(e){e.data.self.close()},_contains:function(e){return SM.DOM.contains(this.el,e)}};SM.Menu=SM.Widgets.register(SM.BaseMenu);SM.Notifications=SM.Widgets.register({__NAME:"notification",__defaults:{openDuration:2e3,autoClose:false,closeBtn:true,disablePage:false,isOpen:false,width:300,rightDistance:0},__setters:{html:function(e,t){e.$el.html(t);e._cacheData();e._bindEvents();return e},text:function(e,t){if(e._$text.length){e._$text.text(t)}return e},heading:function(e,t){if(e._$heading.length){e._$heading.text(t)}return e}},__getters:{isOpen:function(e,t){return e.__settings.isOpen}},isOpen:false,_shownTopPosition:20,__init:function(){this._cacheData()._bindEvents();this.$el.appendTo(document.body);return this},_cacheData:function(){this._$heading=this.$el.find("h3");this._$text=this.$el.find("span.text");return this},_bindEvents:function(){var e=this,t=function(t){t.preventDefault();e.close()};if(this.__settings.autoClose){this.$el.bind(this.__NAME+".beforeOpen",function(){setTimeout(function(){e.close()},e.__settings.openDuration)})}if(this.__settings.closeBtn){if(this.$el.hasClass("closer")){this.$el.on("click",t)}this.$el.on("click",".closer",t)}return this},open:function(){if(this.isOpen){return this}this.__settings.isOpen=true;this.__trigger("beforeOpen");if(this.__settings.disablePage){this._addBackdrop()}this.$el.width(this.__settings.width);if(this.$el.hasClass("below")){this.$el.css("bottom",this._shownTopPosition)}else if(this.$el.hasClass("right")){this.$el.css("right",this.__settings.rightDistance)}else{this.$el.css("top",this._shownTopPosition)}return this},close:function(){var e=this;if(!this.__settings.isOpen){return this}e.__trigger("beforeClose");this.__settings.isOpen=false;if(this.__settings.disablePage){this._removeBackdrop()}if(this.$el.hasClass("below")){this.$el.css("bottom",-this.$el.outerHeight()*2)}else if(this.$el.hasClass("right")){this.$el.css("right",-this.$el.outerWidth()*2)}else{this.$el.css("top",-this.$el.outerHeight()*2)}setTimeout(function(){e.__trigger("afterClose")},500);return this},_addBackdrop:function(){this._$backdrop=$("<div>").addClass("notification-backdrop");this._$backdrop.appendTo(document.body);return this},_removeBackdrop:function(){this._$backdrop.remove();return this}});SM.SideTab=SM.Widgets.register({__NAME:"sideTab",__init:function(){var e=this,t;if(SM.Browser.isIE7){return}if(!this._supportsMediaQuery){this._bindWindowResize()}this.$el.appendTo(document.body);t=this._getBottomValue();this.$el.css("bottom",t);setTimeout(function(){var t=e._getRightValues();e.$el.css("right",t.normal);e.$el.hover(function(){e.$el.addClass("fast").css("right",t.hover)},function(){e.$el.css("right",t.normal)});if(!e._supportsMediaQuery){e._hasShown=true;e._$window.trigger("resize")}},1800)},_supportsMediaQuery:SM.Browser.support.mediaQuery(),_$window:$(window),MIN_SCREEN_WIDTH:1040,INITIAL_BOTTOM:30,SPACING:7,_bindWindowResize:function(){var e=this;this._hasShown=false;this._$window.on("resize",function(t){if(e._hasShown){if(e._$window.width()>e.MIN_SCREEN_WIDTH){e.$el.show()}else{e.$el.hide()}}})},_getRightValues:function(){var e=this.$el.outerWidth(),t=this.$el.outerHeight(),i,n;if(SM.Browser.isIE8){n=-1*(t-e)}else{n=-1*((e-t)/2)}i=Math.floor(n);n=i-5;return{hover:i,normal:i-5}},_getBottomValue:function(){var e=this.$el.prev(".sidetab"),t;if(e.length){t=this._getPreviousTopValue(e)+this.SPACING}else{t=this.INITIAL_BOTTOM}return t+this._getRotationAdjustment()},_getRotationAdjustment:function(){var e=this.$el.outerWidth(),t=this.$el.outerHeight();if(SM.Browser.isIE8){return t-e}else{return e-(e+t)/2}},_getPreviousTopValue:function(e){var t=e.outerWidth(),i=e.outerHeight(),n=parseInt(e.css("bottom"),10),r;if(SM.Browser.isIE8){r=t;return r+n}else{r=(t+i)/2;return r+n}}});SM.ActionMenu=SM.Widgets.deepExtend(SM.BaseMenu,{__NAME:"actionMenu",__defaults:{saveState:false,selectedAction:null},__onMenuInit:function(){this.bindMenu("actionSelected",this._onActionSelected).bindMenu("optionClicked",this._onOptionClicked).bindMenu("beforeSubmenuOpen",this._onBeforeSubmenuOpen).bindMenu("submenuOpened",this._onSubmenuOpened).bindMenu("submenuClosed",this._onSubmenuClosed);this.activeSubmenu=null;this._isSubmenuOpen=false},__setters:{selectedAction:function(e,t){var i=e.get("menuView");i.set("selectedAction",t)},actions:function(e,t){var i=e.get("menuView");i.set("actions",t)}},_onOptionClicked:function(e){var t=e.data.self;t.$el.focus();t.close()},closeSubmenus:function(){if(this.activeSubmenu){this.activeSubmenu.closeSubmenus();this.activeSubmenu.close()}},hasAction:function(e){var t=this.get("menuView");return t.hasAction(e)},_getCurrentAction:function(){var e=this.__settings.actions,t;if(this._menu){t=this._menu.get("currentIndex")}if(t&&e&&e[t]){return e[t]}return null},_getCurrentActionSubmenu:function(){var e=this._getCurrentAction();if(e&&e.submenu&&e.submenu.actions&&e.submenu.actions.length){return e.submenu}return null},_isSubmenu:function(){return!!this.__settings.parentMenu},_menuView:"ActionMenuView",_onActionSelected:function(e){var t=e.data.self;if(t.__settings.saveState&&t.__settings.selectedAction===e.action){return}if(t.__settings.saveState){t.__settings.selectedAction=e.action}t.trigger({type:"actionSelected",action:e.action,$action:e.$action})},_onBeforeSubmenuOpen:function(e){var t=e.data.self;if(t.activeSubmenu){t.activeSubmenu.close()}},_onSubmenuOpened:function(e){var t=e.data.self;t.activeSubmenu=e.actionSubmenu;t.activeSubmenu.bindMenu("actionSelected",function(e){t.close()});t._isSubmenuOpen=true;t.trigger("submenuOpened")},_onSubmenuClosed:function(e){var t=e.data.self;t.activeSubmenu=null;t._isSubmenuOpen=false},__onOpenKeydown:function(e){var t=e.which,i=this._getCurrentAction();SM.BaseMenu.__onOpenKeydown.call(this,e);if(!this._isSubmenuOpen){if(t===SM.KeyCodes.DOWN){this._menu.nextCurrent();e.preventDefault()}else if(t===SM.KeyCodes.UP){this._menu.prevCurrent();e.preventDefault()}else if(t===SM.KeyCodes.LEFT&&this._isSubmenu()){this.close();e.preventDefault()}else if(t===SM.KeyCodes.ENTER||t===SM.KeyCodes.RIGHT&&this._getCurrentActionSubmenu()){this._menu.selectCurrent();e.preventDefault()}}},__onBeforeMenuClose:function(){SM.BaseMenu.__onBeforeMenuClose.call(this);this.closeSubmenus()},__onAfterMenuClose:function(){SM.BaseMenu.__onAfterMenuClose.call(this);if(this._menu){this._menu.set("currentIndex",-1)}}});SM.Popout=SM.Widgets.register({__NAME:"popout",__defaults:{tipSideX:"left",tipSideY:"top",parentElement:document.body,offsetX:null,offsetY:null,at:"left top",showDelayTime:750,hideDelayTime:500,collision:"flip flip",tipOrientation:"leftright",autoClose:true,preventClick:true},__init:function(e){this.$el.on("mouseenter.popout open.popout",{popout:this},this._onMouseenter).on("close.popout",{popout:this},this._onCloseClick);if(this.__settings.preventClick){this.$el.on("click.popout",this._onClick)}if(this.__settings.autoClose){this.$el.on("mouseleave.popout",{popout:this},this._onMouseleave)}},__destroy:function(){this.$el.off(".popout")},_isHovered:false,_isMsgSetup:false,_$msg:undefined,_offsetX:undefined,_offsetY:undefined,_tipSideX:undefined,_tipSideY:undefined,_positions:{leftright:{left:{css:"tip-left",offset:"+32",flip:"right"},right:{css:"tip-right",offset:"-15",flip:"left"},bottom:{css:"tip-bottom",offset:"+34",flip:"top"},top:{css:"tip-top",offset:"-14",flip:"bottom"}},topbottom:{left:{css:"tip-left",offset:"-14",flip:"right"},right:{css:"tip-right",offset:"+34",flip:"left"},bottom:{css:"tip-bottom",offset:"-15",flip:"top"},top:{css:"tip-top",offset:"+32",flip:"bottom"}}},_beforeShow:function(){var e=this._getPositionByOrientation(this.__settings.tipOrientation);if(this.__settings.offsetX){this._offsetX=this.__settings.offsetX}else{this._offsetX=e[this.__settings.tipSideX].offset}if(this.__settings.offsetY){this._offsetY=this.__settings.offsetY}else{this._offsetY=e[this.__settings.tipSideY].offset}this._$msg=this.$el.find(".popout");if(this._$msg.length===0){this.$el.append("<div class='popout'></div>");this._$msg=this.$el.find(".popout").html($("#"+this.$el.attr("data-help")).html())}this._$msg=this._$msg.clone();if(this.__settings.tipOrientation){this._$msg.addClass("tip-orientation-"+this.__settings.tipOrientation)}this._$msg.on("mouseenter",{popout:this},this._onMessageMouseenter).on("position.horizontal.flip",{popout:this,offsetKey:"_offsetX",tipKey:"tipSideX"},this._onMessageFlip).on("position.vertical.flip",{popout:this,offsetKey:"_offsetY",tipKey:"tipSideY"},this._onMessageFlip).on("click",".close",{popout:this},this._onCloseClick).addClass(e[this.__settings.tipSideX].css).addClass(e[this.__settings.tipSideY].css).addClass("tip-orientation-"+this.__settings.tipOrientation).append('<span class="tip"></span>').append('<a class="close"><span aria-hidden="true"></span>Close</a>').appendTo(this.__settings.parentElement);if(this.__settings.autoClose){this._$msg.on("mouseleave",{popout:this},this._onMessageMouseleave)}this._isMsgSetup=true;return this},_show:function(){var e=this;setTimeout(function(){if(e._isHovered){e._$msg.addClass("open").position($.migrationFixPosition({my:e.__settings.tipSideX+" "+e.__settings.tipSideY,at:e.__settings.at,of:e.$el,offset:e._offsetX+" "+e._offsetY,collision:e.__settings.collision}));e.trigger("opened")}},e.get("showDelayTime"));return e},_hide:function(){var e=this;setTimeout(function(){if(!e._isHovered){if(e._$msg!==undefined){e._$msg.remove()}e._isMsgSetup=false}},e.get("hideDelayTime"));return e},_getPositionByOrientation:function(e){if(typeof this._positions[e]!=="undefined"){return this._positions[e]}else{return this._positions.leftright}},_onMessageFlip:function(e){var t=e.data.popout,i=t.__settings[e.data.tipKey],n=t._getPositionByOrientation(t.__settings.tipOrientation),r=n[i],s=n[r.flip];t[e.data.offsetKey]=s.offset;t._$msg.removeClass(r.css).addClass(s.css)},_onMouseenter:function(e){var t=e.data.popout;t._isHovered=true;if(!t._isMsgSetup){t._beforeShow()._show()}},_onMouseleave:function(e){var t=e.data.popout;t._isHovered=false;t._hide()},_onMessageMouseenter:function(e){var t=e.data.popout;t._isHovered=true},_onMessageMouseleave:function(e){var t=e.data.popout;t._isHovered=false;t._hide()},_onCloseClick:function(e){var t=e.data.popout;t._isHovered=false;t._$msg.remove();t._isMsgSetup=false;e.stopPropagation()},_onClick:function(e){e.preventDefault();e.stopPropagation()}});(function(){"use strict";var e={};e.parse=function(e){if(typeof e!=="string"){return{}}e=e.trim().replace(/^(\?|#)/,"");if(!e){return{}}return e.trim().split("&").reduce(function(e,t){var i=t.replace(/\+/g," ").split("=");var n=i[0];var r=i[1];n=decodeURIComponent(n);r=r===undefined?null:decodeURIComponent(r);if(!e.hasOwnProperty(n)){e[n]=r}else if(Array.isArray(e[n])){e[n].push(r)}else{e[n]=[e[n],r]}return e},{})};e.stringify=function(e){return e?Object.keys(e).map(function(t){var i=e[t];if(Array.isArray(i)){return i.map(function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&")}return encodeURIComponent(t)+"="+encodeURIComponent(i)}).join("&"):""};if(typeof define==="function"&&define.amd){define(function(){return e})}else if(typeof module!=="undefined"&&module.exports){module.exports=e}else{window.queryString=e}})();(function(){var e=this;var t=e._
;var i={};var n=Array.prototype,r=Object.prototype,s=Function.prototype;var o=n.push,a=n.slice,l=n.concat,u=r.toString,f=r.hasOwnProperty;var c=n.forEach,h=n.map,d=n.reduce,p=n.reduceRight,g=n.filter,m=n.every,_=n.some,v=n.indexOf,y=n.lastIndexOf,b=Array.isArray,w=Object.keys,x=s.bind;var E=function(e){if(e instanceof E)return e;if(!(this instanceof E))return new E(e);this._wrapped=e};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=E}exports._=E}else{e._=E}E.VERSION="1.4.4";var M=E.each=E.forEach=function(e,t,n){if(e==null)return;if(c&&e.forEach===c){e.forEach(t,n)}else if(e.length===+e.length){for(var r=0,s=e.length;r<s;r++){if(t.call(n,e[r],r,e)===i)return}}else{for(var o in e){if(E.has(e,o)){if(t.call(n,e[o],o,e)===i)return}}}};E.map=E.collect=function(e,t,i){var n=[];if(e==null)return n;if(h&&e.map===h)return e.map(t,i);M(e,function(e,r,s){n[n.length]=t.call(i,e,r,s)});return n};var S="Reduce of empty array with no initial value";E.reduce=E.foldl=E.inject=function(e,t,i,n){var r=arguments.length>2;if(e==null)e=[];if(d&&e.reduce===d){if(n)t=E.bind(t,n);return r?e.reduce(t,i):e.reduce(t)}M(e,function(e,s,o){if(!r){i=e;r=true}else{i=t.call(n,i,e,s,o)}});if(!r)throw new TypeError(S);return i};E.reduceRight=E.foldr=function(e,t,i,n){var r=arguments.length>2;if(e==null)e=[];if(p&&e.reduceRight===p){if(n)t=E.bind(t,n);return r?e.reduceRight(t,i):e.reduceRight(t)}var s=e.length;if(s!==+s){var o=E.keys(e);s=o.length}M(e,function(a,l,u){l=o?o[--s]:--s;if(!r){i=e[l];r=true}else{i=t.call(n,i,e[l],l,u)}});if(!r)throw new TypeError(S);return i};E.find=E.detect=function(e,t,i){var n;A(e,function(e,r,s){if(t.call(i,e,r,s)){n=e;return true}});return n};E.filter=E.select=function(e,t,i){var n=[];if(e==null)return n;if(g&&e.filter===g)return e.filter(t,i);M(e,function(e,r,s){if(t.call(i,e,r,s))n[n.length]=e});return n};E.reject=function(e,t,i){return E.filter(e,function(e,n,r){return!t.call(i,e,n,r)},i)};E.every=E.all=function(e,t,n){t||(t=E.identity);var r=true;if(e==null)return r;if(m&&e.every===m)return e.every(t,n);M(e,function(e,s,o){if(!(r=r&&t.call(n,e,s,o)))return i});return!!r};var A=E.some=E.any=function(e,t,n){t||(t=E.identity);var r=false;if(e==null)return r;if(_&&e.some===_)return e.some(t,n);M(e,function(e,s,o){if(r||(r=t.call(n,e,s,o)))return i});return!!r};E.contains=E.include=function(e,t){if(e==null)return false;if(v&&e.indexOf===v)return e.indexOf(t)!=-1;return A(e,function(e){return e===t})};E.invoke=function(e,t){var i=a.call(arguments,2);var n=E.isFunction(t);return E.map(e,function(e){return(n?t:e[t]).apply(e,i)})};E.pluck=function(e,t){return E.map(e,function(e){return e[t]})};E.where=function(e,t,i){if(E.isEmpty(t))return i?null:[];return E[i?"find":"filter"](e,function(e){for(var i in t){if(t[i]!==e[i])return false}return true})};E.findWhere=function(e,t){return E.where(e,t,true)};E.max=function(e,t,i){if(!t&&E.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.max.apply(Math,e)}if(!t&&E.isEmpty(e))return-Infinity;var n={computed:-Infinity,value:-Infinity};M(e,function(e,r,s){var o=t?t.call(i,e,r,s):e;o>=n.computed&&(n={value:e,computed:o})});return n.value};E.min=function(e,t,i){if(!t&&E.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.min.apply(Math,e)}if(!t&&E.isEmpty(e))return Infinity;var n={computed:Infinity,value:Infinity};M(e,function(e,r,s){var o=t?t.call(i,e,r,s):e;o<n.computed&&(n={value:e,computed:o})});return n.value};E.shuffle=function(e){var t;var i=0;var n=[];M(e,function(e){t=E.random(i++);n[i-1]=n[t];n[t]=e});return n};var C=function(e){return E.isFunction(e)?e:function(t){return t[e]}};E.sortBy=function(e,t,i){var n=C(t);return E.pluck(E.map(e,function(e,t,r){return{value:e,index:t,criteria:n.call(i,e,t,r)}}).sort(function(e,t){var i=e.criteria;var n=t.criteria;if(i!==n){if(i>n||i===void 0)return 1;if(i<n||n===void 0)return-1}return e.index<t.index?-1:1}),"value")};var T=function(e,t,i,n){var r={};var s=C(t||E.identity);M(e,function(t,o){var a=s.call(i,t,o,e);n(r,a,t)});return r};E.groupBy=function(e,t,i){return T(e,t,i,function(e,t,i){(E.has(e,t)?e[t]:e[t]=[]).push(i)})};E.countBy=function(e,t,i){return T(e,t,i,function(e,t){if(!E.has(e,t))e[t]=0;e[t]++})};E.sortedIndex=function(e,t,i,n){i=i==null?E.identity:C(i);var r=i.call(n,t);var s=0,o=e.length;while(s<o){var a=s+o>>>1;i.call(n,e[a])<r?s=a+1:o=a}return s};E.toArray=function(e){if(!e)return[];if(E.isArray(e))return a.call(e);if(e.length===+e.length)return E.map(e,E.identity);return E.values(e)};E.size=function(e){if(e==null)return 0;return e.length===+e.length?e.length:E.keys(e).length};E.first=E.head=E.take=function(e,t,i){if(e==null)return void 0;return t!=null&&!i?a.call(e,0,t):e[0]};E.initial=function(e,t,i){return a.call(e,0,e.length-(t==null||i?1:t))};E.last=function(e,t,i){if(e==null)return void 0;if(t!=null&&!i){return a.call(e,Math.max(e.length-t,0))}else{return e[e.length-1]}};E.rest=E.tail=E.drop=function(e,t,i){return a.call(e,t==null||i?1:t)};E.compact=function(e){return E.filter(e,E.identity)};var k=function(e,t,i){M(e,function(e){if(E.isArray(e)){t?o.apply(i,e):k(e,t,i)}else{i.push(e)}});return i};E.flatten=function(e,t){return k(e,t,[])};E.without=function(e){return E.difference(e,a.call(arguments,1))};E.uniq=E.unique=function(e,t,i,n){if(E.isFunction(t)){n=i;i=t;t=false}var r=i?E.map(e,i,n):e;var s=[];var o=[];M(r,function(i,n){if(t?!n||o[o.length-1]!==i:!E.contains(o,i)){o.push(i);s.push(e[n])}});return s};E.union=function(){return E.uniq(l.apply(n,arguments))};E.intersection=function(e){var t=a.call(arguments,1);return E.filter(E.uniq(e),function(e){return E.every(t,function(t){return E.indexOf(t,e)>=0})})};E.difference=function(e){var t=l.apply(n,a.call(arguments,1));return E.filter(e,function(e){return!E.contains(t,e)})};E.zip=function(){var e=a.call(arguments);var t=E.max(E.pluck(e,"length"));var i=new Array(t);for(var n=0;n<t;n++){i[n]=E.pluck(e,""+n)}return i};E.object=function(e,t){if(e==null)return{};var i={};for(var n=0,r=e.length;n<r;n++){if(t){i[e[n]]=t[n]}else{i[e[n][0]]=e[n][1]}}return i};E.indexOf=function(e,t,i){if(e==null)return-1;var n=0,r=e.length;if(i){if(typeof i=="number"){n=i<0?Math.max(0,r+i):i}else{n=E.sortedIndex(e,t);return e[n]===t?n:-1}}if(v&&e.indexOf===v)return e.indexOf(t,i);for(;n<r;n++)if(e[n]===t)return n;return-1};E.lastIndexOf=function(e,t,i){if(e==null)return-1;var n=i!=null;if(y&&e.lastIndexOf===y){return n?e.lastIndexOf(t,i):e.lastIndexOf(t)}var r=n?i:e.length;while(r--)if(e[r]===t)return r;return-1};E.range=function(e,t,i){if(arguments.length<=1){t=e||0;e=0}i=arguments[2]||1;var n=Math.max(Math.ceil((t-e)/i),0);var r=0;var s=new Array(n);while(r<n){s[r++]=e;e+=i}return s};E.bind=function(e,t){if(e.bind===x&&x)return x.apply(e,a.call(arguments,1));var i=a.call(arguments,2);return function(){return e.apply(t,i.concat(a.call(arguments)))}};E.partial=function(e){var t=a.call(arguments,1);return function(){return e.apply(this,t.concat(a.call(arguments)))}};E.bindAll=function(e){var t=a.call(arguments,1);if(t.length===0)t=E.functions(e);M(t,function(t){e[t]=E.bind(e[t],e)});return e};E.memoize=function(e,t){var i={};t||(t=E.identity);return function(){var n=t.apply(this,arguments);return E.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}};E.delay=function(e,t){var i=a.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)};E.defer=function(e){return E.delay.apply(E,[e,1].concat(a.call(arguments,1)))};E.throttle=function(e,t){var i,n,r,s;var o=0;var a=function(){o=new Date;r=null;s=e.apply(i,n)};return function(){var l=new Date;var u=t-(l-o);i=this;n=arguments;if(u<=0){clearTimeout(r);r=null;o=l;s=e.apply(i,n)}else if(!r){r=setTimeout(a,u)}return s}};E.debounce=function(e,t,i){var n,r;return function(){var s=this,o=arguments;var a=function(){n=null;if(!i)r=e.apply(s,o)};var l=i&&!n;clearTimeout(n);n=setTimeout(a,t);if(l)r=e.apply(s,o);return r}};E.once=function(e){var t=false,i;return function(){if(t)return i;t=true;i=e.apply(this,arguments);e=null;return i}};E.wrap=function(e,t){return function(){var i=[e];o.apply(i,arguments);return t.apply(this,i)}};E.compose=function(){var e=arguments;return function(){var t=arguments;for(var i=e.length-1;i>=0;i--){t=[e[i].apply(this,t)]}return t[0]}};E.after=function(e,t){if(e<=0)return t();return function(){if(--e<1){return t.apply(this,arguments)}}};E.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)if(E.has(e,i))t[t.length]=i;return t};E.values=function(e){var t=[];for(var i in e)if(E.has(e,i))t.push(e[i]);return t};E.pairs=function(e){var t=[];for(var i in e)if(E.has(e,i))t.push([i,e[i]]);return t};E.invert=function(e){var t={};for(var i in e)if(E.has(e,i))t[e[i]]=i;return t};E.functions=E.methods=function(e){var t=[];for(var i in e){if(E.isFunction(e[i]))t.push(i)}return t.sort()};E.extend=function(e){M(a.call(arguments,1),function(t){if(t){for(var i in t){e[i]=t[i]}}});return e};E.pick=function(e){var t={};var i=l.apply(n,a.call(arguments,1));M(i,function(i){if(i in e)t[i]=e[i]});return t};E.omit=function(e){var t={};var i=l.apply(n,a.call(arguments,1));for(var r in e){if(!E.contains(i,r))t[r]=e[r]}return t};E.defaults=function(e){M(a.call(arguments,1),function(t){if(t){for(var i in t){if(e[i]==null)e[i]=t[i]}}});return e};E.clone=function(e){if(!E.isObject(e))return e;return E.isArray(e)?e.slice():E.extend({},e)};E.tap=function(e,t){t(e);return e};var R=function(e,t,i,n){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e instanceof E)e=e._wrapped;if(t instanceof E)t=t._wrapped;var r=u.call(e);if(r!=u.call(t))return false;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var s=i.length;while(s--){if(i[s]==e)return n[s]==t}i.push(e);n.push(t);var o=0,a=true;if(r=="[object Array]"){o=e.length;a=o==t.length;if(a){while(o--){if(!(a=R(e[o],t[o],i,n)))break}}}else{var l=e.constructor,f=t.constructor;if(l!==f&&!(E.isFunction(l)&&l instanceof l&&E.isFunction(f)&&f instanceof f)){return false}for(var c in e){if(E.has(e,c)){o++;if(!(a=E.has(t,c)&&R(e[c],t[c],i,n)))break}}if(a){for(c in t){if(E.has(t,c)&&!o--)break}a=!o}}i.pop();n.pop();return a};E.isEqual=function(e,t){return R(e,t,[],[])};E.isEmpty=function(e){if(e==null)return true;if(E.isArray(e)||E.isString(e))return e.length===0;for(var t in e)if(E.has(e,t))return false;return true};E.isElement=function(e){return!!(e&&e.nodeType===1)};E.isArray=b||function(e){return u.call(e)=="[object Array]"};E.isObject=function(e){return e===Object(e)};M(["Arguments","Function","String","Number","Date","RegExp"],function(e){E["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}});if(!E.isArguments(arguments)){E.isArguments=function(e){return!!(e&&E.has(e,"callee"))}}if(typeof/./!=="function"){E.isFunction=function(e){return typeof e==="function"}}E.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};E.isNaN=function(e){return E.isNumber(e)&&e!=+e};E.isBoolean=function(e){return e===true||e===false||u.call(e)=="[object Boolean]"};E.isNull=function(e){return e===null};E.isUndefined=function(e){return e===void 0};E.has=function(e,t){return f.call(e,t)};E.noConflict=function(){e._=t;return this};E.identity=function(e){return e};E.times=function(e,t,i){var n=Array(e);for(var r=0;r<e;r++)n[r]=t.call(i,r);return n};E.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};P.unescape=E.invert(P.escape);var q={escape:new RegExp("["+E.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+E.keys(P.unescape).join("|")+")","g")};E.each(["escape","unescape"],function(e){E[e]=function(t){if(t==null)return"";return(""+t).replace(q[e],function(t){return P[e][t]})}});E.result=function(e,t){if(e==null)return null;var i=e[t];return E.isFunction(i)?i.call(e):i};E.mixin=function(e){M(E.functions(e),function(t){var i=E[t]=e[t];E.prototype[t]=function(){var e=[this._wrapped];o.apply(e,arguments);return N.call(this,i.apply(E,e))}})};var I=0;E.uniqueId=function(e){var t=++I+"";return e?e+t:t};E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/;var j={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var D=/\\|'|\r|\n|\t|\u2028|\u2029/g;E.template=function(e,t,i){var n;i=E.defaults({},i,E.templateSettings);var r=new RegExp([(i.escape||O).source,(i.interpolate||O).source,(i.evaluate||O).source].join("|")+"|$","g");var s=0;var o="__p+='";e.replace(r,function(t,i,n,r,a){o+=e.slice(s,a).replace(D,function(e){return"\\"+j[e]});if(i){o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"}if(n){o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"}if(r){o+="';\n"+r+"\n__p+='"}s=a+t.length;return t});o+="';\n";if(!i.variable)o="with(obj||{}){\n"+o+"}\n";o="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=new Function(i.variable||"obj","_",o)}catch(e){e.source=o;throw e}if(t)return n(t,E);var a=function(e){return n.call(this,e,E)};a.source="function("+(i.variable||"obj")+"){\n"+o+"}";return a};E.chain=function(e){return E(e).chain()};var N=function(e){return this._chain?E(e).chain():e};E.mixin(E);M(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];E.prototype[e]=function(){var i=this._wrapped;t.apply(i,arguments);if((e=="shift"||e=="splice")&&i.length===0)delete i[0];return N.call(this,i)}});M(["concat","join","slice"],function(e){var t=n[e];E.prototype[e]=function(){return N.call(this,t.apply(this._wrapped,arguments))}});E.extend(E.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);(function(){var e=this;var t=e.Backbone;var i=[];var n=i.push;var r=i.slice;var s=i.splice;var o;if(typeof exports!=="undefined"){o=exports}else{o=e.Backbone={}}o.VERSION="1.1.0";var a=e._;if(!a&&typeof require!=="undefined")a=require("underscore");o.$=e.jQuery||e.Zepto||e.ender||e.$;o.noConflict=function(){e.Backbone=t;return this};o.emulateHTTP=false;o.emulateJSON=false;var l=o.Events={on:function(e,t,i){if(!f(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);n.push({callback:t,context:i,ctx:i||this});return this},once:function(e,t,i){if(!f(this,"once",e,[t,i])||!t)return this;var n=this;var r=a.once(function(){n.off(e,r);t.apply(this,arguments)});r._callback=t;return this.on(e,r,i)},off:function(e,t,i){var n,r,s,o,l,u,c,h;if(!this._events||!f(this,"off",e,[t,i]))return this;if(!e&&!t&&!i){this._events={};return this}o=e?[e]:a.keys(this._events);for(l=0,u=o.length;l<u;l++){e=o[l];if(s=this._events[e]){this._events[e]=n=[];if(t||i){for(c=0,h=s.length;c<h;c++){r=s[c];if(t&&t!==r.callback&&t!==r.callback._callback||i&&i!==r.context){n.push(r)}}}if(!n.length)delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!f(this,"trigger",e,t))return this;var i=this._events[e];var n=this._events.all;if(i)c(i,t);if(n)c(n,arguments);return this},stopListening:function(e,t,i){var n=this._listeningTo;if(!n)return this;var r=!t&&!i;if(!i&&typeof t==="object")i=this;if(e)(n={})[e._listenId]=e;for(var s in n){e=n[s];e.off(t,i,this);if(r||a.isEmpty(e._events))delete this._listeningTo[s]}return this}};var u=/\s+/;var f=function(e,t,i,n){if(!i)return true;if(typeof i==="object"){for(var r in i){e[t].apply(e,[r,i[r]].concat(n))}return false}if(u.test(i)){var s=i.split(u);for(var o=0,a=s.length;o<a;o++){e[t].apply(e,[s[o]].concat(n))}return false}return true};var c=function(e,t){var i,n=-1,r=e.length,s=t[0],o=t[1],a=t[2];switch(t.length){case 0:while(++n<r)(i=e[n]).callback.call(i.ctx);return;case 1:while(++n<r)(i=e[n]).callback.call(i.ctx,s);return;case 2:while(++n<r)(i=e[n]).callback.call(i.ctx,s,o);return;case 3:while(++n<r)(i=e[n]).callback.call(i.ctx,s,o,a);return;default:while(++n<r)(i=e[n]).callback.apply(i.ctx,t)}};var h={listenTo:"on",listenToOnce:"once"};a.each(h,function(e,t){l[t]=function(t,i,n){var r=this._listeningTo||(this._listeningTo={});var s=t._listenId||(t._listenId=a.uniqueId("l"));r[s]=t;if(!n&&typeof i==="object")n=this;t[e](i,n,this);return this}});l.bind=l.on;l.unbind=l.off;a.extend(o,l);var d=o.Model=function(e,t){var i=e||{};t||(t={});this.cid=a.uniqueId("c");this.attributes={};if(t.collection)this.collection=t.collection;if(t.parse)i=this.parse(i,t)||{};i=a.defaults({},i,a.result(this,"defaults"));this.set(i,t);this.changed={};this.initialize.apply(this,arguments)};a.extend(d.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return a.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,i){var n,r,s,o,l,u,f,c;if(e==null)return this;if(typeof e==="object"){r=e;i=t}else{(r={})[e]=t}i||(i={});if(!this._validate(r,i))return false;s=i.unset;l=i.silent;o=[];u=this._changing;this._changing=true;if(!u){this._previousAttributes=a.clone(this.attributes);this.changed={}}c=this.attributes,f=this._previousAttributes;if(this.idAttribute in r)this.id=r[this.idAttribute];for(n in r){t=r[n];if(!a.isEqual(c[n],t))o.push(n);if(!a.isEqual(f[n],t)){this.changed[n]=t}else{delete this.changed[n]}s?delete c[n]:c[n]=t}if(!l){if(o.length)this._pending=true;for(var h=0,d=o.length;h<d;h++){this.trigger("change:"+o[h],this,c[o[h]],i)}}if(u)return this;if(!l){while(this._pending){this._pending=false;this.trigger("change",this,i)}}this._pending=false;this._changing=false;return this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:true}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,a.extend({},e,{unset:true}))},hasChanged:function(e){if(e==null)return!a.isEmpty(this.changed);return a.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this.changed):false;var t,i=false;var n=this._changing?this._previousAttributes:this.attributes;for(var r in e){if(a.isEqual(n[r],t=e[r]))continue;(i||(i={}))[r]=t}return i},previous:function(e){if(e==null||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=e?a.clone(e):{};if(e.parse===void 0)e.parse=true;var t=this;var i=e.success;e.success=function(n){if(!t.set(t.parse(n,e),e))return false;if(i)i(t,n,e);t.trigger("sync",t,n,e)};L(this,e);return this.sync("read",this,e)},save:function(e,t,i){var n,r,s,o=this.attributes;if(e==null||typeof e==="object"){n=e;i=t}else{(n={})[e]=t}i=a.extend({validate:true},i);if(n&&!i.wait){if(!this.set(n,i))return false}else{if(!this._validate(n,i))return false}if(n&&i.wait){this.attributes=a.extend({},o,n)}if(i.parse===void 0)i.parse=true;var l=this;var u=i.success;i.success=function(e){l.attributes=o;var t=l.parse(e,i);if(i.wait)t=a.extend(n||{},t);if(a.isObject(t)&&!l.set(t,i)){return false}if(u)u(l,e,i);l.trigger("sync",l,e,i)};L(this,i);r=this.isNew()?"create":i.patch?"patch":"update";if(r==="patch")i.attrs=n;s=this.sync(r,this,i);if(n&&i.wait)this.attributes=o;return s},destroy:function(e){e=e?a.clone(e):{};var t=this;var i=e.success;var n=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(r){if(e.wait||t.isNew())n();if(i)i(t,r,e);if(!t.isNew())t.trigger("sync",t,r,e)};if(this.isNew()){e.success();return false}L(this,e);var r=this.sync("delete",this,e);if(!e.wait)n();return r},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||N();if(this.isNew())return e;return e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return this._validate({},a.extend(e||{},{validate:true}))},_validate:function(e,t){if(!t.validate||!this.validate)return true;e=a.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;if(!i)return true;this.trigger("invalid",this,i,a.extend(t,{validationError:i}));return false}});var p=["keys","values","pairs","invert","pick","omit"];a.each(p,function(e){d.prototype[e]=function(){var t=r.call(arguments);t.unshift(this.attributes);return a[e].apply(a,t)}});var g=o.Collection=function(e,t){t||(t={});if(t.model)this.model=t.model;if(t.comparator!==void 0)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,a.extend({silent:true},t))};var m={add:true,remove:true,merge:true};var _={add:true,remove:false};a.extend(g.prototype,l,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.extend({merge:false},t,_))},remove:function(e,t){var i=!a.isArray(e);e=i?[e]:a.clone(e);t||(t={});var n,r,s,o;for(n=0,r=e.length;n<r;n++){o=e[n]=this.get(e[n]);if(!o)continue;delete this._byId[o.id];delete this._byId[o.cid];s=this.indexOf(o);this.models.splice(s,1);this.length--;if(!t.silent){t.index=s;o.trigger("remove",o,this,t)}this._removeReference(o)}return i?e[0]:e},set:function(e,t){t=a.defaults({},t,m);if(t.parse)e=this.parse(e,t);var i=!a.isArray(e);e=i?e?[e]:[]:a.clone(e);var n,r,s,o,l,u,f;var c=t.at;var h=this.model;var p=this.comparator&&c==null&&t.sort!==false;var g=a.isString(this.comparator)?this.comparator:null;var _=[],v=[],y={};var b=t.add,w=t.merge,x=t.remove;var E=!p&&b&&x?[]:false;for(n=0,r=e.length;n<r;n++){l=e[n];if(l instanceof d){s=o=l}else{s=l[h.prototype.idAttribute]}if(u=this.get(s)){if(x)y[u.cid]=true;if(w){l=l===o?o.attributes:l;if(t.parse)l=u.parse(l,t);u.set(l,t);if(p&&!f&&u.hasChanged(g))f=true}e[n]=u}else if(b){o=e[n]=this._prepareModel(l,t);if(!o)continue;_.push(o);o.on("all",this._onModelEvent,this);this._byId[o.cid]=o;if(o.id!=null)this._byId[o.id]=o}if(E)E.push(u||o)}if(x){for(n=0,r=this.length;n<r;++n){if(!y[(o=this.models[n]).cid])v.push(o)}if(v.length)this.remove(v,t)}if(_.length||E&&E.length){if(p)f=true;this.length+=_.length;if(c!=null){for(n=0,r=_.length;n<r;n++){this.models.splice(c+n,0,_[n])}}else{if(E)this.models.length=0;var M=E||_;for(n=0,r=M.length;n<r;n++){this.models.push(M[n])}}}if(f)this.sort({silent:true});if(!t.silent){for(n=0,r=_.length;n<r;n++){(o=_[n]).trigger("add",o,this,t)}if(f||E&&E.length)this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,n=this.models.length;i<n;i++){this._removeReference(this.models[i])}t.previousModels=this.models;this._reset();e=this.add(e,a.extend({silent:true},t));if(!t.silent)this.trigger("reset",this,t);return e},push:function(e,t){return this.add(e,a.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);this.remove(t,e);return t},unshift:function(e,t){return this.add(e,a.extend({at:0},t))},shift:function(e){var t=this.at(0);this.remove(t,e);return t},slice:function(){return r.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;return this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){if(a.isEmpty(e))return t?void 0:[];return this[t?"find":"filter"](function(t){for(var i in e){if(e[i]!==t.get(i))return false}return true})},findWhere:function(e){return this.where(e,true)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");e||(e={});if(a.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(a.bind(this.comparator,this))}if(!e.silent)this.trigger("sort",this,e);return this},pluck:function(e){return a.invoke(this.models,"get",e)},fetch:function(e){e=e?a.clone(e):{};if(e.parse===void 0)e.parse=true;var t=e.success;var i=this;e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e);if(t)t(i,n,e);i.trigger("sync",i,n,e)};L(this,e);return this.sync("read",this,e)},create:function(e,t){t=t?a.clone(t):{};if(!(e=this._prepareModel(e,t)))return false;if(!t.wait)this.add(e,t);var i=this;var n=t.success;t.success=function(e,t,r){if(r.wait)i.add(e,r);if(n)n(e,t,r)};e.save(null,t);return e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(e,t){if(e instanceof d){if(!e.collection)e.collection=this;return e}t=t?a.clone(t):{};t.collection=this;var i=new this.model(e,t);if(!i.validationError)return i;this.trigger("invalid",this,i.validationError,t);return false},_removeReference:function(e){if(this===e.collection)delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){if((e==="add"||e==="remove")&&i!==this)return;if(e==="destroy")this.remove(t,n);if(t&&e==="change:"+t.idAttribute){delete this._byId[t.previous(t.idAttribute)];if(t.id!=null)this._byId[t.id]=t}this.trigger.apply(this,arguments)}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(v,function(e){g.prototype[e]=function(){var t=r.call(arguments);t.unshift(this.models);return a[e].apply(a,t)}});var y=["groupBy","countBy","sortBy"];a.each(y,function(e){g.prototype[e]=function(t,i){var n=a.isFunction(t)?t:function(e){return e.get(t)};return a[e](this.models,n,i)}});var b=o.View=function(e){this.cid=a.uniqueId("view");e||(e={});a.extend(this,a.pick(e,x));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var w=/^(\S+)\s*(.*)$/;var x=["model","collection","el","id","attributes","className","tagName","events"];a.extend(b.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(e,t){if(this.$el)this.undelegateEvents();this.$el=e instanceof o.$?e:o.$(e);this.el=this.$el[0];if(t!==false)this.delegateEvents();return this},delegateEvents:function(e){if(!(e||(e=a.result(this,"events"))))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(!a.isFunction(i))i=this[e[t]];if(!i)continue;var n=t.match(w);var r=n[1],s=n[2];i=a.bind(i,this);r+=".delegateEvents"+this.cid;if(s===""){this.$el.on(r,i)}else{this.$el.on(r,s,i)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var e=a.extend({},a.result(this,"attributes"));if(this.id)e.id=a.result(this,"id");if(this.className)e["class"]=a.result(this,"className");var t=o.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(t,false)}else{this.setElement(a.result(this,"el"),false)}}});o.sync=function(e,t,i){var n=M[e];a.defaults(i||(i={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var r={type:n,dataType:"json"};if(!i.url){r.url=a.result(t,"url")||N()}if(i.data==null&&t&&(e==="create"||e==="update"||e==="patch")){r.contentType="application/json";r.data=JSON.stringify(i.attrs||t.toJSON(i))}if(i.emulateJSON){r.contentType="application/x-www-form-urlencoded";r.data=r.data?{model:r.data}:{}}if(i.emulateHTTP&&(n==="PUT"||n==="DELETE"||n==="PATCH")){r.type="POST";if(i.emulateJSON)r.data._method=n;var s=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",n);if(s)return s.apply(this,arguments)}}if(r.type!=="GET"&&!i.emulateJSON){r.processData=false}if(r.type==="PATCH"&&E){r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var l=i.xhr=o.ajax(a.extend(r,i));t.trigger("request",t,l,i);return l};var E=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var M={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var S=o.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var A=/\((.*?)\)/g;var C=/(\(\?)?:\w+/g;var T=/\*\w+/g;var k=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(S.prototype,l,{initialize:function(){},route:function(e,t,i){if(!a.isRegExp(e))e=this._routeToRegExp(e);if(a.isFunction(t)){i=t;t=""}if(!i)i=this[t];var n=this;o.history.route(e,function(r){var s=n._extractParameters(e,r);i&&i.apply(n,s);n.trigger.apply(n,["route:"+t].concat(s));n.trigger("route",t,s);o.history.trigger("route",n,t,s)});return this},navigate:function(e,t){o.history.navigate(e,t);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=a.result(this,"routes");var e,t=a.keys(this.routes);while((e=t.pop())!=null){this.route(e,this.routes[e])}},_routeToRegExp:function(e){e=e.replace(k,"\\$&").replace(A,"(?:$1)?").replace(C,function(e,t){return t?e:"([^/]+)"}).replace(T,"(.*?)");return new RegExp("^"+e+"$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return a.map(i,function(e){return e?decodeURIComponent(e):null})}});var R=o.History=function(){this.handlers=[];a.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var P=/^[#\/]|\s+$/g;var q=/^\/+|\/+$/g;var I=/msie [\w.]+/;var O=/\/$/;var j=/[?#].*$/;R.started=false;a.extend(R.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null){if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var i=this.root.replace(O,"");if(!e.indexOf(i))e=e.slice(i.length)}else{e=this.getHash()}}return e.replace(P,"")},start:function(e){if(R.started)throw new Error("Backbone.history has already been started");R.started=true;this.options=a.extend({root:"/"},this.options,e);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment();var i=document.documentMode;var n=I.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(q,"/");if(n&&this._wantsHashChange){this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(t)}if(this._hasPushState){o.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!n){o.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=t;var r=this.location;var s=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!s){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else if(this._hasPushState&&s&&r.hash){this.fragment=this.getHash().replace(P,"");this.history.replaceState({},document.title,this.root+this.fragment+r.search)}}if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);R.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){
t=this.getFragment(this.getHash(this.iframe))}if(t===this.fragment)return false;if(this.iframe)this.navigate(t);this.loadUrl()},loadUrl:function(e){e=this.fragment=this.getFragment(e);return a.any(this.handlers,function(t){if(t.route.test(e)){t.callback(e);return true}})},navigate:function(e,t){if(!R.started)return false;if(!t||t===true)t={trigger:!!t};var i=this.root+(e=this.getFragment(e||""));e=e.replace(j,"");if(this.fragment===e)return;this.fragment=e;if(e===""&&i!=="/")i=i.slice(0,-1);if(this._hasPushState){this.history[t.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getFragment(this.getHash(this.iframe))){if(!t.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,e,t.replace)}}else{return this.location.assign(i)}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else{e.hash="#"+t}}});o.history=new R;var D=function(e,t){var i=this;var n;if(e&&a.has(e,"constructor")){n=e.constructor}else{n=function(){return i.apply(this,arguments)}}a.extend(n,i,t);var r=function(){this.constructor=n};r.prototype=i.prototype;n.prototype=new r;if(e)a.extend(n.prototype,e);n.__super__=i.prototype;return n};d.extend=g.extend=S.extend=b.extend=R.extend=D;var N=function(){throw new Error('A "url" property or function must be specified')};var L=function(e,t){var i=t.error;t.error=function(n){if(i)i(e,n,t);e.trigger("error",e,n,t)}}}).call(this);(function(e,t){var i=0,n=/^ui-id-\d+$/;e.ui=e.ui||{};e.extend(e.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});e.fn.extend({focus:function(t){return function(i,n){return typeof i==="number"?this.each(function(){var t=this;setTimeout(function(){e(t).focus();if(n){n.call(t)}},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;if(e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))){t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0)}else{t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0)}return/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t){return this.css("zIndex",i)}if(this.length){var n=e(this[0]),r,s;while(n.length&&n[0]!==document){r=n.css("position");if(r==="absolute"||r==="relative"||r==="fixed"){s=parseInt(n.css("zIndex"),10);if(!isNaN(s)&&s!==0){return s}}n=n.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++i}})},removeUniqueId:function(){return this.each(function(){if(n.test(this.id)){e(this).removeAttr("id")}})}});function r(t,i){var n,r,o,a=t.nodeName.toLowerCase();if("area"===a){n=t.parentNode;r=n.name;if(!t.href||!r||n.nodeName.toLowerCase()!=="map"){return false}o=e("img[usemap=#"+r+"]")[0];return!!o&&s(o)}return(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return r(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),n=isNaN(i);return(n||i>=0)&&r(t,!n)}});if(!e("<a>").outerWidth(1).jquery){e.each(["Width","Height"],function(i,n){var r=n==="Width"?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function a(t,i,n,s){e.each(r,function(){i-=parseFloat(e.css(t,"padding"+this))||0;if(n){i-=parseFloat(e.css(t,"border"+this+"Width"))||0}if(s){i-=parseFloat(e.css(t,"margin"+this))||0}});return i}e.fn["inner"+n]=function(i){if(i===t){return o["inner"+n].call(this)}return this.each(function(){e(this).css(s,a(this,i)+"px")})};e.fn["outer"+n]=function(t,i){if(typeof t!=="number"){return o["outer"+n].call(this,t)}return this.each(function(){e(this).css(s,a(this,t,true,i)+"px")})}})}if(!e.fn.addBack){e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}if(e("<a>").data("a-b","a").removeData("a-b").data("a-b")){e.fn.removeData=function(t){return function(i){if(arguments.length){return t.call(this,e.camelCase(i))}else{return t.call(this)}}}(e.fn.removeData)}e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());e.support.selectstart="onselectstart"in document.createElement("div");e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});e.extend(e.ui,{plugin:{add:function(t,i,n){var r,s=e.ui[t].prototype;for(r in n){s.plugins[r]=s.plugins[r]||[];s.plugins[r].push([i,n[r]])}},call:function(e,t,i){var n,r=e.plugins[t];if(!r||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11){return}for(n=0;n<r.length;n++){if(e.options[r[n][0]]){r[n][1].apply(e.element,i)}}}},hasScroll:function(t,i){if(e(t).css("overflow")==="hidden"){return false}var n=i&&i==="left"?"scrollLeft":"scrollTop",r=false;if(t[n]>0){return true}t[n]=1;r=t[n]>0;t[n]=0;return r}})})(jQuery);(function(e,t){var i=0,n=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var i=0,n;(n=t[i])!=null;i++){try{e(n).triggerHandler("remove")}catch(e){}}r(t)};e.widget=function(t,i,n){var r,s,o,a,l={},u=t.split(".")[0];t=t.split(".")[1];r=u+"-"+t;if(!n){n=i;i=e.Widget}e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)};e[u]=e[u]||{};s=e[u][t];o=e[u][t]=function(e,t){if(!this._createWidget){return new o(e,t)}if(arguments.length){this._createWidget(e,t)}};e.extend(o,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]});a=new i;a.options=e.widget.extend({},a.options);e.each(n,function(t,n){if(!e.isFunction(n)){l[t]=n;return}l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},r=function(e){return i.prototype[t].apply(this,e)};return function(){var t=this._super,i=this._superApply,s;this._super=e;this._superApply=r;s=n.apply(this,arguments);this._super=t;this._superApply=i;return s}}()});o.prototype=e.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix:t},l,{constructor:o,namespace:u,widgetName:t,widgetFullName:r});if(s){e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)});delete s._childConstructors}else{i._childConstructors.push(o)}e.widget.bridge(t,o)};e.widget.extend=function(i){var r=n.call(arguments,1),s=0,o=r.length,a,l;for(;s<o;s++){for(a in r[s]){l=r[s][a];if(r[s].hasOwnProperty(a)&&l!==t){if(e.isPlainObject(l)){i[a]=e.isPlainObject(i[a])?e.widget.extend({},i[a],l):e.widget.extend({},l)}else{i[a]=l}}}}return i};e.widget.bridge=function(i,r){var s=r.prototype.widgetFullName||i;e.fn[i]=function(o){var a=typeof o==="string",l=n.call(arguments,1),u=this;o=!a&&l.length?e.widget.extend.apply(null,[o].concat(l)):o;if(a){this.each(function(){var n,r=e.data(this,s);if(!r){return e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+o+"'")}if(!e.isFunction(r[o])||o.charAt(0)==="_"){return e.error("no such method '"+o+"' for "+i+" widget instance")}n=r[o].apply(r,l);if(n!==r&&n!==t){u=n&&n.jquery?u.pushStack(n.get()):n;return false}})}else{this.each(function(){var t=e.data(this,s);if(t){t.option(o||{})._init()}else{e.data(this,s,new r(o,this))}})}return u}};e.Widget=function(){};e.Widget._childConstructors=[];e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0];this.element=e(n);this.uuid=i++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=e.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=e();this.hoverable=e();this.focusable=e();if(n!==this){e.data(n,this.widgetFullName,this);this._on(true,this.element,{remove:function(e){if(e.target===n){this.destroy()}}});this.document=e(n.style?n.ownerDocument:n.document||n);this.window=e(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var r=i,s,o,a;if(arguments.length===0){return e.widget.extend({},this.options)}if(typeof i==="string"){r={};s=i.split(".");i=s.shift();if(s.length){o=r[i]=e.widget.extend({},this.options[i]);for(a=0;a<s.length-1;a++){o[s[a]]=o[s[a]]||{};o=o[s[a]]}i=s.pop();if(n===t){return o[i]===t?null:o[i]}o[i]=n}else{if(n===t){return this.options[i]===t?null:this.options[i]}r[i]=n}}this._setOptions(r);return this},_setOptions:function(e){var t;for(t in e){this._setOption(t,e[t])}return this},_setOption:function(e,t){this.options[e]=t;if(e==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(t,i,n){var r,s=this;if(typeof t!=="boolean"){n=i;i=t;t=false}if(!n){n=i;i=this.element;r=this.widget()}else{i=r=e(i);this.bindings=this.bindings.add(i)}e.each(n,function(n,o){function a(){if(!t&&(s.options.disabled===true||e(this).hasClass("ui-state-disabled"))){return}return(typeof o==="string"?s[o]:o).apply(s,arguments)}if(typeof o!=="string"){a.guid=o.guid=o.guid||a.guid||e.guid++}var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+s.eventNamespace,f=l[2];if(f){r.delegate(f,u,a)}else{i.bind(u,a)}})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return(typeof e==="string"?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var r,s,o=this.options[t];n=n||{};i=e.Event(i);i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase();i.target=this.element[0];s=i.originalEvent;if(s){for(r in s){if(!(r in i)){i[r]=s[r]}}}this.element.trigger(i,n);return!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===false||i.isDefaultPrevented())}};e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,s){if(typeof r==="string"){r={effect:r}}var o,a=!r?t:r===true||typeof r==="number"?i:r.effect||i;r=r||{};if(typeof r==="number"){r={duration:r}}o=!e.isEmptyObject(r);r.complete=s;if(r.delay){n.delay(r.delay)}if(o&&e.effects&&e.effects.effect[a]){n[t](r)}else if(a!==t&&n[a]){n[a](r.duration,r.easing,s)}else{n.queue(function(i){e(this)[t]();if(s){s.call(n[0])}i()})}}})})(jQuery);(function(e,t){var i=false;e(document).mouseup(function(){i=false});e.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){if(true===e.data(i.target,t.widgetName+".preventClickEvent")){e.removeData(i.target,t.widgetName+".preventClickEvent");i.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(t){if(i){return}this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var n=this,r=t.which===1,s=typeof this.options.cancel==="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:false;if(!r||s||!this._mouseCapture(t)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==false;if(!this._mouseStarted){t.preventDefault();return true}}if(true===e.data(t.target,this.widgetName+".preventClickEvent")){e.removeData(t.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(e){return n._mouseMove(e)};this._mouseUpDelegate=function(e){return n._mouseUp(e)};e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);t.preventDefault();i=true;return true},_mouseMove:function(t){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button){return this._mouseUp(t)}if(this._mouseStarted){this._mouseDrag(t);return t.preventDefault()}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==false;this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)}return!this._mouseStarted},_mouseUp:function(t){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(t.target===this._mouseDownEvent.target){e.data(t.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(t)}return false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;if(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(t);if(!this.handle){return false}e(i.iframeFix===true?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")});return true},_mouseStart:function(t){var i=this.options;this.helper=this._createHelper(t);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(e.ui.ddmanager){e.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt);if(i.containment){this._setContainment()}if(this._trigger("start",t)===false){this._clear();return false}this._cacheHelperProportions();if(e.ui.ddmanager&&!i.dropBehaviour){e.ui.ddmanager.prepareOffsets(this,t)}this._mouseDrag(t,true);if(e.ui.ddmanager){e.ui.ddmanager.dragStart(this,t)}return true},_mouseDrag:function(t,i){this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");if(!i){var n=this._uiHash();if(this._trigger("drag",t,n)===false){this._mouseUp({});return false}this.position=n.position}if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}if(e.ui.ddmanager){e.ui.ddmanager.drag(this,t)}return false},_mouseStop:function(t){var i,n=this,r=false,s=false;if(e.ui.ddmanager&&!this.options.dropBehaviour){s=e.ui.ddmanager.drop(this,t)}if(this.dropped){s=this.dropped;this.dropped=false}i=this.element[0];while(i&&(i=i.parentNode)){if(i===document){r=true}}if(!r&&this.options.helper==="original"){return false}if(this.options.revert==="invalid"&&!s||this.options.revert==="valid"&&s||this.options.revert===true||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)){e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(n._trigger("stop",t)!==false){n._clear()}})}else{if(this._trigger("stop",t)!==false){this._clear()}}return false},_mouseUp:function(t){e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(e.ui.ddmanager){e.ui.ddmanager.dragStop(this,t)}return e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:true},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):i.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!n.parents("body").length){n.appendTo(i.appendTo==="parent"?this.element[0].parentNode:i.appendTo)}if(n[0]!==this.element[0]&&!/(fixed|absolute)/.test(n.css("position"))){n.css("position","absolute")}return n},_adjustOffsetFromHelper:function(t){if(typeof t==="string"){t=t.split(" ")}if(e.isArray(t)){t={left:+t[0],top:+t[1]||0}}if("left"in t){this.offset.click.left=t.left+this.margins.left}if("right"in t){this.offset.click.left=this.helperProportions.width-t.right+this.margins.left}if("top"in t){this.offset.click.top=t.top+this.margins.top}if("bottom"in t){this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie){t={top:0,left:0}}return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;if(r.containment==="parent"){r.containment=this.helper[0].parentNode}if(r.containment==="document"||r.containment==="window"){this.containment=[r.containment==="document"?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,r.containment==="document"?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(r.containment==="document"?0:e(window).scrollLeft())+e(r.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(r.containment==="document"?0:e(window).scrollTop())+(e(r.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(r.containment)&&r.containment.constructor!==Array){i=e(r.containment);n=i[0];if(!n){return}t=e(n).css("overflow")!=="hidden";this.containment=[(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0),(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderRightWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderBottomWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=i}else if(r.containment.constructor===Array){this.containment=r.containment}},_convertPositionTo:function(t,i){if(!i){i=this.position}var n=t==="absolute"?1:-1,r=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r,s,o=this.options,a=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(a[0].tagName),u=t.pageX,f=t.pageY;if(this.originalPosition){if(this.containment){if(this.relative_container){n=this.relative_container.offset();i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]}else{i=this.containment}if(t.pageX-this.offset.click.left<i[0]){u=i[0]+this.offset.click.left}if(t.pageY-this.offset.click.top<i[1]){f=i[1]+this.offset.click.top}if(t.pageX-this.offset.click.left>i[2]){u=i[2]+this.offset.click.left}if(t.pageY-this.offset.click.top>i[3]){f=i[3]+this.offset.click.top}}if(o.grid){r=o.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;f=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r;s=o.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;u=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s}}return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(t,i,n){n=n||this._uiHash();e.ui.plugin.call(this,t,[i,n]);if(t==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),r=n.options,s=e.extend({},i,{item:n.element});n.sortables=[];e(r.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");if(i&&!i.options.disabled){n.sortables.push({instance:i,shouldRevert:i.options.revert});i.refreshPositions();i._trigger("activate",t,s)}})},stop:function(t,i){var n=e(this).data("ui-draggable"),r=e.extend({},i,{item:n.element});e.each(n.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;n.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(t);this.instance.options.helper=this.instance.options._helper;if(n.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",t,r)}})},drag:function(t,i){var n=e(this).data("ui-draggable"),r=this;e.each(n.sortables,function(){var s=false,o=this;this.instance.positionAbs=n.positionAbs;this.instance.helperProportions=n.helperProportions;this.instance.offset.click=n.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){s=true;e.each(n.sortables,function(){this.instance.positionAbs=n.positionAbs;this.instance.helperProportions=n.helperProportions;this.instance.offset.click=n.offset.click;if(this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])){s=false}return s})}if(s){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return i.helper[0]};t.target=this.instance.currentItem[0];this.instance._mouseCapture(t,true);this.instance._mouseStart(t,true,true);this.instance.offset.click.top=n.offset.click.top;this.instance.offset.click.left=n.offset.click.left;this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top;n._trigger("toSortable",t);n.dropped=this.instance.element;n.currentItem=n.element;this.instance.fromOutside=n}if(this.instance.currentItem){this.instance._mouseDrag(t)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",t,this.instance._uiHash(this.instance));this.instance._mouseStop(t,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}n._trigger("fromSortable",t);n.dropped=false}}})}});e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;if(t.css("cursor")){i._cursor=t.css("cursor")}t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;if(t._cursor){e("body").css("cursor",t._cursor)}}});e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),r=e(this).data("ui-draggable").options;if(n.css("opacity")){r._opacity=n.css("opacity")}n.css("opacity",r.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;if(n._opacity){e(i.helper).css("opacity",n._opacity)}}});e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");if(t.scrollParent[0]!==document&&t.scrollParent[0].tagName!=="HTML"){t.overflowOffset=t.scrollParent.offset()}},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,r=false;if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){if(!n.axis||n.axis!=="x"){if(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity){i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop+n.scrollSpeed}else if(t.pageY-i.overflowOffset.top<n.scrollSensitivity){i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop-n.scrollSpeed}}if(!n.axis||n.axis!=="y"){if(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity){i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft+n.scrollSpeed}else if(t.pageX-i.overflowOffset.left<n.scrollSensitivity){i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft-n.scrollSpeed}}}else{if(!n.axis||n.axis!=="x"){if(t.pageY-e(document).scrollTop()<n.scrollSensitivity){r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed)}else if(e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity){r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)}}if(!n.axis||n.axis!=="y"){if(t.pageX-e(document).scrollLeft()<n.scrollSensitivity){r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed)}else if(e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity){r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)}}}if(r!==false&&e.ui.ddmanager&&!n.dropBehaviour){e.ui.ddmanager.prepareOffsets(i,t)}}});e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[];e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();if(this!==t.element[0]){t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})}})},drag:function(t,i){var n,r,s,o,a,l,u,f,c,h,d=e(this).data("ui-draggable"),p=d.options,g=p.snapTolerance,m=i.offset.left,_=m+d.helperProportions.width,v=i.offset.top,y=v+d.helperProportions.height;for(c=d.snapElements.length-1;c>=0;c--){a=d.snapElements[c].left;l=a+d.snapElements[c].width;u=d.snapElements[c].top;f=u+d.snapElements[c].height;if(!(a-g<m&&m<l+g&&u-g<v&&v<f+g||a-g<m&&m<l+g&&u-g<y&&y<f+g||a-g<_&&_<l+g&&u-g<v&&v<f+g||a-g<_&&_<l+g&&u-g<y&&y<f+g)){if(d.snapElements[c].snapping){d.options.snap.release&&d.options.snap.release.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[c].item}))}d.snapElements[c].snapping=false;continue}if(p.snapMode!=="inner"){
n=Math.abs(u-y)<=g;r=Math.abs(f-v)<=g;s=Math.abs(a-_)<=g;o=Math.abs(l-m)<=g;if(n){i.position.top=d._convertPositionTo("relative",{top:u-d.helperProportions.height,left:0}).top-d.margins.top}if(r){i.position.top=d._convertPositionTo("relative",{top:f,left:0}).top-d.margins.top}if(s){i.position.left=d._convertPositionTo("relative",{top:0,left:a-d.helperProportions.width}).left-d.margins.left}if(o){i.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left}}h=n||r||s||o;if(p.snapMode!=="outer"){n=Math.abs(u-v)<=g;r=Math.abs(f-y)<=g;s=Math.abs(a-m)<=g;o=Math.abs(l-_)<=g;if(n){i.position.top=d._convertPositionTo("relative",{top:u,left:0}).top-d.margins.top}if(r){i.position.top=d._convertPositionTo("relative",{top:f-d.helperProportions.height,left:0}).top-d.margins.top}if(s){i.position.left=d._convertPositionTo("relative",{top:0,left:a}).left-d.margins.left}if(o){i.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left}}if(!d.snapElements[c].snapping&&(n||r||s||o||h)){d.options.snap.snap&&d.options.snap.snap.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[c].item}))}d.snapElements[c].snapping=n||r||s||o||h}}});e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});if(!n.length){return}t=parseInt(e(n[0]).css("zIndex"),10)||0;e(n).each(function(i){e(this).css("zIndex",t+i)});this.css("zIndex",t+n.length)}});e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),r=e(this).data("ui-draggable").options;if(n.css("zIndex")){r._zIndex=n.css("zIndex")}n.css("zIndex",r.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;if(n._zIndex){e(i.helper).css("zIndex",n._zIndex)}}})})(jQuery);(function(e,t){function i(e,t,i){return e>t&&e<t+i}e.widget("ui.droppable",{version:"1.10.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=false;this.isout=true;this.accept=e.isFunction(i)?i:function(e){return e.is(i)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[];e.ui.ddmanager.droppables[t.scope].push(this);t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var t=0,i=e.ui.ddmanager.droppables[this.options.scope];for(;t<i.length;t++){if(i[t]===this){i.splice(t,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if(t==="accept"){this.accept=e.isFunction(i)?i:function(e){return e.is(i)}}e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(i){this._trigger("activate",t,this.ui(i))}},_deactivate:function(t){var i=e.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(i){this._trigger("deactivate",t,this.ui(i))}},_over:function(t){var i=e.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],i.currentItem||i.element)){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",t,this.ui(i))}},_out:function(t){var i=e.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],i.currentItem||i.element)){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",t,this.ui(i))}},_drop:function(t,i){var n=i||e.ui.ddmanager.current,r=false;if(!n||(n.currentItem||n.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)){r=true;return false}});if(r){return false}if(this.accept.call(this.element[0],n.currentItem||n.element)){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",t,this.ui(n));return this.element}return false},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}});e.ui.intersect=function(e,t,n){if(!t.offset){return false}var r,s,o=(e.positionAbs||e.position.absolute).left,a=o+e.helperProportions.width,l=(e.positionAbs||e.position.absolute).top,u=l+e.helperProportions.height,f=t.offset.left,c=f+t.proportions.width,h=t.offset.top,d=h+t.proportions.height;switch(n){case"fit":return f<=o&&a<=c&&h<=l&&u<=d;case"intersect":return f<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<c&&h<l+e.helperProportions.height/2&&u-e.helperProportions.height/2<d;case"pointer":r=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left;s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top;return i(s,h,t.proportions.height)&&i(r,f,t.proportions.width);case"touch":return(l>=h&&l<=d||u>=h&&u<=d||l<h&&u>d)&&(o>=f&&o<=c||a>=f&&a<=c||o<f&&a>c);default:return false}};e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,r,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<s.length;n++){if(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element)){continue}for(r=0;r<a.length;r++){if(a[r]===s[n].element[0]){s[n].proportions.height=0;continue e}}s[n].visible=s[n].element.css("display")!=="none";if(!s[n].visible){continue}if(o==="mousedown"){s[n]._activate.call(s[n],i)}s[n].offset=s[n].element.offset();s[n].proportions={width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}}},drop:function(t,i){var n=false;e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)){n=this._drop.call(this,i)||n}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)){this.isout=true;this.isover=false;this._deactivate.call(this,i)}});return n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){if(!t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,i)}})},drag:function(t,i){if(t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,i)}e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var n,r,s,o=e.ui.intersect(t,this,this.options.tolerance),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;if(!a){return}if(this.options.greedy){r=this.options.scope;s=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===r});if(s.length){n=e.data(s[0],"ui-droppable");n.greedyChild=a==="isover"}}if(n&&a==="isover"){n.isover=false;n.isout=true;n._out.call(n,i)}this[a]=true;this[a==="isout"?"isover":"isout"]=false;this[a==="isover"?"_over":"_out"].call(this,i);if(n&&a==="isout"){n.isout=false;n.isover=true;n._over.call(n,i)}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable");if(!t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,i)}}}})(jQuery);(function(e,t){function i(e){return parseInt(e,10)||0}function n(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,r,s,o=this,a=this.options;this.element.addClass("ui-resizable");e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=a.handles||(!e(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}t=this.handles.split(",");this.handles={};for(i=0;i<t.length;i++){n=e.trim(t[i]);s="ui-resizable-"+n;r=e("<div class='ui-resizable-handle "+s+"'></div>");r.css({zIndex:a.zIndex});if("se"===n){r.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[n]=".ui-resizable-"+n;this.element.append(r)}}this._renderAxis=function(t){var i,n,r,s;t=t||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=e(this.handles[i],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){n=e(this.handles[i],this.element);s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth();r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");t.css(r,s);this._proportionallyResize()}if(!e(this.handles[i]).length){continue}}};this._renderAxis(this.element);this._handles=e(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!o.resizing){if(this.className){r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}o.axis=r&&r[1]?r[1]:"se"}});if(a.autoHide){this._handles.hide();e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(a.disabled){return}e(this).removeClass("ui-resizable-autohide");o._handles.show()}).mouseleave(function(){if(a.disabled){return}if(!o.resizing){e(this).addClass("ui-resizable-autohide");o._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){i(this.element);t=this.element;this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t);t.remove()}this.originalElement.css("resize",this.originalResizeStyle);i(this.originalElement);return this},_mouseCapture:function(t){var i,n,r=false;for(i in this.handles){n=e(this.handles[i])[0];if(n===t.target||e.contains(n,t.target)){r=true}}return!this.options.disabled&&r},_mouseStart:function(t){var n,r,s,o=this.options,a=this.element.position(),l=this.element;this.resizing=true;if(/absolute/.test(l.css("position"))){l.css({position:"absolute",top:l.css("top"),left:l.css("left")})}else if(l.is(".ui-draggable")){l.css({position:"absolute",top:a.top,left:a.left})}this._renderProxy();n=i(this.helper.css("left"));r=i(this.helper.css("top"));if(o.containment){n+=e(o.containment).scrollLeft()||0;r+=e(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:n,top:r};this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()};this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()};this.originalPosition={left:n,top:r};this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()};this.originalMousePosition={left:t.pageX,top:t.pageY};this.aspectRatio=typeof o.aspectRatio==="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;s=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor",s==="auto"?this.axis+"-resize":s);l.addClass("ui-resizable-resizing");this._propagate("start",t);return true},_mouseDrag:function(t){var i,n=this.helper,r={},s=this.originalMousePosition,o=this.axis,a=this.position.top,l=this.position.left,u=this.size.width,f=this.size.height,c=t.pageX-s.left||0,h=t.pageY-s.top||0,d=this._change[o];if(!d){return false}i=d.apply(this,[t,c,h]);this._updateVirtualBoundaries(t.shiftKey);if(this._aspectRatio||t.shiftKey){i=this._updateRatio(i,t)}i=this._respectSize(i,t);this._updateCache(i);this._propagate("resize",t);if(this.position.top!==a){r.top=this.position.top+"px"}if(this.position.left!==l){r.left=this.position.left+"px"}if(this.size.width!==u){r.width=this.size.width+"px"}if(this.size.height!==f){r.height=this.size.height+"px"}n.css(r);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!e.isEmptyObject(r)){this._trigger("resize",t,this.ui())}return false},_mouseStop:function(t){this.resizing=false;var i,n,r,s,o,a,l,u=this.options,f=this;if(this._helper){i=this._proportionallyResizeElements;n=i.length&&/textarea/i.test(i[0].nodeName);r=n&&e.ui.hasScroll(i[0],"left")?0:f.sizeDiff.height;s=n?0:f.sizeDiff.width;o={width:f.helper.width()-s,height:f.helper.height()-r};a=parseInt(f.element.css("left"),10)+(f.position.left-f.originalPosition.left)||null;l=parseInt(f.element.css("top"),10)+(f.position.top-f.originalPosition.top)||null;if(!u.animate){this.element.css(e.extend(o,{top:l,left:a}))}f.helper.height(f.size.height);f.helper.width(f.size.width);if(this._helper&&!u.animate){this._proportionallyResize()}}e("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",t);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(e){var t,i,r,s,o,a=this.options;o={minWidth:n(a.minWidth)?a.minWidth:0,maxWidth:n(a.maxWidth)?a.maxWidth:Infinity,minHeight:n(a.minHeight)?a.minHeight:0,maxHeight:n(a.maxHeight)?a.maxHeight:Infinity};if(this._aspectRatio||e){t=o.minHeight*this.aspectRatio;r=o.minWidth/this.aspectRatio;i=o.maxHeight*this.aspectRatio;s=o.maxWidth/this.aspectRatio;if(t>o.minWidth){o.minWidth=t}if(r>o.minHeight){o.minHeight=r}if(i<o.maxWidth){o.maxWidth=i}if(s<o.maxHeight){o.maxHeight=s}}this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset();if(n(e.left)){this.position.left=e.left}if(n(e.top)){this.position.top=e.top}if(n(e.height)){this.size.height=e.height}if(n(e.width)){this.size.width=e.width}},_updateRatio:function(e){var t=this.position,i=this.size,r=this.axis;if(n(e.height)){e.width=e.height*this.aspectRatio}else if(n(e.width)){e.height=e.width/this.aspectRatio}if(r==="sw"){e.left=t.left+(i.width-e.width);e.top=null}if(r==="nw"){e.top=t.top+(i.height-e.height);e.left=t.left+(i.width-e.width)}return e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,r=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=n(e.width)&&t.minWidth&&t.minWidth>e.width,a=n(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,f=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);if(o){e.width=t.minWidth}if(a){e.height=t.minHeight}if(r){e.width=t.maxWidth}if(s){e.height=t.maxHeight}if(o&&f){e.left=l-t.minWidth}if(r&&f){e.left=l-t.maxWidth}if(a&&c){e.top=u-t.minHeight}if(s&&c){e.top=u-t.maxHeight}if(!e.width&&!e.height&&!e.left&&e.top){e.top=null}else if(!e.width&&!e.height&&!e.top&&e.left){e.left=null}return e},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var e,t,i,n,r,s=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){r=this._proportionallyResizeElements[e];if(!this.borderDif){this.borderDif=[];i=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")];n=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")];for(t=0;t<i.length;t++){this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0)}}r.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]);t!=="resize"&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,r=i._proportionallyResizeElements,s=r.length&&/textarea/i.test(r[0].nodeName),o=s&&e.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},u=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,f=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,f&&u?{top:f,left:u}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};if(r&&r.length){e(r[0]).css({width:n.width,height:n.height})}i._updateCache(n);i._propagate("resize",t)}})}});e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,s,o,a,l,u=e(this).data("ui-resizable"),f=u.options,c=u.element,h=f.containment,d=h instanceof e?h.get(0):/parent/.test(h)?c.parent().get(0):h;if(!d){return}u.containerElement=e(d);if(/document/.test(h)||h===document){u.containerOffset={left:0,top:0};u.containerPosition={left:0,top:0};u.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}}else{t=e(d);n=[];e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=i(t.css("padding"+r))});u.containerOffset=t.offset();u.containerPosition=t.position();u.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]};r=u.containerOffset;s=u.containerSize.height;o=u.containerSize.width;a=e.ui.hasScroll(d,"left")?d.scrollWidth:o;l=e.ui.hasScroll(d)?d.scrollHeight:s;u.parentData={element:d,left:r.left,top:r.top,width:a,height:l}}},resize:function(t){var i,n,r,s,o=e(this).data("ui-resizable"),a=o.options,l=o.containerOffset,u=o.position,f=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement;if(h[0]!==document&&/static/.test(h.css("position"))){c=l}if(u.left<(o._helper?l.left:0)){o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-c.left);if(f){o.size.height=o.size.width/o.aspectRatio}o.position.left=a.helper?l.left:0}if(u.top<(o._helper?l.top:0)){o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top);if(f){o.size.width=o.size.height*o.aspectRatio}o.position.top=o._helper?l.top:0}o.offset.left=o.parentData.left+o.position.left;o.offset.top=o.parentData.top+o.position.top;i=Math.abs((o._helper?o.offset.left-c.left:o.offset.left-c.left)+o.sizeDiff.width);n=Math.abs((o._helper?o.offset.top-c.top:o.offset.top-l.top)+o.sizeDiff.height);r=o.containerElement.get(0)===o.element.parent().get(0);s=/relative|absolute/.test(o.containerElement.css("position"));if(r&&s){i-=o.parentData.left}if(i+o.size.width>=o.parentData.width){o.size.width=o.parentData.width-i;if(f){o.size.height=o.size.width/o.aspectRatio}}if(n+o.size.height>=o.parentData.height){o.size.height=o.parentData.height-n;if(f){o.size.width=o.size.height*o.aspectRatio}}},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,r=t.containerPosition,s=t.containerElement,o=e(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,u=o.outerHeight()-t.sizeDiff.height;if(t._helper&&!i.animate&&/relative/.test(s.css("position"))){e(this).css({left:a.left-r.left-n.left,width:l,height:u})}if(t._helper&&!i.animate&&/static/.test(s.css("position"))){e(this).css({left:a.left-r.left-n.left,width:l,height:u})}}});e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};if(typeof i.alsoResize==="object"&&!i.alsoResize.parentNode){if(i.alsoResize.length){i.alsoResize=i.alsoResize[0];n(i.alsoResize)}else{e.each(i.alsoResize,function(e){n(e)})}}else{n(i.alsoResize)}},resize:function(t,i){var n=e(this).data("ui-resizable"),r=n.options,s=n.originalSize,o=n.originalPosition,a={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0},l=function(t,n){e(t).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),s={},o=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(r[t]||0)+(a[t]||0);if(i&&i>=0){s[t]=i||null}});t.css(s)})};if(typeof r.alsoResize==="object"&&!r.alsoResize.nodeType){e.each(r.alsoResize,function(e,t){l(e,t)})}else{l(r.alsoResize)}},stop:function(){e(this).removeData("resizable-alsoresize")}});e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost==="string"?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");if(t.ghost){t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})}},stop:function(){var t=e(this).data("ui-resizable");if(t.ghost&&t.helper){t.helper.get(0).removeChild(t.ghost.get(0))}}});e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,r=t.originalSize,s=t.originalPosition,o=t.axis,a=typeof i.grid==="number"?[i.grid,i.grid]:i.grid,l=a[0]||1,u=a[1]||1,f=Math.round((n.width-r.width)/l)*l,c=Math.round((n.height-r.height)/u)*u,h=r.width+f,d=r.height+c,p=i.maxWidth&&i.maxWidth<h,g=i.maxHeight&&i.maxHeight<d,m=i.minWidth&&i.minWidth>h,_=i.minHeight&&i.minHeight>d;i.grid=a;if(m){h=h+l}if(_){d=d+u}if(p){h=h-l}if(g){d=d-u}if(/^(se|s|e)$/.test(o)){t.size.width=h;t.size.height=d}else if(/^(ne)$/.test(o)){t.size.width=h;t.size.height=d;t.position.top=s.top-c}else if(/^(sw)$/.test(o)){t.size.width=h;t.size.height=d;t.position.left=s.left-f}else{t.size.width=h;t.size.height=d;t.position.top=s.top-c;t.position.left=s.left-f}}})})(jQuery);(function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.2",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){t=e(i.options.filter,i.element[0]);t.addClass("ui-selectee");t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:false,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY];if(this.options.disabled){return}this.selectees=e(n.filter,this.element[0]);this._trigger("start",t);e(n.appendTo).append(this.helper);this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0});if(n.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=true;if(!t.metaKey&&!t.ctrlKey){n.$element.removeClass("ui-selected");n.selected=false;n.$element.addClass("ui-unselecting");n.unselecting=true;i._trigger("unselecting",t,{unselecting:n.element})}});e(t.target).parents().addBack().each(function(){var n,r=e.data(this,"selectable-item");if(r){n=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected");r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting");r.unselecting=!n;r.selecting=n;r.selected=n;if(n){i._trigger("selecting",t,{selecting:r.element})}else{i._trigger("unselecting",t,{unselecting:r.element})}return false}})},_mouseDrag:function(t){this.dragged=true;if(this.options.disabled){return}var i,n=this,r=this.options,s=this.opos[0],o=this.opos[1],a=t.pageX,l=t.pageY;if(s>a){i=a;a=s;s=i}if(o>l){i=l;l=o;o=i}this.helper.css({left:s,top:o,width:a-s,height:l-o});this.selectees.each(function(){var i=e.data(this,"selectable-item"),u=false;if(!i||i.element===n.element[0]){return}if(r.tolerance==="touch"){u=!(i.left>a||i.right<s||i.top>l||i.bottom<o)}else if(r.tolerance==="fit"){u=i.left>s&&i.right<a&&i.top>o&&i.bottom<l}if(u){if(i.selected){i.$element.removeClass("ui-selected");i.selected=false}if(i.unselecting){i.$element.removeClass("ui-unselecting");i.unselecting=false}if(!i.selecting){i.$element.addClass("ui-selecting");i.selecting=true;n._trigger("selecting",t,{selecting:i.element})}}else{if(i.selecting){if((t.metaKey||t.ctrlKey)&&i.startselected){i.$element.removeClass("ui-selecting");i.selecting=false;i.$element.addClass("ui-selected");i.selected=true}else{i.$element.removeClass("ui-selecting");i.selecting=false;if(i.startselected){i.$element.addClass("ui-unselecting");i.unselecting=true}n._trigger("unselecting",t,{unselecting:i.element})}}if(i.selected){if(!t.metaKey&&!t.ctrlKey&&!i.startselected){i.$element.removeClass("ui-selected");i.selected=false;i.$element.addClass("ui-unselecting");i.unselecting=true;n._trigger("unselecting",t,{unselecting:i.element})}}}});return false},_mouseStop:function(t){var i=this;this.dragged=false;e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting");n.unselecting=false;n.startselected=false;i._trigger("unselected",t,{unselected:n.element})});e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected");n.selecting=false;n.selected=true;n.startselected=true;i._trigger("selected",t,{selected:n.element})});this._trigger("stop",t);this.helper.remove();return false}})})(jQuery);(function(e,t){function i(e,t,i){return e>t&&e<t+i}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?e.axis==="x"||n(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--){this.items[e].item.removeData(this.widgetName+"-item")}return this},_setOption:function(t,i){if(t==="disabled"){this.options[t]=i;this.widget().toggleClass("ui-sortable-disabled",!!i)}else{e.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(t,i){var n=null,r=false,s=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(t);e(t.target).parents().each(function(){if(e.data(this,s.widgetName+"-item")===s){n=e(this);return false}});if(e.data(t.target,s.widgetName+"-item")===s){n=e(t.target)}if(!n){return false}if(this.options.handle&&!i){e(this.options.handle,n).find("*").addBack().each(function(){if(this===t.target){r=true}});if(!r){return false}}this.currentItem=n;this._removeCurrentsFromItems();return true},_mouseStart:function(t,i,n){var r,s,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(t);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position")
;this.originalPosition=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(o.containment){this._setContainment()}if(o.cursor&&o.cursor!=="auto"){s=this.document.find("body");this.storedCursor=s.css("cursor");s.css("cursor",o.cursor);this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)}if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",o.opacity)}if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",o.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",t,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!n){for(r=this.containers.length-1;r>=0;r--){this.containers[r]._trigger("activate",t,this._uiHash(this))}}if(e.ui.ddmanager){e.ui.ddmanager.current=this}if(e.ui.ddmanager&&!o.dropBehaviour){e.ui.ddmanager.prepareOffsets(this,t)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(t);return true},_mouseDrag:function(t){var i,n,r,s,o=this.options,a=false;this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed}else if(t.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed}else if(t.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed}}else{if(t.pageY-e(document).scrollTop()<o.scrollSensitivity){a=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed)}else if(e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity){a=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)}if(t.pageX-e(document).scrollLeft()<o.scrollSensitivity){a=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed)}else if(e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity){a=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed)}}if(a!==false&&e.ui.ddmanager&&!o.dropBehaviour){e.ui.ddmanager.prepareOffsets(this,t)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(i=this.items.length-1;i>=0;i--){n=this.items[i];r=n.item[0];s=this._intersectsWithPointer(n);if(!s){continue}if(n.instance!==this.currentContainer){continue}if(r!==this.currentItem[0]&&this.placeholder[s===1?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],r):true)){this.direction=s===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(n)){this._rearrange(t,n)}else{break}this._trigger("change",t,this._uiHash());break}}this._contactContainers(t);if(e.ui.ddmanager){e.ui.ddmanager.drag(this,t)}this._trigger("sort",t,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(t,i){if(!t){return}if(e.ui.ddmanager&&!this.options.dropBehaviour){e.ui.ddmanager.drop(this,t)}if(this.options.revert){var n=this,r=this.placeholder.offset(),s=this.options.axis,o={};if(!s||s==="x"){o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!s||s==="y"){o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else{this._clear(t,i)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var t=this.containers.length-1;t>=0;t--){this.containers[t]._trigger("deactivate",null,this._uiHash(this));if(this.containers[t].containerCache.over){this.containers[t]._trigger("out",null,this._uiHash(this));this.containers[t].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}e.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){e(this.domPosition.prev).after(this.currentItem)}else{e(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];t=t||{};e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);if(i){n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}});if(!n.length&&t.key){n.push(t.key+"=")}return n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];t=t||{};i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")});return n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=e.left,o=s+e.width,a=e.top,l=a+e.height,u=this.offset.click.top,f=this.offset.click.left,c=n+u>a&&n+u<l&&t+f>s&&t+f<o;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]){return c}else{return s<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l}},_intersectsWithPointer:function(e){var t=this.options.axis==="x"||i(this.positionAbs.top+this.offset.click.top,e.top,e.height),n=this.options.axis==="y"||i(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();if(!r){return false}return this.floating?o&&o==="right"||s==="down"?2:1:s&&(s==="down"?2:1)},_intersectsWithSides:function(e){var t=i(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=i(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();if(this.floating&&s){return s==="right"&&n||s==="left"&&!n}else{return r&&(r==="down"&&t||r==="up"&&!t)}},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e);this.refreshPositions();return this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,r,s,o=[],a=[],l=this._connectWith();if(l&&t){for(i=l.length-1;i>=0;i--){r=e(l[i]);for(n=r.length-1;n>=0;n--){s=e.data(r[n],this.widgetFullName);if(s&&s!==this&&!s.options.disabled){a.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}}}}a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=a.length-1;i>=0;i--){a[i][0].each(function(){o.push(this)})}return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++){if(t[i]===e.item[0]){return false}}return true})},_refreshItems:function(t){this.items=[];this.containers=[this];var i,n,r,s,o,a,l,u,f=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready){for(i=h.length-1;i>=0;i--){r=e(h[i]);for(n=r.length-1;n>=0;n--){s=e.data(r[n],this.widgetFullName);if(s&&s!==this&&!s.options.disabled){c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]);this.containers.push(s)}}}}for(i=c.length-1;i>=0;i--){o=c[i][1];a=c[i][0];for(n=0,u=a.length;n<u;n++){l=e(a[n]);l.data(this.widgetName+"-item",o);f.push({item:l,instance:o,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var i,n,r,s;for(i=this.items.length-1;i>=0;i--){n=this.items[i];if(n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]){continue}r=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item;if(!t){n.width=r.outerWidth();n.height=r.outerHeight()}s=r.offset();n.left=s.left;n.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(i=this.containers.length-1;i>=0;i--){s=this.containers[i].element.offset();this.containers[i].containerCache.left=s.left;this.containers[i].containerCache.top=s.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}}return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;if(!n.placeholder||n.placeholder.constructor===String){i=n.placeholder;n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),r=e(t.document[0].createElement(n)).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(n==="tr"){r.append("<td colspan='99'>&#160;</td>")}else if(n==="img"){r.attr("src",t.currentItem.attr("src"))}if(!i){r.css("visibility","hidden")}return r},update:function(e,r){if(i&&!n.forcePlaceholderSize){return}if(!r.height()){r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10))}if(!r.width()){r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}}t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var r,s,o,a,l,u,f,c,h,d,p=null,g=null;for(r=this.containers.length-1;r>=0;r--){if(e.contains(this.currentItem[0],this.containers[r].element[0])){continue}if(this._intersectsWith(this.containers[r].containerCache)){if(p&&e.contains(this.containers[r].element[0],p.element[0])){continue}p=this.containers[r];g=r}else{if(this.containers[r].containerCache.over){this.containers[r]._trigger("out",t,this._uiHash(this));this.containers[r].containerCache.over=0}}}if(!p){return}if(this.containers.length===1){if(!this.containers[g].containerCache.over){this.containers[g]._trigger("over",t,this._uiHash(this));this.containers[g].containerCache.over=1}}else{o=1e4;a=null;d=p.floating||n(this.currentItem);l=d?"left":"top";u=d?"width":"height";f=this.positionAbs[l]+this.offset.click[l];for(s=this.items.length-1;s>=0;s--){if(!e.contains(this.containers[g].element[0],this.items[s].item[0])){continue}if(this.items[s].item[0]===this.currentItem[0]){continue}if(d&&!i(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height)){continue}c=this.items[s].item.offset()[l];h=false;if(Math.abs(c-f)>Math.abs(c+this.items[s][u]-f)){h=true;c+=this.items[s][u]}if(Math.abs(c-f)<o){o=Math.abs(c-f);a=this.items[s];this.direction=h?"up":"down"}}if(!a&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[g]){return}a?this._rearrange(t,a,null,true):this._rearrange(t,null,this.containers[g].element,true);this._trigger("change",t,this._uiHash());this.containers[g]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[g];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[g]._trigger("over",t,this._uiHash(this));this.containers[g].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):i.helper==="clone"?this.currentItem.clone():this.currentItem;if(!n.parents("body").length){e(i.appendTo!=="parent"?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0])}if(n[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!n[0].style.width||i.forceHelperSize){n.width(this.currentItem.width())}if(!n[0].style.height||i.forceHelperSize){n.height(this.currentItem.height())}return n},_adjustOffsetFromHelper:function(t){if(typeof t==="string"){t=t.split(" ")}if(e.isArray(t)){t={left:+t[0],top:+t[1]||0}}if("left"in t){this.offset.click.left=t.left+this.margins.left}if("right"in t){this.offset.click.left=this.helperProportions.width-t.right+this.margins.left}if("top"in t){this.offset.click.top=t.top+this.margins.top}if("bottom"in t){this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie){t={top:0,left:0}}return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;if(r.containment==="parent"){r.containment=this.helper[0].parentNode}if(r.containment==="document"||r.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(r.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(r.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(r.containment)){t=e(r.containment)[0];i=e(r.containment).offset();n=e(t).css("overflow")!=="hidden";this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){if(!i){i=this.position}var n=t==="absolute"?1:-1,r=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r=this.options,s=t.pageX,o=t.pageY,a=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(a[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(t.pageX-this.offset.click.left<this.containment[0]){s=this.containment[0]+this.offset.click.left}if(t.pageY-this.offset.click.top<this.containment[1]){o=this.containment[1]+this.offset.click.top}if(t.pageX-this.offset.click.left>this.containment[2]){s=this.containment[2]+this.offset.click.left}if(t.pageY-this.offset.click.top>this.containment[3]){o=this.containment[3]+this.offset.click.top}}if(r.grid){i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1];o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i;n=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0];s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){if(r===this.counter){this.refreshPositions(!n)}})},_clear:function(e,t){this.reverting=false;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!t){n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t){n.push(function(e){this._trigger("update",e,this._uiHash())})}if(this!==this.currentContainer){if(!t){n.push(function(e){this._trigger("remove",e,this._uiHash())});n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer));n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))}}for(i=this.containers.length-1;i>=0;i--){if(!t){n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i]))}if(this.containers[i].containerCache.over){n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!t){this._trigger("beforeStop",e,this._uiHash());for(i=0;i<n.length;i++){n[i].call(this,e)}this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return false}if(!t){this._trigger("beforeStop",e,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null;if(!t){for(i=0;i<n.length;i++){n[i].call(this,e)}this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(e.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})})(jQuery);(function(e,t){if(typeof exports==="object"){module.exports=t()}else if(typeof define==="function"&&define.amd){define(t)}else{e.printStackTrace=t()}})(this,function(){function e(t){t=t||{guess:true};var i=t.e||null,n=!!t.guess,r=t.mode||null;var s=new e.implementation,o=s.run(i,r);return n?s.guessAnonymousFunctions(o):o}e.implementation=function(){};e.implementation.prototype={run:function(e,t){e=e||this.createException();t=t||this.mode(e);if(t==="other"){return this.other(arguments.callee)}else{return this[t](e)}},createException:function(){try{this.undef()}catch(e){return e}},mode:function(e){if(typeof window!=="undefined"&&window.navigator.userAgent.indexOf("PhantomJS")>-1){return"phantomjs"}if(e["arguments"]&&e.stack){return"chrome"}if(e.stack&&e.sourceURL){return"safari"}if(e.stack&&e.number){return"ie"}if(e.stack&&e.fileName){return"firefox"}if(e.message&&e["opera#sourceloc"]){if(!e.stacktrace){return"opera9"}if(e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length){return"opera9"}return"opera10a"}if(e.message&&e.stack&&e.stacktrace){if(e.stacktrace.indexOf("called from line")<0){return"opera10b"}return"opera11"}if(e.stack&&!e.fileName){return"chrome"}return"other"},instrumentFunction:function(t,i,n){t=t||window;var r=t[i];t[i]=function r(){n.call(this,e().slice(4));return t[i]._instrumented.apply(this,arguments)};t[i]._instrumented=r},deinstrumentFunction:function(e,t){if(e[t].constructor===Function&&e[t]._instrumented&&e[t]._instrumented.constructor===Function){e[t]=e[t]._instrumented}},chrome:function(e){return(e.stack+"\n").replace(/^[\s\S]+?\s+at\s+/," at ").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,"$1@$2").split("\n").slice(0,-1)},safari:function(e){return e.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(e){return e.stack.replace(/^\s*at\s+(.*)$/gm,"$1").replace(/^Anonymous function\s+/gm,"{anonymous}() ").replace(/^(.+)\s+\((.+)\)$/gm,"$1@$2").split("\n").slice(1)},firefox:function(e){return e.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^(?:\((\S*)\))?@/gm,"{anonymous}($1)@").split("\n")},opera11:function(e){var t="{anonymous}",i=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/;var n=e.stacktrace.split("\n"),r=[];for(var s=0,o=n.length;s<o;s+=2){var a=i.exec(n[s]);if(a){var l=a[4]+":"+a[1]+":"+a[2];var u=a[3]||"global code";u=u.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,t);r.push(u+"@"+l+" -- "+n[s+1].replace(/^\s+/,""))}}return r},opera10b:function(e){var t=/^(.*)@(.+):(\d+)$/;var i=e.stacktrace.split("\n"),n=[];for(var r=0,s=i.length;r<s;r++){var o=t.exec(i[r]);if(o){var a=o[1]?o[1]+"()":"global code";n.push(a+"@"+o[2]+":"+o[3])}}return n},opera10a:function(e){var t="{anonymous}",i=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var n=e.stacktrace.split("\n"),r=[];for(var s=0,o=n.length;s<o;s+=2){var a=i.exec(n[s]);if(a){var l=a[3]||t;r.push(l+"()@"+a[2]+":"+a[1]+" -- "+n[s+1].replace(/^\s+/,""))}}return r},opera9:function(e){var t="{anonymous}",i=/Line (\d+).*script (?:in )?(\S+)/i;var n=e.message.split("\n"),r=[];for(var s=2,o=n.length;s<o;s+=2){var a=i.exec(n[s]);if(a){r.push(t+"()@"+a[2]+":"+a[1]+" -- "+n[s+1].replace(/^\s+/,""))}}return r},phantomjs:function(e){var t="{anonymous}",i=/(\S+) \((\S+)\)/i;var n=e.stack.split("\n"),r=[];for(var s=1,o=n.length;s<o;s++){n[s]=n[s].replace(/^\s+at\s+/gm,"");var a=i.exec(n[s]);if(a){r.push(a[1]+"()@"+a[2])}else{r.push(t+"()@"+n[s])}}return r},other:function(e){var t="{anonymous}",i=/function(?:\s+([\w$]+))?\s*\(/,n=[],r,s,o=10;var a=Array.prototype.slice;while(e&&n.length<o){r=i.test(e.toString())?RegExp.$1||t:t;try{s=a.call(e["arguments"]||[])}catch(e){s=["Cannot access arguments: "+e]}n[n.length]=r+"("+this.stringifyArguments(s)+")";try{e=e.caller}catch(e){n[n.length]="Cannot access caller: "+e;break}}return n},stringifyArguments:function(e){var t=[];var i=Array.prototype.slice;for(var n=0;n<e.length;++n){var r=e[n];if(r===undefined){t[n]="undefined"}else if(r===null){t[n]="null"}else if(r.constructor){if(r.constructor===Array){if(r.length<3){t[n]="["+this.stringifyArguments(r)+"]"}else{t[n]="["+this.stringifyArguments(i.call(r,0,1))+"..."+this.stringifyArguments(i.call(r,-1))+"]"}}else if(r.constructor===Object){t[n]="#object"}else if(r.constructor===Function){t[n]="#function"}else if(r.constructor===String){t[n]='"'+r+'"'}else if(r.constructor===Number){t[n]=r}else{t[n]="?"}}}return t.join(",")},sourceCache:{},ajax:function(e){var t=this.createXMLHTTPObject();if(t){try{t.open("GET",e,false);t.send(null);return t.responseText}catch(e){}}return""},createXMLHTTPObject:function(){var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(var i=0;i<t.length;i++){try{e=t[i]();this.createXMLHTTPObject=t[i];return e}catch(e){}}},isSameDomain:function(e){return typeof location!=="undefined"&&e.indexOf(location.hostname)!==-1},getSource:function(e){if(!(e in this.sourceCache)){this.sourceCache[e]=this.ajax(e).split("\n")}return this.sourceCache[e]},guessAnonymousFunctions:function(e){for(var t=0;t<e.length;++t){var i=/\{anonymous\}\(.*\)@(.*)/,n=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,r=e[t],s=i.exec(r);if(s){var o=n.exec(s[1]);if(o){var a=o[1],l=o[2],u=o[3]||0;if(a&&this.isSameDomain(a)&&l){var f=this.guessAnonymousFunction(a,l,u);e[t]=r.replace("{anonymous}",f)}}}}return e},guessAnonymousFunction:function(e,t,i){var n;try{n=this.findFunctionName(this.getSource(e),t)}catch(t){n="getSource failed with url: "+e+", exception: "+t.toString()}return n},findFunctionName:function(e,t){var i=/function\s+([^(]*?)\s*\(([^)]*)\)/;var n=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/;var r=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/;var s="",o,a=Math.min(t,20),l,u;for(var f=0;f<a;++f){o=e[t-f-1];u=o.indexOf("//");if(u>=0){o=o.substr(0,u)}if(o){s=o+s;l=n.exec(s);if(l&&l[1]){return l[1]}l=i.exec(s);if(l&&l[1]){return l[1]}l=r.exec(s);if(l&&l[1]){return l[1]}}}return"(?)"}};return e});if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e){"use strict";if(this==null){throw new TypeError}var t=Object(this);var i=t.length>>>0;if(i===0){return-1}var n=0;if(arguments.length>1){n=Number(arguments[1]);if(n!=n){n=0}else if(n!=0&&n!=Infinity&&n!=-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n))}}if(n>=i){return-1}var r=n>=0?n:Math.max(i-Math.abs(n),0);for(;r<i;r++){if(r in t&&t[r]===e){return r}}return-1}}if(typeof Object.create!="function"){Object.create=function(){function e(){}var t=Object.prototype.hasOwnProperty;return function(i){if(typeof i!="object"){throw TypeError("Object prototype may only be an Object or null")}e.prototype=i;var n=new e;e.prototype=null;if(arguments.length>1){var r=Object(arguments[1]);for(var s in r){if(t.call(r,s)){n[s]=r[s]}}}return n}}()}if(!Array.prototype.filter){Array.prototype.filter=function(e){"use strict";if(this===void 0||this===null){throw new TypeError}var t=Object(this);var i=t.length>>>0;if(typeof e!=="function"){throw new TypeError}var n=[];var r=arguments.length>=2?arguments[1]:void 0;for(var s=0;s<i;s++){if(s in t){var o=t[s];if(e.call(r,o,s,t)){n.push(o)}}}return n}}if(!Function.prototype.bind){Function.prototype.bind=function(e){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};n.prototype=this.prototype;r.prototype=new n;return r}}if(!String.prototype.trim){(function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}})()}if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}if(!Object.keys){Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(r){if(typeof r!=="object"&&(typeof r!=="function"||r===null)){throw new TypeError("Object.keys called on non-object")}var s=[],o,a;for(o in r){if(e.call(r,o)){s.push(o)}}if(t){for(a=0;a<n;a++){if(e.call(r,i[a])){s.push(i[a])}}}return s}}()}if(!Array.prototype.map){Array.prototype.map=function(e,t){var i,n,r;if(this==null){throw new TypeError(" this is null or not defined")}var s=Object(this);var o=s.length>>>0;if(typeof e!=="function"){throw new TypeError(e+" is not a function")}if(arguments.length>1){i=t}n=new Array(o);r=0;while(r<o){var a,l;if(r in s){a=s[r];l=e.call(i,a,r,s);n[r]=l}r++}return n}}if(!String.prototype.startsWith){String.prototype.startsWith=function(e,t){t=t||0;return this.indexOf(e,t)===t}}(function(){var e=0;var t=["webkit","moz"];for(var i=0;i<t.length&&!window.requestAnimationFrame;++i){window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(t,i){var n=(new Date).getTime();var r=Math.max(0,16-(n-e));var s=window.setTimeout(function(){t(n+r)},r);e=n+r;return s};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(e){clearTimeout(e)}})();CREATE.Enums={};CREATE.Enums.ViewMode={multi:0,toggle_single:1,single:2};CREATE.Ajax={init:function(e){this.appVersion=e},getCustomHeaders:function(){return{"SM-Create-Version":this.appVersion,"SM-Request-ID":this._guid(),"SM-Create-Session-Start":CREATE.sessionStart}},
parseErrorResponseText:function(e){try{return JSON.parse(e).error}catch(e){return{}}},_s4:function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)},_guid:function(){return this._s4()+this._s4()+"-"+this._s4()+"-"+this._s4()+"-"+this._s4()+"-"+this._s4()+this._s4()+this._s4()},_getParameterByName:function(e){var t,i,n;t="[\\?&]"+e+"=([^&#]*)";i=new RegExp(t);n=i.exec(window.location.search);if(!n){return""}else{return n[1]}},addSMParam:function(e){var t=this._getParameterByName("sm"),i;if(t===""){return e}else{i=e.indexOf("?")===-1?"?sm="+t:"&sm="+t;return e+i}},getSMParam:function(){return this._getParameterByName("sm")},ajax:function(e,t,i){var n={dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",url:"/create/"+e,cache:false,headers:this.getCustomHeaders()},r,s,o,a;if(CREATE.stepName){if(t.data){$.extend(t.data,{step_name:CREATE.stepName})}else{t.data={step_name:CREATE.stepName}}}if(CREATE.survey!==undefined&&CREATE.survey.hasBrandRefreshTheme()){if(t.data){$.extend(t.data,{is_brand_refresh:true})}else{t.data={is_brand_refresh:true}}}if(t.data&&t.type!=="GET"){t.data=JSON.stringify(t.data)}$.extend(n,t);if(t.notificationKey===null){n.notificationSkip=true}if(i&&i.biLogging){r=i.source;if(r){switch(r){case"create":s="click_create_survey_from_scratch";break;case"copy":s="click_create_survey_copy_existing";break;case"template":s="click_create_survey_using_template";o=i.templateID;if(o){a.templateID=o}break}a={action_type:s};if(!i.important){n.beforeSend=function(){SM.Logger.immediateLogThrottler(a)}}}}return $.ajax(n).fail(function(e){e.appError=CREATE.Ajax.parseErrorResponseText(e.responseText)})},getGroupImages:function(e){var t="group/images/";return this.ajax(t,{type:"GET",data:e,notificationKey:null})},copyGroupImageToSurvey:function(e,t){var i="group/image/"+e+"/?action=copy_to_survey";return this.ajax(i,{data:t,notificationKey:null})},copyGroupImageToTheme:function(e,t){var i="group/image/"+e+"/?action=copy_to_theme";return this.ajax(i,{data:t,notificationKey:null})},getGroupThemesHTML:function(e){var t="group/themes/";return this.ajax(t,{type:"GET",data:e,notificationKey:null})},getGroupTemplates:function(e){var t="group/templates/";return this.ajax(t,{type:"GET",data:e,notificationKey:null})},createSurvey:function(e,t){return this._surveyCreation(e,"createsurvey/","new_survey",t)},templateSurvey:function(e,t){return this._surveyCreation(e,"templatesurvey/","new_survey",t)},copySurvey:function(e,t){return this._surveyCreation(e,"copysurvey/","copy_survey",t)},_surveyCreation:function(e,t,i,n){return CREATE.Ajax.ajax("survey/"+t,{data:e,notificationKey:i},n)},loadSurvey:function(e){var t=this.addSMParam("survey/load/");return this.ajax(t,{data:{survey_id:e},notificationKey:"load_survey"})},hasCollector:function(e){var t=this.addSMParam("survey/collector/"+e.toString());return this.ajax(t,{notificationKey:null,type:"GET"})},addPage:function(e,t){var i=CREATE.Ajax.addSMParam("pages/?sm="+t);return CREATE.Ajax.ajax(i,{data:e,method:"POST",notificationKey:"add_page"})},getTheme:function(e){var t=this.addSMParam("themes/get/");return this.ajax(t,{data:{theme_id:e},notificationKey:"load_theme"})},selectTheme:function(e){var t=this.addSMParam("themes/select/");return this.ajax(t,{data:{theme_id:e},notificationKey:null})},copyTheme:function(e){var t=this.addSMParam("themes/copy/");return this.ajax(t,{data:e,notificationKey:"create_theme"})},updateTheme:function(e){var t=this.addSMParam("themes/updateusertheme/");return this.ajax(t,{data:e,notificationKey:"save_theme"})},deleteTheme:function(e){var t=this.addSMParam("themes/deleteusertheme/");return this.ajax(t,{data:{theme_id:e},notificationKey:"delete_theme"})},getThemeCss:function(e){return this.ajax(e,{type:"GET",dataType:"text",notificationKey:null})},getStockAssets:function(e){var t="themes/imagegallery/";return this.ajax(t,{type:"GET",data:e,notificationKey:null})},addQuestions:function(e,t){var i=this.addSMParam("questions/?sm="+t);return CREATE.Ajax.ajax(i,{data:e,notificationKey:"add_questions"})},getQuestions:function(e){var t=this.addSMParam("questions/?ids="+e.toString());return this.ajax(t,{notificationKey:null,type:"GET"})},deleteQuestion:function(e,t,i){var n=this.addSMParam("questions/"+e+"/?has_permission="+t),r={notificationKey:i,type:"DELETE"};return this.ajax(n,r)},getPipingQuestions:function(e){var t=this.addSMParam("questions/"+e+"/piping/");return this.ajax(t,{notificationKey:"get_piping_questions",type:"GET"})},getDeletedQuestions:function(){var e=this.addSMParam("questions/?deleted=true");return this.ajax(e,{notificationKey:"get_deleted_questions",type:"GET"})},addBlock:function(e){var t=this.addSMParam("survey/block/add");return this.ajax(t,{data:{page_list:e},notificationKey:"add_block"})},deleteBlock:function(e){var t=this.addSMParam("survey/block/delete");return this.ajax(t,{data:{block_id:e},notificationKey:"delete_block"})},updateBlock:function(e,t){var i=this.addSMParam("survey/block/update");return this.ajax(i,{data:{block_id:e,block_data:t},notificationKey:"update_block"})},fetchQuestionBankQuestionEditorMarkup:function(e,t,i){var n=this.addSMParam("survey/questionbank/question_markup");return this.ajax(n,{async:false,context:i,data:{question_id:e,question_text:t},notificationKey:null})},addBankedQuestionOld:function(e){var t=this.addSMParam("questionbank/add_banked_question");return this.ajax(t,{data:e,notificationKey:null})},updateBankedSurvey:function(e){var t=this.addSMParam("questionbank/update_banked_survey");return this.ajax(t,{data:e,notificationKey:null})},loadQuestionHistory:function(){var e=this.addSMParam("autocomplete/load_question_history");return this.ajax(e,{type:"GET",notificationKey:null})},getAutocompleteData:function(e){var t=this.addSMParam("autocomplete/get_matches");return this.ajax(t,{data:e,notificationKey:null})},selectAutocompleteQuestion:function(e){var t=this.addSMParam("autocomplete/get_selected_question_data");return this.ajax(t,{data:e,notificationKey:"change_question"})},createCustomVariable:function(e){var t=this.addSMParam("custom_variables/add");return this.ajax(t,{data:e,notificationKey:"add_custom_variable"})},updateCustomVariable:function(e){var t=this.addSMParam("custom_variables/update");return this.ajax(t,{data:e,notificationKey:"update_custom_variable"})},deleteCustomVariable:function(e){var t=this.addSMParam("custom_variables/delete");return this.ajax(t,{data:e,notificationKey:"delete_custom_variable"})},getQuota:function(e){var t=this.addSMParam("quota/get");e=e||false;return this.ajax(t,{data:{ignore_cache:e},notificationKey:"loading_quota"})},createSimpleQuota:function(e){var t=this.addSMParam("quota/simple/create");return this.ajax(t,{data:e,notificationKey:"create_simple_quota"})},updateSimpleQuota:function(e){var t=this.addSMParam("quota/simple/update");return this.ajax(t,{data:e,notificationKey:"update_simple_quota"})},createQuotaOptionGroup:function(e){var t=this.addSMParam("quota/optiongroup/create");return this.ajax(t,{data:e,notificationKey:"create_option_group"})},saveQuotaQuestions:function(e){var t=this.addSMParam("quota/questions/save");return this.ajax(t,{data:e,notificationKey:"save_quota_questions"})},deleteSimpleQuota:function(e){var t=this.addSMParam("quota/simple/delete");return this.ajax(t,{data:e,notificationKey:"delete_quota"})},deleteQuota:function(e,t){var i=this.addSMParam("quota/delete");return this.ajax(i,{data:e,notificationKey:t})},deleteQuotaQuestionOptionGroup:function(e){var t=this.addSMParam("quota/optiongroup/delete");return this.ajax(t,{data:e,notificationKey:"delete_quota_question_option_group"})},updateQuotaOptionGroup:function(e){var t=this.addSMParam("quota/optiongroup/update");return this.ajax(t,{data:e,notificationKey:"update_quota_question_option_group"})},replaceQuotaOptionGroup:function(e){var t=this.addSMParam("quota/optiongroup/replace");return this.ajax(t,{data:e,notificationKey:"update_quota_question_option_group"})},createQuotaEquation:function(e){var t=this.addSMParam("quota/equation/create");return this.ajax(t,{data:e,notificationKey:"create_quota_equation"})},updateQuotaEquation:function(e){var t=this.addSMParam("quota/equation/update");return this.ajax(t,{data:e,notificationKey:"update_quota_equation"})},deleteQuotaEquation:function(e){var t=this.addSMParam("quota/equation/delete");return this.ajax(t,{data:e,notificationKey:"delete_quota"})},updateQuotaOptions:function(e){var t=this.addSMParam("quota/options/update");return this.ajax(t,{data:e,notificationKey:"update_quota_options"})},getQuotaQualifiedQuestions:function(e){var t=this.addSMParam("quota/get_qualified_questions");return this.ajax(t,{data:e,notificationKey:"loading_quota"})}};CREATE.Translations={init:function(e){this.translations=e;Globalize.cultureSelector=Globalize.getSmartlingCulture()||"en"},get:function(e,t){if(t==="piping"){return this.translations.piping[e]}else if(t==="errors"){return this.translations.errors[e]}else if(t==="notification"){return this.translations.notifications[e]}else{return this.translations.defaults[e]}}};CREATE.Notifications=function(){var e,t=null,i="",n=null,r=null,s=null,o=null,a=null,l=null,u=null,f=false,c=1e3;function h(n){e=$("#notifier-loading");t=$("#notifier-custom");i=t.attr("class");r=t.notification({autoClose:false,closeBtn:false}).data("notification");l=$("#notifier-error").notification({autoClose:true,closeBtn:false}).data("notification");if(!n){s=$("#notifier-loading").notification({autoClose:true,closeBtn:false}).data("notification");o=$("#notifier-saving").notification({autoClose:false,closeBtn:false}).data("notification");$(document).ajaxSend(d);$(document).ajaxComplete(_);$(document).ajaxError(p)}}function d(e,t,i){if(i.notificationSkip){return true}var l=null,u=i.notificationKey,h;if(u){l=r}else{if(i.type==="GET"){l=s}else{l=o}}a=l;h=CREATE.Translations.get(u,"notification")||null;f=false;n=setTimeout(m,c);v(l,h)}function p(e,t){var i=CREATE.Ajax.parseErrorResponseText(t.responseText);if(t.status===401){window.location.reload(true)}else if(t.status===403&&i.error_type==="AuthorizationError"){window.location="/"}else if(t.status===409){if(!u){u=g();setTimeout(function(){location.reload()},5e3)}u.open();return}}function g(){return $("#newversion-notification").notification({autoClose:false,closeBtn:false}).data("notification")}function m(){if(f&&a){a.close()}n=null}function _(e,t,i){if(i.notificationSkip){return true}f=true;if(n===null){a.close()}}function v(e,n){if(n){t.find("h3").first().html(n.title);t.find("span.text").first().html(n.text);t.attr("class",i+" "+n.class_name)}if(a&&!a.isOpen){e.open()}}function y(e,t){var i={};i.title=e;i.text=t;a=r;v(r,i)}function b(e){var t;if(!e){e={}}if(!e.messageKey){e.messageKey="Exception"}if(!e.category){e.category="errors"}if(a!==null){a.close()}t=CREATE.Translations.get(e.messageKey,e.category).message;l.set("text",t);if(e.showErrorDuration){l.set("openDuration",e.showErrorDuration)}l.open()}function w(){if(a!==null){a.close()}s.open()}function x(){r.close()}return{init:h,hideCustomNotification:x,showCustomNotification:y,showErrorNotification:b,showLoadNotification:w,getNewVersionNotification:g}}();CREATE.utils={getQuestionIdForEl:function(e){var t=e.closest(".question-row").find(".qn");return t.attr("id").replace("question-field-","")},getQuestionElForId:function(e){return $("#question-field-"+e)},getQuestionElFromContainer:function(e){return $(e).find(".qn")},getQuestionContainer:function(e){return e.closest(".question-row")},getQuestionElAtPosition:function(e,t){var i=CREATE.pages.get(e),n=_.filter(i.questions.models,function(e){return e.get("position")===t});if(n.length>0){return CREATE.utils.getQuestionElForId(n[0].id)}return null},replaceQuestionMarkup:function(e,t){if(e.hasClass("qn")){e=CREATE.utils.getQuestionContainer(e)}e.replaceWith(t.closest(".question-row")).remove()},insertQuestionMarkup:function(e,t,i){var n=i.closest(".question-row"),r=CREATE.utils.getQuestionElAtPosition(e,t);if(r&&r.length>0){n.insertAfter(r.closest(".question-row"))}},appendQuestionMarkup:function(e,t){var i=t.closest(".question-row");i.appendTo($("#pageid-"+e+" .questions").last())},getPageIdForEl:function(e){var t=e.closest(".page"),i=t.attr("id"),n;try{n=i.replace("pageid-","")}catch(n){SM.Logger.remoteLog({Name:"GetPageIdForElError",Message:"Error trying to getPageIdForEl",el:e?e:"is null/undef",el_id:e.attr("id"),el_length:e.length,page_id:i,page_length:t.length,error_message:n.message},"error")}return n},getPageElementFromId:function(e){return $("#pageid-"+e)},getSuffixedPageTitle:function(e){var t=$("<div/>").html(e.get("heading")).text();return t?": "+t:""},getPageAbbrev:function(e,t){var i=t||e.get("position"),n=CREATE.Translations.get("page","default").abrev["default"];return n.replace(/\{1\}/,i)},getPageHeader:function(e,t,i){return CREATE.utils.getPageAbbrev(e,t)+(i?i:CREATE.utils.getSuffixedPageTitle(e))},addIds:function(e){e.find("[data-id]").each(function(e,t){var i=$(t);i.attr("id",i.attr("data-id"))})},isValidUrl:function(e){var t=/^(?:https?:\/\/)?(?:(?:[-A-Za-z0-9]+)\.)+(?:[A-Za-z]{2,6})(?::\d+)?(?:(?:\/|\?)(?:[\/\w\.\-\?&#=:]*)*)*$/;return t.test(e)},getCookie:function(e){var t=e+"=",i=document.cookie.split(";"),n,r;for(n=0;n<i.length;n++){r=i[n];while(r.charAt(0)===" "){r=r.substring(1,r.length)}if(r.indexOf(t)===0){return r.substring(t.length,r.length)}}return null},setCookie:function(e,t,i){var n,r;if(i){n=new Date;n.setTime(n.getTime()+i*24*60*60*1e3);r="; expires="+n.toGMTString()}else{r=""}document.cookie=e+"="+t+r+"; path=/"},eraseCookie:function(e){CREATE.utils.setCookie(e,"",-1)},truncate:function(e,t){e=CREATE.utils.stripTags(e);if(t===null||e.length<=t){return e}else{e=e.substr(0,t);if(_.lastIndexOf(e," ")>0){return e.substr(0,_.lastIndexOf(e," "))+"..."}else{return e+"..."}}},handleOpenEditors:function(e){var t,i;if(CREATE.QuestionEditor.isOpen()){$.each(CREATE.Rte.findRTEs($("#editQuestion")),function(e,t){i=$(t);if(i.hasClass("mce-edit-focus")){CREATE.Rte.blurRTE(i.attr("id"))}});$("#editQuestion :focus").blur();t=CREATE.QuestionEditor.saveEditMode({afterSaveCallback:e});return t}else if(CREATE.EditSurvey.isOpen()){CREATE.EditSurvey.cancel();e()}else if(CREATE.PageLogicOverlay.isOpen()){CREATE.PageLogicOverlay.close();e()}else if(CREATE.PageActionsOverlay.isOpen()){CREATE.PageActionsOverlay.hide();e()}else{e()}return true},htmlDecode:function(e){return String(e).replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")},htmlEncode:function(e,t){var i=String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(!t){i.replace(/'/g,"&#39;")}return i},htmlUnicodeDecode:function(e){var t=CREATE.utils.htmlDecode(e),i=new RegExp(/&#(\d+);/g),n,r;while((n=i.exec(t))!==null){r=parseInt(n[1],10);t=t.replace(n[0],String.fromCharCode(r))}return t},getUrlBase:function(){return window.location.origin+window.location.pathname},toInt:function(e){return parseInt(e,10)},toStr:function(e){return e+""},_stripTagSettings:{allowedTags:[],allowedAttributes:[]},_stripInvalidHtmlSettings:{allowedTags:["a","big","br","caption","center","code","col","colgroup","div","em","i","font","iframe","img","li","ol","p","pre","small","span","strong","b","sub","sup","u","ul","h1","h2","h3","h4","h5","h6","table","tbody","th","thead","tr","td","tfoot","strike","s"],allowedAttributes:{"*":["align","allowfullscreen","allowtransparency","border","color","frameborder","height","mozallowfullscreen","scrolling","style","title","webkitallowfullscreen","width"],a:["href","target"],col:["span"],colgroup:["span"],font:["face","size"],iframe:["src"],img:["src","alt"],table:["align","bgcolor","cellpadding","cellspacing"],th:["bgcolor","colspan","headers","nowrap","rowspan","scope","sorted","valign"],thead:["valign"],tr:["bgcolor","valign"],td:["bgcolor","colspan","headers","nowrap","rowspan","valign"],tfoot:["valign"]}},stripTags:function(e){try{return sanitizeHtml(e,CREATE.utils._stripTagSettings)}catch(t){SM.Logger.enqueue({action_type:"sanitize-html-stripTags-error"});return e}},stripInvalidHtml:function(e){try{return sanitizeHtml(e,CREATE.utils._stripInvalidHtmlSettings)}catch(t){SM.Logger.enqueue({action_type:"sanitize-html-stripInvalidHtml-error"});return e}}};SM.Logger={init:function(e){this.remoteErrorLoggingEnabled=true;this.remotePath=e.remotePath;this.logBatch={};this.logBatchTimer=undefined;this.batchInterval=1e4;this.batchSizeLimit=10;this.logThrottler={};this.immediateThrottleDelta=1e3;if(e.remoteErrorLoggingEnabled===false||!this.remotePath){this.remoteErrorLoggingEnabled=false}else{window.onerror=this._onWindowError;$(document).ajaxError(this._logTimeout)}this.resetQbqLoggingData()},logException:function(e,t){var i;if(!e){return}i=e.stack;if(!e.message){e.message="no message"}if(!e.name){e.name="UndefinedException"}if(!this.remoteErrorLoggingEnabled){setTimeout(function(){if(t){SM.Logger.consoleLog(t)}if(i){SM.Logger.consoleLog(i)}throw e},0)}else{if(!t){t="No details."}if(!i){i="No trace."}this.remoteLog({Name:e.name,Message:e.message,details:t,trace:i},"error")}},consoleLog:function(){if(window.console&&console.log){try{console.log.apply(console,arguments)}catch(e){Function.apply.apply(console.log,[null,arguments])}}},remoteLog:function(e,t,i){e.queued=i?true:false;e.level=t;if(!e.step_name&&CREATE.stepName){e.step_name=CREATE.stepName}$.ajax({url:CREATE.Ajax.addSMParam(this.remotePath),type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(e),notificationSkip:true,cache:false})},enqueue:function(e){var t=this;if(this.logBatchTimer===undefined){this.logBatchTimer=setTimeout(function(){t.remoteLog(t.logBatch,"info",true);t.logBatch={};t.logBatchTimer=undefined},this.batchInterval)}if(Object.keys(this.logBatch).length<this.batchSizeLimit){e.level="info";if(!e.step_name&&CREATE.stepName){e.step_name=CREATE.stepName}this.logBatch[Date.now()]=e}else{if(!this.logBatch.hasOwnProperty("truncated_entries")){this.logBatch.truncated_entries=0;this.logBatch.Name="truncatedEntries"}this.logBatch.truncated_entries+=1}},immediateLogThrottler:function(e){var t,i=this;if(e.action_type){t=e.action_type;if(this.logThrottler[t]===undefined){this.logThrottler[t]=setTimeout(function(){i.logThrottler[t]=undefined},this.immediateThrottleDelta);this.remoteLog(e,"info",false)}}},setQbqLogging:function(e,t){var i=CREATE.utils.getUrlBase(),n="",r={},s=e.json,o=s.question_bank;if(window.location.search){n=window.location.search.substring(1);$.extend(r,queryString.parse(n))}$.extend(r,{action_type:"question_copy",source_copy:e.json.question_bank.analysis_type==="net_promoter_score_type"?"NPS":t,account_type:CREATE.user.attributes.account_type,f5url:i,log_category:"benchmarking",lang_question_id:o.lang_bank_id,logical_question_id:o.logical_bank_id,question_name:o.name,locale:s.locale,language:CREATE.survey.get("language").id,question_id:s.id});return r},_logTimeout:function(e,t,i){if(t.status===504){SM.Logger.remoteLog({Name:"AjaxTimeout",Message:"The ajax request timed out.",url:i.url,method:i.type,timeout:true,timed_out_request_id:i.headers["SM-Request-ID"]},"error")}},_isThirdPartyScript:function(e){var t,i;e=this._parseUrl(e);if(!e||!e.host){return false}t=e.host.split(".");if(t.length!==3){return true}i=window.location.host.split(".");if(t[1]!==i[1]){return true}return false},_parseUrl:function(e){var t;if(!e){return null}t=document.createElement("a");t.href=e;return{raw:t.href,host:t.hostname,scheme:t.protocol,path:t.pathname,query:t.query,hash:t.hash}},_onWindowError:function(e,t,i,n,r){var s=window.location.href,o=printStackTrace({e:r}).join("\n"),a=(i?i:"?")+":"+(n?n:"?");try{if(SM.Logger._isThirdPartyScript(t)){SM.Logger.remoteLog({Name:"ThirdPartyException",Message:e,Trace:o,Position:a,Url:s,scriptUrl:t},"warning")}else{SM.Logger.remoteLog({Name:"UncaughtException",Message:e,Trace:o,Position:a,Url:s,scriptUrl:t},"error")}}catch(e){}SM.Logger.consoleLog("Exception: ",e);window.onerror=undefined;return true},sendQbqBILogging:function(){var e=CREATE.utils.getUrlBase(),t="",i={},n;if(this.qbqBILoggingData.hasQbq){if(window.location.search){t=window.location.search.substring(1);$.extend(i,queryString.parse(t))}for(n in this.qbqBILoggingData){if(n!=="hasQbq"&&n!=="questions"){if(typeof this.qbqBILoggingData[n]==="object"){i[n]=$.extend({},this.qbqBILoggingData[n])}else{i[n]=this.qbqBILoggingData[n]}}}_.each(this.qbqBILoggingData.questions,function(t){var n=$.extend(true,{},t,i);n.account_type=CREATE.user.get("account_type");n.f5url=e;n.action_type="question_copy";n.log_category="benchmarking";SM.Logger.remoteLog(n,"info")})}},makeQbqBILoggingData:function(e,t,i){var n=this;_.each(e,function(e){var r=e.question_bank,s=n.qbqBILoggingData;if(r.is_banked){if(!n.qbqLogCommons||s.hasQbq){s.source_copy=t;s.language=i.language_id||"";s.from_survey_id=i.from_survey_id||"";s.owner_id=i.owner_id||"";s.template_id=i.template_id||"";s.hasQbq=true;n.qbqLogCommons=true}s.questions.push({lang_question_id:r.lang_bank_id,logical_question_id:r.logical_bank_id,locale:e.locale||"",question_id:e.id||"",question_name:r.name||""})}})},resetQbqLoggingData:function(){this.qbqLogCommons=false;this.qbqBILoggingData={hasQbq:false,source_copy:"",language:"",from_survey_id:"",owner_id:"",template_id:"",questions:[]}},logSaveSlider:function(e){var t=e.question,i=t.get("validation"),n=t.get("display_options");this.enqueue({action_type:"save_editor_slider",is_new_question:e.isNewQuestion,adjust_slider_scale_toggled:e.isToggled,min:i.min,max:i.max,left_label:n.left_label,middle_label:n.middle_label,right_label:n.right_label,starting_position:e.initPos,ui_trigger:"editor_save"})},logDeleteSlider:function(e){var t=e.question,i=t.validation,n=t.display_options,r=parseInt(n.custom_options.starting_position,10);switch(r){case i.min:r="left";break;case i.max:r="right";break;default:r="center"}this.enqueue({action_type:"delete_slider_question",min:i.min,max:i.max,left_label:n.left_label,middle_label:n.middle_label,right_label:n.right_label,starting_position:r,ui_trigger:"preview_question_delete"})},logStarRating:function(e){var t=e.question,i=t.answer_options?t.answer_options:t.get("answer_options"),n=t.display_options?t.display_options:t.get("display_options"),r=i.cols,s={},o={},a={},l={},u=i.na_col,f=i.other,c=e.action;if(c==="save_editor_star_rating_question"){l.is_new_question=t.id==="temp"}_.each(r,function(e){o[e.position]=e.text});if(u){s.na_text=u.text}if(f){a.other_type=i.other_type;a.other_text=f.text;$.each(f.field_size,function(e,t){a["other_"+e]=t})}this.enqueue($.extend({action_type:c,emoji_style:n.display_subtype,scale:Object.keys(r).length,labels:JSON.stringify(o),other_enabled:a&&Object.keys(a).length>0,NA_enabled:s&&Object.keys(s).length>0},s,a,l))},logFileUpload:function(e){var t=e.question,i={},n=t.display_options?t.display_options:t.get("display_options"),r=e.action;if(r==="save_editor_file_upload_question"){i.is_new_question=t.id==="temp"}this.enqueue({action_type:r,is_new_question:i,file_types:n.custom_options.option_set.join(",")})},copyPasteAddQuestions:function(e){var t=_.flatten(e),i=0,n=0;t.forEach(function(e){if(e.common_name==="multiple_choice_radio"){i++}else{n++}});this.enqueue({action_type:"copy_paste_step2_add_questions",multi_choice_count:i,single_choice_count:n})},quizModeToggleLogging:function(e){var t=!!e?"accordion_quiz_enabled":"accordion_quiz_disabled";this.enqueue({action_type:t})},quizDisplayResultsLogging:function(e){var t=!!e?"quiz_display_results_enabled":"quiz_display_results_disabled";this.enqueue({action_type:t})},quizShowCorrectAnswersLogging:function(e){var t=!!e?"quiz_show_correct_answers_enabled":"quiz_show_correct_answers_disabled";this.enqueue({action_type:t})},quizIndicatorLogging:function(){this.enqueue({action_type:"question_quiz_indicator_clicked"})},quizToggleScoreLogging:function(e){var t=!!e.scoreEnabled?"quiz_question_score_enabled":"quiz_question_score_disabled";this.enqueue({action_type:t,question_type:e.questionType,allows_multiple_answers:/checkbox/i.test(e.questionType)?true:false})},quizAnswerScoredLogging:function(e){var t=!!e.isScored?"quiz_answer_scored":"quiz_answer_unscored";this.enqueue({action_type:t,ui_trigger:e.uiTrigger,question_type:e.questionType,allows_multiple_answers:/checkbox/i.test(e.questionType)?true:false})},quizShowLogicWarning:function(){this.enqueue({action_type:"quiz_logic_warning_displayed"})}};CREATE.Date={_timeDiffInMinutes:function(e){var t=(new Date).getTime(),i=e||t;return(t-i)/(1e3*60)},prettyDateMessage:function(e,t){var i=this._timeDiffInMinutes(e),n,r=null,s;if(!i){return null}n=CREATE.Translations.get(t);$.each(n,function(e){var t=parseInt(e,10);if(i<t){if(!r||t<r){r=t}}});if(r){s=r+""}else{s="over_a_year"}return n[s]["default"]}};CREATE.models.User=Backbone.Model.extend({getSurveys:function(e,t,i){var n={limit:t,offset:e-1};if(i!==undefined){n.query=CREATE.utils.htmlEncode(i)}return CREATE.Ajax.ajax("users/"+this.get("id")+"/surveys/",{notificationKey:null,type:"GET",data:n}).then(function(e){var t=e.total,i=_.map(e.surveys,function(e){return{text:CREATE.utils.htmlDecode(e.nickname?e.nickname:e.title),value:e.survey_id}});return{options:i,totalOptions:t}})},hasUpgradableQuestionLimit:function(){return this.get("has_upgradable_question_limit")},canAddQuestions:function(e){var t=CREATE.survey.get("question_count"),i=t+e,n=this.get("question_limit");return i<=n},hasFeature:function(e){return this.get("features")[e]},setPreference:function(e,t,i){var n={preference:e,enable:t},r=CREATE.Ajax.addSMParam("users/"+this.get("id")+"/preferences/"),s=this;return CREATE.Ajax.ajax(r,{data:n,notificationKey:i||null}).then(function t(i){var n=i[e],r=_.clone(s.get("preferences"));r[e]=n;s.set("preferences",r)},function e(){CREATE.Notifications.showErrorNotification()})},__customContactFields:null,getCustomContactFields:function(){var e=this;if(e.__customContactFields){return e.__customContactFields}e.__customContactFields={};_.each(this.get("contact_custom_data"),function(t){var i=t.AttributeLabel,n=t.ColPosition-3,r="custom"+n.toString();if(t.AttributeID===1e3){i=CREATE.Translations.get("advanced_logic","default").labels.email["default"];r="email"}else if(t.AttributeID===1001){i=CREATE.Translations.get("advanced_logic","default").labels.first_name["default"];r="first_name"}else if(t.AttributeID===1002){i=CREATE.Translations.get("advanced_logic","default").labels.last_name["default"];r="last_name"}else{if(/Custom \d+/.test(i)){i=CREATE.Translations.get("advanced_logic","default").labels.custom["default"].replace(/\{1\}/,n)}}e.__customContactFields["contact."+r]=i});return e.__customContactFields}});Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments).fail(function(e){e.appError=CREATE.Ajax.parseErrorResponseText(e.responseText)})};Backbone._originalSync=Backbone.sync;Backbone.sync=function(e,t,i){_.extend(i,{headers:CREATE.Ajax.getCustomHeaders()});if(i.notificationKey===null){i.notificationSkip=true}return Backbone._originalSync.call(this,e,t,i)};Backbone.Model.prototype.toJSON=function(){return JSON.parse(JSON.stringify(this.attributes))};CREATE.models.Survey=Backbone.Model.extend({url:function(){var e="/create/surveys/"+this.get("id")+"/";return CREATE.Ajax.addSMParam(e)},quizUrl:function(){var e="/create/survey/quiz/update";return CREATE.Ajax.addSMParam(e)},initialize:function(e,t,i){var n=this;CREATE.pages=new CREATE.collections.Pages(this.get("pages"));this.unset("pages",{silent:true});if(typeof t!=="undefined"){this.viewMode=CREATE.Enums.ViewMode[t]}if(typeof i!=="undefined"){this.pageInView=i}this.on("change:advanced_logic",function(){$("#pageSkipMasterToggle").toggleClass("off",!n.hasPageLogic())},this)},parse:function(e){var t;if(e.survey&&e.survey.pages){CREATE.pages.reset(e.survey.pages);t=e.survey}return t},reload:function(e){var t=$.extend({},e);if(e.pages){CREATE.pages.reset(e.pages);delete t.pages}this.set(t)},update:function(e,t){var i=this,n=this.get("design_settings"),r=$.extend({fetch:"",is_design_setting:false,notificationKey:"save_survey"},t);this.set(e);if(this.isSinglePageMode()){r.pageId=CREATE.utils.getPageIdForEl($(".page"))}return this.save(null,{notificationKey:r.notificationKey,url:this.url()+"&"+queryString.stringify(r)}).done(function(e){i.reload(e.survey);if(e.fetched==="header"){CREATE.LivePreview.updatePageHeadings(e.htmls)}else if(e.fetched==="progressbar"){CREATE.LivePreview.updateProgressBars(e.htmls)}else if(e.survey.design_settings.question_numbering!==n.question_numbering){CREATE.LivePreview.renumberPages()}}).fail(function(){CREATE.Notifications.showErrorNotification()})},hasRtlLanguage:function(){return CREATE.survey.get("language").direction==="rtl"},getPage:function(e){return CREATE.pages.get(e)},moveQuestion:function(e,t,i,n){var r=this;function s(t,s,o,a){var l=CREATE.Ajax.addSMParam("questions/"+e+"/move/");return CREATE.Ajax.ajax(l,{data:t,notificationKey:"move_question",type:"POST"}).done(function(t){if(t.advanced_logic){r.set("advanced_logic",t.advanced_logic)}r.moveQuestionInLogic(e,i);if(o.id!==a.id){o.removeQuestionFromQuestionRandomization(e)}s.page_id=parseInt(i,10);o.removeQuestionLocal(e,false);a.addQuestionLocal(s,n)})}return CREATE.pages.getQuestion(e,true).then(function(r){var o=r.toJSON(),a=CREATE.pages.get(t),l=CREATE.pages.get(i),u={question_id:e,old_page_id:t,destination_page_id:i,position:n};return $.when(s(u,o,a,l))})},copyQuestion:function(e,t,i){var n=CREATE.Ajax.addSMParam("questions/"+e+"/copy/"),r={question_id:e,page_id:t,position:i,language_id:this.get("language").id},s=this.getPage(t);return CREATE.Ajax.ajax(n,{data:r,notificationKey:"copy_question",type:"POST"}).done(function(e){s.addQuestionLocal(e.json,e.json.position)})},addMultiBankedQuestions:function(e){var t=CREATE.Ajax.addSMParam("questionbank/add_multi"),i=this,n,r;return CREATE.Ajax.ajax(t,{data:e,notificationKey:e.questions.length===1?"add_question":"add_questions"}).done(function(e){for(var t=0;t<e.length;t++){n=e[t];r=i.getPage(n.json.page_id);r.addQuestionLocal(n.json,n.json.position)}})},restoreQuestion:function(e,t,i){var n=CREATE.Ajax.addSMParam("questions/"+e+"/restore/"),r={question_id:e,page_id:t,position:i,language_id:CREATE.survey.get("language").id},s=this.getPage(t);return CREATE.Ajax.ajax(n,{data:r,notificationKey:"restore_question",type:"POST"}).done(function(e){s.addQuestionLocal(e.json,e.json.position)})},getSavedQuestionCount:function(){return _.reduce(CREATE.pages.map(function(e){return e.questions.reject(function(e){return e.id==="temp"}).length}),function(e,t){return e+t},0)},getBlock:function(e){var t=this.get("blocks"),i;$.each(t,function(t,n){if(n.block_id===e){i=n;return false}});return i},createBlock:function(e){var t=this;return CREATE.Ajax.addBlock(e).done(function(e){t.set("blocks",e.blocks);$("#create").trigger("newCreateFeatureAdded",["blockRandomization"])})},deleteBlock:function(e){var t=this;return CREATE.Ajax.deleteBlock(e).done(function(e){t.set("blocks",e.blocks);if(e.blocks.length===0){t.set("block_randomization",{enabled:false})}if(e.advanced_logic){t.set("advanced_logic",e.advanced_logic)}})},updateBlock:function(e,t){var i=this;return CREATE.Ajax.updateBlock(e,t).done(function(e){i.set("blocks",e.blocks);if(e.blocks.length===0){i.set("block_randomization",{enabled:false})}})},getBlockForPage:function(e){var t=this.get("blocks"),i=e,n;$.each(t,function(e,t){var r=t.pages_included;if(r.indexOf(i)!==-1){n=t.block_id;return false}});return n},allPagesInBlocks:function(){var e=this.getAllSections(),t=true;$.each(e,function(e,i){if(i.position){t=false}});return t},getAllSections:function(){var e=CREATE.pages.toJSON(),t=this.get("blocks");$.each(t,function(t,i){var n=i.pages_included[0],r=_.indexOf(_.pluck(e,"id"),n);e.splice(r,i.pages_included.length,i)});return e},updateQuestionLogic:function(e,t){var i;e=parseInt(e,10);i=_.filter(this.get("question_logic"),function(t){
return parseInt(t.question_id,10)!==e});i=i.concat(t);this.set("question_logic",i);return i},moveQuestionInLogic:function(e,t){var i=false,n=this.get("question_logic"),r,s=this;t=parseInt(t,10);e=parseInt(e,10);$.each(n,function(n,o){if(parseInt(o.question_id,10)===e){o.page_id=t;i=true}if(parseInt(o.destination_question_id,10)===e){o.destination_page_id=t;r=s.getPage(o.page_id);if(r.get("expanded")){r.questions.get(o.question_id).updateLogicByTarget(e,t)}i=true}});this.set("question_logic",n);return i},removeQuestionFromLogic:function(e){var t=[],i=false,n,r=this;e=parseInt(e,10);$.each(this.get("question_logic"),function(s,o){if(parseInt(o.destination_question_id,10)===e){n=r.getPage(o.page_id);if(n.get("expanded")){n.questions.get(o.question_id).updateLogicByTarget(e)}i=true}else if(parseInt(o.question_id,10)!==e){t.push(o)}else{i=true}});this.set("question_logic",t);return i},updatePageLogic:function(e,t){var i,n=this.get("page_logic"),r;t=parseInt(t,10);i=_.indexOf(_.pluck(n,"page_id"),parseInt(e,10));if(i>-1){n[i].destination_page_id=t}else{n.push({page_id:e,destination_page_id:t})}this.set("page_logic",n);r=this.getPage(e);r.set("page_logic",{enabled:true,destination_page_id:t})},removePageFromLogic:function(e){var t=[],i=false;e=parseInt(e,10);t=_.filter(this.get("page_logic"),function(t){return parseInt(t.page_id,10)!==e&&parseInt(t.destination_page_id,10)!==e});this.set("page_logic",t);return i},hasPageLogic:function(){return this.get("page_logic").length>0||!_.isEmpty(this.get("advanced_logic"))},hasQuestionLogic:function(){return this.get("question_logic")&&this.get("question_logic").length>0},getFunnelReceiverIds:function(e,t){var i=this,n=[],r=t||true,s=i.get("funneling"),o;if(s.has_funnels){o=s.sender_map}else{return[]}$.each(e,function(e,t){var s=o[t];if(s&&s.length>0){n=n.concat(s);if(r){n=n.concat(i.getFunnelReceiverIds(s,r))}}});return n},removeReceiverFromFunnelSenders:function(e,t){$.each(t,function(t,i){CREATE.pages.getQuestion(i).done(function(t){var i;if(t.getPage().get("expanded")){i=$.grep(t.get("funneled_to_questions"),function(t){return t!==e});t.set("funneled_to_questions",i)}})})},addReceiverToFunnelSenders:function(e,t){$.each(t,function(t,i){CREATE.pages.getQuestion(i).done(function(t){var i;if(t.getPage().get("expanded")){i=t.get("funneled_to_questions")||[];if($.inArray(e,i)===-1){i.push(e)}t.set("funneled_to_questions",i)}})})},updateLocalFunnels:function(e,t,i){var n=$.extend({},this.get("funneling")),r=n.sender_map,s=n.receiver_map;if(!n.has_funnels){r={};s={}}$.each(t,function(t,i){r[i]=$.grep(r[i],function(t){return t!==e});if(r[i].length<1){delete r[i]}});if(i.length>0){s[e]=i;$.each(i,function(t,i){if(!r[i]){r[i]=[]}if($.inArray(e,r[i])===-1){r[i].push(e)}})}else{delete s[e]}if($.isEmptyObject(r)){r=null;s=null}n.has_funnels=i.length>0||!!r;n.sender_map=r;n.receiver_map=s;this.set("funneling",n)},updateQuizMode:function(e){var t={notificationKey:"save_survey"};this.set("quiz_options",e);return this.save(null,{notificationKey:t.notificationKey,survey_id:t.surveyId,url:this.quizUrl()}).fail(function(){CREATE.Notifications.showErrorNotification()})},hasPermission:function(e){return this.get("permissions").survey[e]},setThemeId:function(e){var t=$.extend({},this.get("design_settings"));t.theme_id=e;this.set("design_settings",t)},hasBrandRefreshTheme:function(){return CREATE.survey.get("theme").variables.brand_refresh!==undefined&&CREATE.survey.get("theme").variables.brand_refresh==="True"||$('article[data-brand-refresh="True"]').length>=1},viewMode:CREATE.Enums.ViewMode.multi,isSinglePageMode:function(){return this.viewMode===CREATE.Enums.ViewMode.single},isSurveyQuizMode:function(){return this.get("quiz_options")&&this.get("quiz_options").is_quiz_mode},pageInView:0,getVariable:function(e){return _.find(this.get("custom_variables"),function(t){return t.variable_name===e})}},{fetchData:function(e){return CREATE.Ajax.loadSurvey(e).done(function(e){CREATE.survey=new CREATE.models.Survey(e.survey)})},maxQuestions:5e3});CREATE.models.Page=Backbone.Model.extend({initialize:function(){this.questions=new CREATE.collections.Questions(this.get("questions"),{pageExpanded:this.get("expanded")})},url:function(){var e="/create/pages/"+this.get("id")+"/";return CREATE.Ajax.addSMParam(e)},parse:function(e){var t;if(e.page){t=e.page}else{t=e}if(t.expanded){this.questions.reset(t.questions)}return t},fetch:function(e){var t=$.extend({loadPages:true,stepName:CREATE.stepName},e),i=CREATE.Ajax.addSMParam("/create/pages/"+this.id+"/?load_pages="+t.loadPages+"&step_name="+t.stepName);return Backbone.Model.prototype.fetch.call(this,{notificationKey:"load_page",url:i})},update:function(e){return this.save(e,{notificationKey:"update_page",url:this.url()}).done(function(e){CREATE.survey.reload(e.survey_json)})},remove:function(e){var t=queryString.stringify({has_permission:e.has_permission,move_questions:e.move_questions,step_name:CREATE.stepName,is_brand_refresh:CREATE.survey.hasBrandRefreshTheme()});return this.destroy({notificationKey:"delete_page",url:this.url()+"&"+t,wait:true}).done(function(e){CREATE.survey.reload(e.survey_json);if(CREATE.survey.isSurveyQuizMode()&&!CREATE.LivePreview.getQuizIds().length){CREATE.QuizWarning.toggleSurveyQuizMode(false)}})},copy:function(e){var t=CREATE.Ajax.addSMParam("pages/"+this.id+"/copy/");return CREATE.Ajax.ajax(t,{data:e,method:"POST",notificationKey:"copy_page"}).done(function(e){CREATE.survey.reload(e.survey_json)})},move:function(e){var t=CREATE.Ajax.addSMParam("pages/"+this.id+"/move/");return CREATE.Ajax.ajax(t,{data:e,method:"POST",notificationKey:"move_page"}).done(function(e){CREATE.survey.reload(e.survey_json)})},split:function(e){var t=CREATE.Ajax.addSMParam("pages/"+this.id+"/split/");return CREATE.Ajax.ajax(t,{data:e,method:"POST",notificationKey:"split_page"}).done(function(e){CREATE.survey.reload(e.survey_json)})},isRandomized:function(){var e=CREATE.survey.get("page_randomization"),t;if(!e.enabled){return false}if(e.pages_applied==="all"){return true}t=new RegExp("\\b"+this.id+"\\b");return t.test(e.pages_applied.join(" "))},getHeading:function(e){var t=this.get("heading"),i,n=$.extend({truncate:false,usePlaceholder:true},e);i=CREATE.utils.stripTags(t);if(n.prefix){i=n.prefix+i}if(n.truncate&&i.length>n.truncate){i=i.substring(0,n.truncate)+"..."}if(!i&&n.usePlaceholder){i=CREATE.Translations.get("page","default").full["default"].replace(/\{1\}/,this.get("position"))}return i},isLogicDestination:function(){if(this.getQuestionLogicUsage().length>0||this.getPageLogicUsage().length>0){return true}return false},getPageLogicUsage:function(){var e,t=parseInt(this.id,10);e=_.filter(CREATE.survey.get("page_logic"),function(e){return parseInt(e.destination_page_id,10)===t});return e},getQuestionLogicUsage:function(){var e,t=parseInt(this.id,10);e=_.filter(CREATE.survey.get("question_logic"),function(e){return parseInt(e.destination_page_id,10)===t});return e},getPageLogic:function(){var e,t=parseInt(this.id,10);e=_.find(CREATE.survey.get("page_logic"),function(e){return parseInt(e.page_id,10)===t});return e},hasLogic:function(){var e=parseInt(this.id,10),t=CREATE.survey.get("advanced_logic");return t&&t[e]&&t[e].length||this.getPageLogic()},getAdvancedLogic:function(){var e=parseInt(this.id,10),t=CREATE.survey.get("advanced_logic");if(!t||!t[e]||!t[e].length){return null}return t[e]},getQuestions:function(){var e=CREATE.survey.isSinglePageMode()&&CREATE.survey.get("design_settings").question_numbering===2,t,i=$.Deferred(),n=this;if(this.get("expanded")&&(!e||this.get("first_question_number"))){return i.resolve(this.questions)}else{t=CREATE.Ajax.addSMParam("questions/?page_id="+this.id+"&need_question_number="+e);return CREATE.Ajax.ajax(t,{type:"GET",notificationKey:null}).then(function(e){n.questions.reset(e.questions);n.set("expanded",true);if(e.first_question_number){n.set("first_question_number",e.first_question_number)}return n.questions}).fail(function(){CREATE.Notifications.showErrorNotification()})}},questionIds:function(){return this.questions.pluck("id")},questionCount:function(){return this.questions.length},addQuestionLocal:function(e,t){var i=CREATE.survey.get("question_count");t=parseInt(t,10);if(t>0){this.questions.add(e,{at:t-1});this.questions.each(function(e,t){e.set("position",t+1)})}else{this.questions.add(e);this.questions.get(e.id).set("position",this.questions.length)}CREATE.survey.set("question_count",i+1)},removeQuestionLocal:function(e,t){var i=this.questions.get(e),n=i.get("position"),r=CREATE.survey.get("question_count");e=e.toString();if(t){CREATE.survey.removeQuestionFromLogic(e)}if(this.get("question_randomization").enabled&&_.contains(this.get("question_randomization").questions_applied,parseInt(i.id,10))){this.fetch({loadPages:false}).done(function(){$("#livePreview").trigger("settingUpdated")})}this.questions.remove(i);this.questions.each(function(e){var t=e.get("position");if(t>n){e.set("position",t-1)}});CREATE.survey.set("question_count",r-1)},replaceQuestion:function(e,t){var i=this.questions.get(e),n=this.questions.indexOf(i);this.questions.remove(i);this.questions.add(t,{at:n})},addBankedQuestion:function(e){var t=CREATE.Ajax.addSMParam("questionbank/add"),i=this;return CREATE.Ajax.ajax(t,{data:e,notificationKey:"add_question"}).done(function(e){i.addQuestionLocal(e.json,e.json.position)})},addBankedQuestionByName:function(e){var t=CREATE.Ajax.addSMParam("questionbank/add_by_name"),i=this;e.lang_id=CREATE.survey.get("language").id;return CREATE.Ajax.ajax(t,{data:e,notificationKey:"add_question"}).done(function(e){i.addQuestionLocal(e.json,e.json.position)})},requireQuestions:function(e){var t=this,i=CREATE.Ajax.addSMParam("questions/"),n=["name","company","phone","email","address","address2","city","state","zip","country"],r={question_ids:[],update_data:{required:{type:"at_least",text:e,amount:1,answer_ids_required:n}}};t.questions.each(function(e){if(!e.isPresentation()&&!e.get("required")){r.question_ids.push(parseInt(e.id,10))}});if(r.question_ids.length>0){return CREATE.Ajax.ajax(i,{data:r,method:"PUT"}).done(function(e){var i=e.json||[],n;$.each(i,function(e,i){n=t.questions.get(i.id);n.set("required",i.required)})})}return $.Deferred().resolve({})},removeQuestionFromQuestionRandomization:function(e){var t=this.get("question_randomization"),i;e=parseInt(e,10);if(t.enabled&&t.questions_applied!=="all"){i=_.without(t.questions_applied,e);t.questions_applied=i;if(i.length===0){t.enabled=false;t.type=null}this.set("question_randomization",t)}},getFunnelSenderQuestions:function(){return this.questions.filter(function(e){var t=e.get("funneled_to_questions");return t&&t.length>0})},getQuestionIdsWithFunneling:function(e){var t=this.questionIds(),i=CREATE.survey.get("funneling"),n=[],r;if(e==="senders"){r=i.sender_map}else if(e==="receivers"){r=i.receiver_map}else{r=$.extend({},i.sender_map,i.receiver_map)}if(!r||$.isEmptyObject(r)){return n}$.each(t,function(e,t){if(r[t]){n.push(t)}});return n},isSenderDQedForBlocks:function(e){var t=CREATE.survey.getBlockForPage(this.id),i=CREATE.survey.getBlockForPage(e.id);if(i!==t){return true}return false},isSenderDQedForRandom:function(e){var t=CREATE.survey.get("page_ids"),i=this.isRandomized(),n=e.isRandomized(),r,s,o=false;if(i&&n){return true}if(i){r=t.slice(e.get("position"));$.each(r,function(e,t){var i=CREATE.pages.get(t);if(i.isRandomized()){o=true;return false}})}if(n){s=t.slice(0,this.get("position"));$.each(s,function(e,t){var i=CREATE.pages.get(t);if(i.isRandomized()){o=true;return false}})}return o},canBeFunnelSender:function(e){if(this.isSenderDQedForRandom(e)){return false}if(this.isSenderDQedForBlocks(e)){return false}return true}},{maxQuestions:100});CREATE.collections.Pages=Backbone.Collection.extend({model:CREATE.models.Page,url:function(){var e="/create/pages/";return CREATE.Ajax.addSMParam(e)},parse:function(e){return e.pages},fetch:function(e,t){var i=this,n=$.extend({render:true,notificationKey:null},t),r="pages/";if(e){r=CREATE.Ajax.addSMParam(r+"?ids="+e.toString()+"&render="+n.render)}else{r=CREATE.Ajax.addSMParam(r+"?render="+n.render)}return Backbone.Collection.prototype.fetch.call(this,{notificationKey:n.notificationKey,url:r,remove:false}).done(function(e){i.set(e.pages,{merge:true,remove:false,add:false})})},addNew:function(e){var t=CREATE.Ajax.addSMParam("pages/");return CREATE.Ajax.ajax(t,{data:e,method:"POST",notificationKey:"add_page"}).done(function(e){CREATE.survey.reload(e.survey_json)})},collapsePagesBeforePage:function(e){var t=this.get(e),i=this.first(t.get("position")-1);e=e.toString();_.each(i,function(e){e.set("expanded",false)})},collapsePagesAfterPage:function(e){var t=this.get(e),i=this.rest(t.get("position"));e=e.toString();_.each(i,function(e){e.set("expanded",false)})},questionExists:function(e){var t;e=e.toString();t=this.find(function(t){return $.inArray(e,t.questionIds())>-1});return!!t},getQuestion:function(e,t){var i,n,r=$.Deferred();e=e.toString();if(!this.questionExists(e)){SM.Logger.remoteLog({Name:"GetQuestionError",call:"page.js::getQuestion",Message:"questionId "+e+" doesn't exist in survey"},"warning");return r.resolve(false)}n=this.find(function(t){i=t.questions.get(e);return i});if(n.get("expanded")||!t){return r.resolve(i)}else{return n.getQuestions().then(function(){return n.questions.get(e)})}}});CREATE.models.Question=Backbone.Model.extend({defaults:{answer_options:{rows:[{description:"",id:null,position:1,text:"",type:"row",visible:true},{description:"",id:null,position:2,text:"",type:"row",visible:true},{description:"",id:null,position:3,text:"",type:"row",visible:true}]},display_number:null,has_new_image:false,has_piping:false,heading:"",id:"temp",layout:null,logic:null,nickname:"",question_bank:{is_banked:false,is_benchmarkable:false,lang_bank_id:null,logical_bank_id:null,name:"",partner_id:null},random_assignment:[],required:null,sorting:null,survey_id:null,validation:null,funneling:[]},quizRows:{answer_options:{rows:[{description:"",id:null,position:1,text:"",type:"row",visible:true,options:{quiz_options:{score:0}}},{description:"",id:null,position:2,text:"",type:"row",visible:true,options:{quiz_options:{score:0}}},{description:"",id:null,position:3,text:"",type:"row",visible:true,options:{quiz_options:{score:0}}}]},options:{quiz_options:{scoring_enabled:false}}},url:function(){var e="/create/questions/"+this.get("id")+"/";return CREATE.Ajax.addSMParam(e)},update:function(){var e={question:this.toJSON(),step_name:CREATE.stepName,is_brand_refresh:CREATE.survey.hasBrandRefreshTheme()};return this.save(e,{notificationKey:"save_question",url:this.url()})},updateQBQuestion:function(e,t){var i=CREATE.Ajax.addSMParam("/create/questions/"+this.get("id")+"/update_qb/"),n={qb_data:e,question_data:{question:this.toJSON(),section_id:this.get("page_id"),options:t},step_name:CREATE.stepName,is_brand_refresh:CREATE.survey.hasBrandRefreshTheme()};return this.save(n,{notificationKey:"save_question",url:i})},disqualifyQBQuestion:function(){var e={question_id:this.get("id")},t=CREATE.Ajax.addSMParam("questionbank/disqualify_question");return CREATE.Ajax.ajax(t,{data:e,method:"POST",notificationKey:null})},getHeading:function(e){var t=this.get("headings")?this.get("headings")[0].heading:this.get("heading"),i,n=$.extend({truncate:false},e);if(this.get("type").subtype==="image"){if(this.hasRandomAssignment()){i=CREATE.Translations.get("image_question_ab_prepend")["default"]+" "+CREATE.utils.stripTags(t)}else{i=CREATE.Translations.get("image_question_prepend")["default"]+" "+CREATE.utils.stripTags(t)}}else{i=CREATE.utils.stripTags(t)}if(n.prefix){i=n.prefix+i}if(n.truncate&&i.length>n.truncate){i=i.substring(0,n.truncate)+"..."}return i},getDisplayNumber:function(e,t){var i=CREATE.survey.get("design_settings").question_numbering,n="",r,s=t||". ",o,a,l=this;if(i===0||this.isPresentation()){return""}if(e){r=CREATE.Translations.get("question","default").abrev["default"]}else{r="{1}"}if(this.get("display_number")){o=this.get("display_number")}if(o){return o?r.replace(/\{1\}/,o)+s:""}if(CREATE.survey.isSinglePageMode()&&parseInt(this.get("page_id"),10)!==parseInt(CREATE.survey.pageInView,10)){a=this.getPage();if(a.get("expanded")){o=i===1?1:a.get("first_question_number");if(!o){return""}a.questions.find(function(e){if(parseInt(e.id,10)===parseInt(l.id,10)){n=r.replace(/\{1\}/,o)+s;return true}if(!e.isPresentation()){++o}})}}return n},getPage:function(){return CREATE.pages.get(this.get("page_id"))},getRenderedHtml:function(){var e=CREATE.Ajax.addSMParam("questions/html/");return CREATE.Ajax.ajax(e,{data:this.toJSON(),notificationKey:null,type:"POST"})},getClassName:function(){var e=this.get("common_name");if(this.hasRandomAssignment()){if(e==="image"){return"ImageABQuestion"}if(e==="text"){return"TextABQuestion"}}return CREATE.models.Question.subclasses[e]},hasResponses:function(){return!!this.get("has_responses")},getHasResponses:function(){var e=this,t,i=$.Deferred();if(this.id==="temp"){return i.resolve({has_responses:false})}if(this.get("has_responses")){return i.resolve({has_responses:true})}else{t=CREATE.Ajax.addSMParam("questions/"+this.id+"/responses/");return CREATE.Ajax.ajax(t,{notificationKey:null,type:"GET"}).done(function(t){e.set("has_responses",t.has_responses)})}},getMinRows:function(){var e={dropdown:2,ranking:2},t=this.get("common_name");return e[t]||1},getMaxRows:function(){var e=this.get("type");if(e.family==="single_choice"&&e.subtype==="menu"){return 500}return 200},getMinCols:function(){return this.get("type").subtype==="rating"?2:1},getMaxCols:function(){if(this.get("type").subtype==="menu"){return 9}else if(this.isStarRating()){return 10}return 16},getMaxColChoices:function(){return 200},getRowsWithTextCount:function(){var e=this.get("answer_options").rows,t,i;if(!e){return 0}t=e.length===1||this.isSingleRowRatingScale();if(t){return 1}i=_.filter(e,function(e){return e.text.length>0});return i.length},getVisibleRowCount:function(){var e=this.get("answer_options").rows,t=_.filter(e,function(e){return e.visible});return t.length},inQuota:function(){var e=CREATE.survey.get("quota"),t,i=parseInt(this.id,10);if($.isEmptyObject(e)){return false}t=_.find(e.questions,function(e){return e.question_id===i});return t!==undefined},isRandomized:function(){var e=false,t=this.getPage().get("question_randomization"),i;if(t.enabled){if(t.questions_applied==="all"){e=true}else{i=new RegExp("\\b"+this.id+"\\b");e=i.test(t.questions_applied.join(" "))}}return e},hasDisplayOptions:function(){return!!this.get("display_options")},hasNonZeroScore:function(){var e=this.get("answer_options").rows,t=false;$.each(e,function(e,i){var n=i.options.quiz_options.score;if(n>0){t=true;return false}});return t},isQuizEnabled:function(){if(this.get("options")&&this.get("options").quiz_options){return this.get("options").quiz_options.scoring_enabled}return false},isStarRating:function(){return this.get("common_name")==="star_rating_scale"},isNPS:function(){var e=this.get("type"),t=this.get("question_bank");return e.name&&e.name.indexOf("net_promoter_score")>=0||t&&t.analysis_type==="net_promoter_score_type"},isSingleRowRatingScale:function(){return this.get("common_name")==="single_row_rating_scale"},isMultiRowMatrix:function(){var e=this.get("common_name");return this.get("type").family==="matrix"&&e!=="single_row_rating_scale"&&e!=="star_rating_scale"},isMatrixNotRating:function(){return this.get("type").family==="matrix"&&this.get("common_name")!=="ranking"},isWeightedMatrix:function(){return this.get("common_name")==="matrix_radio_weighted"||this.isStarRating()},isUnweightedMatrix:function(){return this.get("common_name")==="matrix_radio_unweighted"},isRanking:function(){return this.get("common_name")==="ranking"},isBanked:function(){return this.get("question_bank").is_banked},isBenchMarkable:function(){return this.get("question_bank").is_benchmarkable},isDisqualifiedQB:function(){return!!this.get("question_bank").isDisqualified},hasRandomAssignment:function(){return Array.isArray(this.get("random_assignment"))&&this.get("random_assignment").length>0||typeof this.get("random_assignment")==="boolean"&&this.get("random_assignment")},isPresentation:function(){return this.get("type").family==="presentation"},isNumerical:function(){return this.get("type").subtype==="numerical"},isSlider:function(){var e=this.get("display_options");return e&&e.display_type==="slider"},isFileUpload:function(){var e=this.get("display_options");return e&&e.display_type==="file_upload"},isMenuMatrix:function(){var e=this.get("type");return e.family==="matrix"&&e.subtype==="menu"},isMatrixNonRankingMenu:function(){var e=this.get("type");return e.family==="matrix"&&e.subtype!=="ranking"&&e.subtype!=="menu"},isMultipleChoice:function(){var e=this.get("type");return e.family==="single_choice"||e.family==="multiple_choice"},isMultipleTextbox:function(){var e=this.get("common_name");return e==="multiple_textboxes"},allowsAutocomplete:function(){return!(this.hasLogic()||this.hasResponses()||this.inQuota()||this.isFunnelSender()||this.isBanked()||this.isPresentation()||this.isFileUpload())},isDropdown:function(){var e=this.get("common_name");return e==="dropdown"},isMatrixCheckbox:function(){var e=this.get("common_name");return e==="matrix_checkbox"},allowsMultipleChoices:function(){var e=this.get("common_name");return e==="multiple_choice_checkbox"||e==="matrix_checkbox"},hasNACol:function(){return this.get("answer_options").na_col!==null},allowsNACol:function(){return _.contains(["matrix_radio_weighted","single_row_rating_scale","ranking","star_rating_scale"],this.get("common_name"))},isLastQuestion:function(){var e=this.getPage().questions;return e.at(e.length-1).id===this.id},isAdvancedBranchingSource:function(){var e=this,t=CREATE.survey.get("advanced_logic"),i=CREATE.survey.get("page_ids"),n=i.indexOf(this.getPage().get("id")),r=i.slice(n,i.length),s,o;if(_.isEmpty(t)){return false}s=window["js/smlib.expr"];o=new s.ReferencedQuestionsVisitor;return _.any(r,function(i){var n=t[i];return _.any(n,function(t){try{var n=s.load(t.condition);o.visit(n);if(e.id in o.refs){return true}}catch(e){SM.Logger.remoteLog({Name:"isAdvancedBranchingSourceLoadRule",Message:"CreateWeb received malformed logic rule",rule:t,survey_id:CREATE.survey.id,user_id:CREATE.user.id,page_id:i},"error")}return false})})},allowsOtherOptions:function(){var e=this.get("common_name");return _.contains(["multiple_choice_radio","multiple_choice_checkbox","dropdown","matrix_radio_weighted","matrix_radio_unweighted","matrix_checkbox","single_row_rating_scale","menu_matrix","star_rating_scale"],e)},allowsOtherAsAnswerOption:function(){var e=this.get("common_name");return CREATE.models.Question.allowsOtherAsAnswerOption(e)},allowsValidation:function(){var e=this.get("common_name");return _.contains(["date_time","single_textbox","multiple_textboxes","slider"],e)},allowsRequiredType:function(){var e=this.get("type"),t=this.get("question_bank"),i=e.family,n=e.subtype;return!(e.name&&e.name.indexOf("net_promoter_score")>=0||t&&t.analysis_type==="net_promoter_score_type"||i==="single_choice"||i==="demographic"||n==="ranking"||i==="open_ended"&&(n==="single"||n==="essay")||this.isStarRating())},hasOtherAnswer:function(){var e=this.get("answer_options");return e.other!==undefined&&e.other_type==="answer_option"},supportsQuizMode:function(){var e=this.get("common_name");return CREATE.models.Question.supportsQuizMode(e)},getLogicForAnswerId:function(e){var t=this.getLogic();e=parseInt(e,10);return _.find(t,function(t){return parseInt(t.answer_id,10)===e})},getLogic:function(){if(this.getPage().get("expanded")===false){throw"Cannot access logic on unexpanded question "+this.id+" with survey "+CREATE.survey.id}return this.get("logic")||[]},hasLogic:function(){return this.getLogic().length>0},isLogicTarget:function(){var e=this,t=_.filter(CREATE.survey.get("question_logic"),function(t){return t.destination_question_id.toString()===e.id});return t.length>0},updateLogicByTarget:function(e,t){var i=this.get("logic"),n=_.indexOf(_.pluck(i,"destination_question_id"),e);if(n>-1){if(t){i[n].destination_page_id=t}else{i.splice(n,1)}this.set("logic",i)}},getFunnelSenderIds:function(){var e=this.get("funneling"),t=[];if(e){t=_.pluck(e,"sender_question_id")}return t},isFunnelSender:function(){var e=this.get("funneled_to_questions");return e!==undefined&&e.length>0},isFunnelReceiver:function(){var e=this.get("funneling");return e!==undefined&&e.length>0},hasReceiverId:function(){var e=this.get("funneling");return e&&e.length>0&&!!e[0].sender_question_id},getFunneledAnswersForSenderId:function(e){var t=_.filter(this.get("answer_options").rows,function(t){return t.funneling&&t.funneling.sender_question_id===e});return t},isSupportedSender:function(){if(this.isMultipleChoice()||this.isMatrixNonRankingMenu()&&!this.isSingleRowRatingScale()&&!this.isStarRating()){return true}return false},hasSortingOption:function(){var e=this.get("type"),t=this.isNPS(),i=e.family==="matrix",n=e.family==="single_choice",r=this.isMultipleTextbox();if(i&&!t||n||r){return true}else{return false}}},{maxHeadingLength:4e3,maxAnswerTextLength:3e3,defaultMaxRows:200,subclasses:{multiple_choice_radio:"MultipleChoiceQuestion",multiple_choice_checkbox:"CheckboxQuestion",dropdown:"DropdownQuestion",matrix_radio_weighted:"MatrixQuestion",matrix_radio_unweighted:"MatrixQuestion",matrix_checkbox:"MatrixQuestion",single_row_rating_scale:"MatrixQuestion",star_rating_scale:"StarRatingQuestion",menu_matrix:"MenuMatrixQuestion",ranking:"RankingQuestion",single_textbox:"SingleTextboxQuestion",multiple_textboxes:"MultipleTextboxQuestion",multiple_textboxes_numerical:"MultipleTextboxQuestion",comment_box:"CommentBoxQuestion",contact_info:"ContactInfoQuestion",date_time:"DateTimeQuestion",text:"TextQuestion",image:"ImageQuestion",slider:"SliderQuestion",file_upload:"FileUploadQuestion"},allowsOtherAsAnswerOption:function(e){return _.contains(["multiple_choice_radio","multiple_choice_checkbox","dropdown"],e)},supportsQuizMode:function(e){return _.contains(["dropdown","multiple_choice_checkbox","multiple_choice_radio"],e)}});CREATE.models.MultipleChoiceQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,CREATE.models.Question.prototype.quizRows,{common_name:"multiple_choice_radio",type:{family:"single_choice",name:"",subtype:"vertical"}})});CREATE.models.CheckboxQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,CREATE.models.Question.prototype.quizRows,{common_name:"multiple_choice_checkbox",type:{family:"multiple_choice",name:"",subtype:"vertical"}})});CREATE.models.DropdownQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,CREATE.models.Question.prototype.quizRows,{common_name:"dropdown",type:{family:"single_choice",name:"",subtype:"menu"}})});CREATE.models.StarRatingQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{answer_options:{cols:[{description:"",id:null,is_na_col:false,position:1,text:"",type:"col",visible:true,weight:1},{description:"",id:null,is_na_col:false,position:2,text:"",type:"col",visible:true,weight:2},{description:"",id:null,is_na_col:false,position:3,text:"",type:"col",visible:true,weight:3},{description:"",id:null,is_na_col:false,position:4,text:"",type:"col",visible:true,weight:4},{description:"",id:null,is_na_col:false,position:5,text:"",type:"col",visible:true,weight:5}],label_width:20,rows:[{description:"",id:null,position:1,text:"",type:"row",visible:true}],na_col:null},is_emoji:true,common_name:"star_rating_scale",forced_ranking:{enabled:false},type:{family:"matrix",name:"",subtype:"rating"},display_options:{display_type:"emoji",display_subtype:"star",custom_options:{color:"#F5A623"}}})});CREATE.models.MatrixQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{answer_options:{cols:[{description:"",id:null,is_na_col:false,position:1,text:"",type:"col",weight:1},{description:"",id:null,is_na_col:false,position:2,text:"",type:"col",weight:2},{description:"",id:null,is_na_col:false,position:3,text:"",type:"col",weight:3},{description:"",id:null,is_na_col:false,position:4,text:"",type:"col",weight:4},{description:"",id:null,is_na_col:false,position:5,text:"",type:"col",weight:5}],label_width:20,rows:[{description:"",id:null,position:1,text:"",type:"row",visible:true},{description:"",id:null,position:2,text:"",type:"row",visible:true},{description:"",id:null,position:3,text:"",type:"row",visible:true}],na_col:null},common_name:"matrix_radio_weighted",forced_ranking:{enabled:false},type:{family:"matrix",name:"",subtype:"rating"}})});CREATE.models.NPSQuestion=CREATE.models.Question.extend({expandNPSLogic:function(e){var t=0,i=this.id,n=this.get("page_id"),r=this.get("answer_options").cols,s=[];e.sort(function(e,t){return e.start-t.start});$.each(e,function(e,o){for(t=o.start;t<=o.end;++t){s.push({question_id:i,page_id:n,answer_id:r[t-1].id,destination_page_id:o.destination_page_id,destination_question_id:o.destination_question_id})}});return s},getNPSLogic:function(){var e=this,t=this.getLogic(),i=0,n=0,r=[],s;if(t.length===0){r=[{start:1,end:7},{start:8,end:9},{start:10,end:11}]}else{$.each(this.get("answer_options").cols,function(t,o){var a=e.getLogicForAnswerId(o.id);if(i===0){s=a;i=n=o.position}else if(a===s||a&&s&&a.destination_page_id===s.destination_page_id&&a.destination_question_id===s.destination_question_id){n=o.position}else{r.push({start:i,end:n,logic:s});i=n=o.position;s=a}});r.push({start:i,end:n,logic:s})}return r}});CREATE.models.MenuMatrixQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{answer_options:{cols:[{col_choices:[],description:"",id:null,position:1,text:"",type:"col",visible:true},{col_choices:[],description:"",id:null,position:2,text:"",type:"col",visible:true}],rows:[{description:"",id:null,position:1,text:"",type:"row",visible:true},{description:"",id:null,position:2,text:"",type:"row",visible:true},{description:"",id:null,position:3,text:"",type:"row",visible:true}]},common_name:"menu_matrix",forced_ranking:{enabled:false},type:{family:"matrix",name:"",subtype:"menu"}})});CREATE.models.RankingQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{answer_options:{rows:[{description:"",id:null,position:1,text:"",type:"row",visible:true},{description:"",id:null,position:2,text:"",type:"row",visible:true},{description:"",id:null,position:3,text:"",type:"row",visible:true}],na_col:null},common_name:"ranking",type:{family:"matrix",name:"",subtype:"ranking"}})});CREATE.models.SingleTextboxQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{answer_options:{},common_name:"single_textbox",type:{family:"open_ended",name:"",subtype:"single"}})});CREATE.models.SliderQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{answer_options:{},display_options:{display_type:"slider",display_subtype:"",left_label:"",mid_label:"",right_label:"",custom_options:{option_set:[],starting_position:0,step_size:1}},common_name:"slider",type:{family:"open_ended",name:"",subtype:"single"},validation:{enabled:true,max:"100",min:"0",text:"Please enter a whole number between {0} and {1}.",type:"integer"}})});CREATE.models.MultipleTextboxQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{common_name:"multiple_textboxes",type:{family:"open_ended",name:"",subtype:"multi"}})});CREATE.models.CommentBoxQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{common_name:"comment_box",type:{family:"open_ended",name:"",subtype:"essay"},answer_options:{}})})
;CREATE.models.ContactInfoQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{answer_options:{rows:[{description:"",id:null,position:1,text:$("#editQuestionContentContainer [data-id=contactName]").text(),type:"name",visible:true},{description:"",id:null,position:2,text:$("#editQuestionContentContainer [data-id=contactCompany]").text(),type:"company",visible:true},{description:"",id:null,position:3,text:$("#editQuestionContentContainer [data-id=contactAddress]").text(),type:"address",visible:true},{description:"",id:null,position:4,text:$("#editQuestionContentContainer [data-id=contactAddress2]").text(),type:"address2",visible:true},{description:"",id:null,position:5,text:$("#editQuestionContentContainer [data-id=contactCity]").text(),type:"city",visible:true},{description:"",id:null,position:6,text:$("#editQuestionContentContainer [data-id=contactState]").text(),type:"state",visible:true},{description:"",id:null,position:7,text:$("#editQuestionContentContainer [data-id=contactZip]").text(),type:"zip",visible:true},{description:"",id:null,position:8,text:$("#editQuestionContentContainer [data-id=contactCountry]").text(),type:"country",visible:true},{description:"",id:null,position:9,text:$("#editQuestionContentContainer [data-id=contactEmail]").text(),type:"email",visible:true},{description:"",id:null,position:10,text:$("#editQuestionContentContainer [data-id=contactPhone]").text(),type:"phone",visible:true}]},common_name:"contact_info",heading:$("#editQuestionContentContainer [data-id=contactAddress]").text(),locale:"en",type:{family:"demographic",name:"",subtype:"international"}})});CREATE.models.DateTimeQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{answer_options:{rows:[{desription:"",id:null,position:1,text:$("#dateTimeTranslation").text(),type:"row",visible:true}]},common_name:"date_time",locale:"en",type:{family:"datetime",name:"",subtype:"both"},validation:{type:"date_us"}})});CREATE.models.TextQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{answer_options:{label:{description:"",id:null,position:0,text:"",type:"label",visible:true}},common_name:"text",type:{family:"presentation",name:"",subtype:"descriptive_text"}})});CREATE.models.TextABQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.TextQuestion.prototype.defaults,{has_random_assignment:true,random_assignment:[{heading:"",percent:50,variable_id:null,variable_name:""},{heading:"",percent:50,variable_id:null,variable_name:""}]})});CREATE.models.ImageQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.TextQuestion.prototype.defaults,{answer_options:{image:{description:"",id:null,img_type:"new",position:0,s3_key:null,type:"img",url:CREATE.sample_image_url,visible:true},label:{description:"",id:null,position:0,text:"",type:"label",visible:true}},common_name:"image",locale:"en",has_new_image:true,type:{family:"presentation",name:"",subtype:"image"}})});CREATE.models.ImageABQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.ImageQuestion.prototype.defaults,{answer_options:{label:{description:"",id:null,position:0,text:"",type:"label",visible:true}},has_random_assignment:true,locale:"en",random_assignment:[{heading:"",image:{answer_id:null,img_type:"new",position:0,question_id:null,s3_key:null,type:"img",url:CREATE.sample_image_url,visible:true},percent:50,variable_name:""},{heading:"",image:{answer_id:null,img_type:"new",position:0,question_id:null,s3_key:null,type:"img",url:CREATE.sample_image_url,visible:true},percent:50,variable_name:""}]})});CREATE.models.FileUploadQuestion=CREATE.models.Question.extend({defaults:_.extend({},CREATE.models.Question.prototype.defaults,{answer_options:{},display_options:{display_type:"file_upload",display_subtype:null,custom_options:{option_set:[]}},is_file_upload:true,common_name:"file_upload",locale:"en",description:"",type:{family:"open_ended",name:"",subtype:"single"},validation:{type:"file",text:""}})});CREATE.collections.Questions=Backbone.Collection.extend({model:function(e,t){var i=e.common_name,n=CREATE.models.Question.subclasses,r,s=e.display_options?e.display_options.display_type:null,o=$.extend({pageExpanded:true},t);if(!o.pageExpanded){return new CREATE.models.Question(e)}if(e.random_assignment.length&&(i==="text"||i==="image")){if(i==="text"){r="TextABQuestion"}else if(i==="image"){r="ImageABQuestion"}}else if(e.type.name&&e.type.name.indexOf("net_promoter_score")>=0||e.question_bank&&e.question_bank.analysis_type==="net_promoter_score_type"){r="NPSQuestion"}else if(s&&s==="slider"){r="SliderQuestion"}else{r=n[i]}return new CREATE.models[r](e)},url:function(){var e="questions/";return CREATE.Ajax.addSMParam(e)},addNew:function(e){var t=e.toJSON(),i=this.url();return CREATE.Ajax.ajax(i,{data:t,method:"POST",notificationKey:"add_question"})}});CREATE.Keyboard={keypressMap:{63:function(){CREATE.Keyboard.keyboardDialog.open()}},init:function(){var e=this;e.keydown=false;e.keyboardDialog=SM.Views.create(SM.DialogView,{templateID:"keyboard-shortcuts",isModal:true});$(document).on("keyup",function(e){var t=t?t:undefined,i;if(t&&e.keyCode===9){i=t.focusedEditor;if(i&&!$(".mce-window").length){i.selection.select(i.getBody(),true)}}});$(document).bind("keydown",function(t){var i;if((t.metaKey||t.ctrlKey&&!t.altKey)&&t.which===83){if(CREATE.EditSurvey.isOpen()){t.preventDefault();CREATE.EditSurvey.save();return}if(CREATE.QuestionEditor.isOpen()){t.preventDefault();i=$(t.target);i.trigger("rteBlurred",[i]).trigger("blur");CREATE.QuestionEditor.saveEditMode();return}}else if(t.which===27){if(!$(".dialog-overlay.open, .overlay:not(.hide)").length){e._escapeFromEdits(t)}}else if(t.which===13){if($(t.target).hasClass("qbModifierInput")){t.preventDefault();$(t.target).parent().find(".save-btn").trigger("click")}}});$(document).bind("keyup",function(){e.keydown=false});$(document).bind("keypress",function(t){if(!$(t.target).is("input, textarea, select, .rte")&&!t.metaKey&&!$(".dialog-overlay.open, .overlay:not(.hide)").length){if(e.keypressMap[t.which]){e.keypressMap[t.which](t)}}})},_escapeFromEdits:function(e){if($(e.target).is(".rte.open")){e.preventDefault();$(":focus").each(function(){$(this).trigger("blur")});$("#ft").trigger("click")}else if($("#sidebar.restore")[0]){e.preventDefault();$("#restoreQuestions").trigger("click")}else if(CREATE.EditSurvey.isOpen()){e.preventDefault();CREATE.EditSurvey.cancel()}else if(CREATE.QuestionEditor.isOpen()){e.preventDefault();CREATE.QuestionEditor.cancelEditMode(true)}else if(CREATE.PageLogicOverlay.isOpen()){e.preventDefault();CREATE.PageLogicOverlay.close(false)}else if(CREATE.PageActionsOverlay.isOpen()){e.preventDefault();CREATE.PageActionsOverlay.hide()}}};function Create_Upgrade(){var e=this,t=null,i={upgradeProTemplates:"wall_surveytemplates",upgradeRandomAssignment:"wall_random_assignment",upgradeBlockRandom:"wall_block_randomization",upgradeFunneling:"wall_funneling",upgradeLogo:"wall_logo",upgradeFooter:"wall_footer",upgradePageLogic:"wall_pageskiplogic",upgradePageRandom:"wall_page_randomization",upgradeQuestionRandom:"wall_question_randomization",upgradeQuotas:"wall_quotas",upgradeCustomVariables:"wall_custom_variables",upgradeThemes:"wall_themes",upgradeGroupThemes:"wall_group_themes",upgradeQuestionLogic:"wall_questionskip_logic",upgradePiping:"wall_piping",upgradeAdvancedPiping:"wall_advanced_piping",upgradeMenuMatrix:"wall_question_menu_matrix",upgradeMaxQuestions:"wall_maxquestions",upgradeEditQBQ:"wall_qbq_edit",upgradePrint:"wall_printing",upgradeFileUpload:"wall_question_file_upload"};e.init=function(){e.initInlineUpgradeTriggers();e._initUpgradeButtonHandler()};e.initInlineUpgradeTriggers=function(){if(CREATE.survey&&!CREATE.survey.hasPermission("edit")){return}$("#create").on("click","[data-upgrade]",function(i){var n=$(i.currentTarget),r=n.attr("data-upgrade")||"upgradeUnlimited",s=n.find("a.upgrade-button").attr("href");if(!s){s=$("#"+r).attr("data-upgrade-url")}if(e.isUpgradeModalOpen()){t.$el.attr("class","upgradeModal dialog dialog-a open").addClass(r);t.$el.find("section").html($("#"+r).html());t.$el.find(".confirm-btn").attr("href",s);e.setPreviousNextModalNav(r);SM.Logger.remoteLog({update_modal_browsed:s},"info");if(n.hasClass("prev")||n.hasClass("next")){SM.Logger.enqueue({action_type:"click_upgrade_modal_"+n.attr("class"),ui_trigger:"upgradeModal"})}}else{e.openUpgradeModal(r,s)}t.position();i.stopPropagation()}).on("click","#upgradeTriggerDialog .dialog-close-btn",function(){SM.Logger.enqueue({action_type:"click_close_upgrade_modal",ui_trigger:"upgradeModal"})})};e._initUpgradeButtonHandler=function(){$("#create").on("click",".proFeature, .upgrade-button, .upgrade_bar",function(t){var i=$(t.target);if(!i.is("a.upgrade-button")){i=$(t.currentTarget).find("a.upgrade-button")}t.preventDefault();t.stopPropagation();if(CREATE.survey&&!CREATE.survey.hasPermission("edit")){return}e.saveOpenSettingsAndRedirect(i)})};e.saveOpenSettingsAndRedirect=function(e,t){var i=t||e.attr("href");if($("div.editingSurvey").length>0){$("#editSurvey .save").trigger("click")}if($("#livePreview .editing").length>0){$(".t1 .t1 .save").trigger("click");$(".t2 .t2 .save").trigger("click")}setTimeout(function(){window.location=i},100)};e.setPreviousNextModalNav=function(e){var i=t.$el.find("nav a[data-upgrade="+e+"]"),n=i.prev().attr("data-upgrade"),r=i.next().attr("data-upgrade");if(!n){n=t.$el.find("nav a:last-child").attr("data-upgrade")}if(!r){r=t.$el.find("nav a:first-child").attr("data-upgrade")}t.$el.find(".prev").attr("data-upgrade",n);t.$el.find(".next").attr("data-upgrade",r);t.$el.find("nav a").removeClass("selected");i.addClass("selected")};e.getUpgradeUrl=function(e,t){return"/pricing/upgrade/?ut_source="+i[e]+"&ut_source2="+t};e.getEnterpriseUrl=function(e,t){return"/pricing/enterprise/?ut_source="+i[e]+"&ut_source2="+t};e.openUpgradeModal=function(i,n){if(CREATE.survey&&!CREATE.survey.hasPermission("edit")){return}if(!n){n=e.getUpgradeUrl(i,"carousel")}var r=$("#"+i).html();t=SM.Views.create(SM.ConfirmDialogView,{isModal:true,width:780,html:r,templateID:"upgrade-tour"});t.$el.on("confirmDialog.beforeOpen",function(){t.$el.addClass(i);t.$el.find(".btn-txt-primary").attr("href",n);e.setPreviousNextModalNav(i);SM.Logger.remoteLog({upgrade_modal_opened:n},"info")}).on("confirmDialog.beforeClose",function(){SM.Logger.remoteLog({upgrade_modal_closed:n},"info")});t.open();SM.Logger.enqueue({action_type:"click_trigger_upgrade_modal",action_source:i.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()}).replace("upgrade_",""),ui_trigger:"upgradeModal"})};e.isUpgradeModalOpen=function(){return t&&t.isOpen()};e.handleUpgradeState=function(e){var t=CREATE.survey.get("question_count"),i=e?e:0,n=t+i,r=$("#sidebar"),s=$("#builderQuestionContainer");if(CREATE.user.hasUpgradableQuestionLimit()){if(n<CREATE.softQuestionLimit){r.toggleClass("upgrade",false)}else if(n===CREATE.softQuestionLimit){r.toggleClass("upgrade",true);$("#livePreview").removeClass("upgradeEditQBQ");if(s.find(".upgradeMaxQuestions").length){s.scrollTop(0)}}else{r.toggleClass("upgrade",true)}}};e.handleUpgradeAction=function(t){if(t==="showCarousel"){e.openUpgradeModal("upgradeMaxQuestions")}else if(t==="QBCarousel"){e.openUpgradeModal("upgradeMaxQuestions","/pricing/upgrade/?ut_source=wall_question_bank&ut_source2=carousel")}else if(t==="redirect"){e.saveOpenSettingsAndRedirect(null,"/pricing/upgrade/?ut_source=wall_maxquestions&ut_source2=accordion")}};e.cleanup=function(){}}(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.sanitizeHtml=e()}})(function(){var e,t,i;return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var l=typeof require=="function"&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var f=i[o]={exports:{}};t[o][0].call(f.exports,function(e){var i=t[o][1][e];return r(i?i:e)},f,f.exports,e,t,i,n)}return i[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){var n=e("htmlparser2");var r=e("xtend");var s=e("regexp-quote");function o(e,t){if(e)Object.keys(e).forEach(function(i){t(e[i],i)})}function a(e,t){return{}.hasOwnProperty.call(e,t)}t.exports=l;function l(e,t,i){var f="";function c(e,t){var i=this;this.tag=e;this.attribs=t||{};this.tagPosition=f.length;this.text="";this.updateParentNodeText=function(){if(y.length){var e=y[y.length-1];e.text+=i.text}}}if(!t){t=l.defaults;t.parser=u}else{t=r(l.defaults,t);if(t.parser){t.parser=r(u,t.parser)}else{t.parser=u}}var h=t.nonTextTags||["script","style","textarea"];var d;var p;if(t.allowedAttributes){d={};p={};o(t.allowedAttributes,function(e,t){d[t]=[];var i=[];e.forEach(function(e){if(e.indexOf("*")>=0){i.push(s(e).replace(/\\\*/g,".*"))}else{d[t].push(e)}});p[t]=new RegExp("^("+i.join("|")+")$")})}var g={};o(t.allowedClasses,function(e,t){if(d){if(!a(d,t)){d[t]=[]}d[t].push("class")}g[t]=e});var m={};var _;o(t.transformTags,function(e,t){var i;if(typeof e==="function"){i=e}else if(typeof e==="string"){i=l.simpleTransform(e)}if(t==="*"){_=i}else{m[t]=i}});var v=0;var y=[];var b={};var w={};var x=false;var E=0;var M=new n.Parser({onopentag:function(e,i){if(x){E++;return}var n=new c(e,i);y.push(n);var r=false;var s=n.text?true:false;var l;if(a(m,e)){l=m[e](e,i);n.attribs=i=l.attribs;if(l.text!==undefined){n.innerText=l.text}if(e!==l.tagName){n.name=e=l.tagName;w[v]=l.tagName}}if(_){l=_(e,i);n.attribs=i=l.attribs;if(e!==l.tagName){n.name=e=l.tagName;w[v]=l.tagName}}if(t.allowedTags&&t.allowedTags.indexOf(e)===-1){r=true;if(h.indexOf(e)!==-1){x=true;E=1}b[v]=true}v++;if(r){return}f+="<"+e;if(!d||a(d,e)||d["*"]){o(i,function(t,i){if(!d||a(d,e)&&d[e].indexOf(i)!==-1||d["*"]&&d["*"].indexOf(i)!==-1||a(p,e)&&p[e].test(i)||p["*"]&&p["*"].test(i)){if(i==="href"||i==="src"){if(A(e,t)){delete n.attribs[i];return}}if(i==="class"){t=C(t,g[e]);if(!t.length){delete n.attribs[i];return}}f+=" "+i;if(t.length){f+='="'+S(t)+'"'}}else{delete n.attribs[i]}})}if(t.selfClosing.indexOf(e)!==-1){f+=" />"}else{f+=">";if(n.innerText&&!s&&!t.textFilter){f+=n.innerText}}},ontext:function(e){if(x){return}var i=y[y.length-1];var n;if(i){n=i.tag;e=i.innerText!==undefined?i.innerText:e}if(n==="script"||n==="style"){f+=e}else{var r=S(e);if(t.textFilter){f+=t.textFilter(r)}else{f+=r}}if(y.length){var s=y[y.length-1];s.text+=e}},onclosetag:function(e){if(x){E--;if(!E){x=false}else{return}}var i=y.pop();if(!i){return}x=false;v--;if(b[v]){delete b[v];i.updateParentNodeText();return}if(w[v]){e=w[v];delete w[v]}if(t.exclusiveFilter&&t.exclusiveFilter(i)){f=f.substr(0,i.tagPosition);return}i.updateParentNodeText();if(t.selfClosing.indexOf(e)!==-1){return}f+="</"+e+">"}},t.parser);M.write(e);M.end();return f;function S(e){if(typeof e!=="string"){e=e+""}return e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}function A(e,i){i=i.replace(/[\x00-\x20]+/g,"");i=i.replace(/<\!\-\-.*?\-\-\>/g,"");var n=i.match(/^([a-zA-Z]+)\:/);if(!n){return false}var r=n[1].toLowerCase();if(a(t.allowedSchemesByTag,e)){return t.allowedSchemesByTag[e].indexOf(r)===-1}return!t.allowedSchemes||t.allowedSchemes.indexOf(r)===-1}function C(e,t){if(!t){return e}e=e.split(/\s+/);return e.filter(function(e){return t.indexOf(e)!==-1}).join(" ")}}var u={decodeEntities:true};l.defaults={allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre"],allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{}};l.simpleTransform=function(e,t,i){i=i===undefined?true:i;t=t||{};return function(n,r){var s;if(i){for(s in t){r[s]=t[s]}}else{r=t}return{tagName:e,attribs:r}}}},{htmlparser2:36,"regexp-quote":54,xtend:58}],2:[function(e,t,i){"use strict";i.byteLength=f;i.toByteArray=c;i.fromByteArray=p;var n=[];var r=[];var s=typeof Uint8Array!=="undefined"?Uint8Array:Array;var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var a=0,l=o.length;a<l;++a){n[a]=o[a];r[o.charCodeAt(a)]=a}r["-".charCodeAt(0)]=62;r["_".charCodeAt(0)]=63;function u(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}return e[t-2]==="="?2:e[t-1]==="="?1:0}function f(e){return e.length*3/4-u(e)}function c(e){var t,i,n,o,a,l;var f=e.length;a=u(e);l=new s(f*3/4-a);n=a>0?f-4:f;var c=0;for(t=0,i=0;t<n;t+=4,i+=3){o=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)];l[c++]=o>>16&255;l[c++]=o>>8&255;l[c++]=o&255}if(a===2){o=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4;l[c++]=o&255}else if(a===1){o=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2;l[c++]=o>>8&255;l[c++]=o&255}return l}function h(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}function d(e,t,i){var n;var r=[];for(var s=t;s<i;s+=3){n=(e[s]<<16)+(e[s+1]<<8)+e[s+2];r.push(h(n))}return r.join("")}function p(e){var t;var i=e.length;var r=i%3;var s="";var o=[];var a=16383;for(var l=0,u=i-r;l<u;l+=a){o.push(d(e,l,l+a>u?u:l+a))}if(r===1){t=e[i-1];s+=n[t>>2];s+=n[t<<4&63];s+="=="}else if(r===2){t=(e[i-2]<<8)+e[i-1];s+=n[t>>10];s+=n[t>>4&63];s+=n[t<<2&63];s+="="}o.push(s);return o.join("")}},{}],3:[function(e,t,i){},{}],4:[function(e,t,i){(function(t){"use strict";var n=e("buffer");var r=n.Buffer;var s=n.SlowBuffer;var o=n.kMaxLength||2147483647;i.alloc=function e(t,i,n){if(typeof r.alloc==="function"){return r.alloc(t,i,n)}if(typeof n==="number"){throw new TypeError("encoding must not be number")}if(typeof t!=="number"){throw new TypeError("size must be a number")}if(t>o){throw new RangeError("size is too large")}var s=n;var a=i;if(a===undefined){s=undefined;a=0}var l=new r(t);if(typeof a==="string"){var u=new r(a,s);var f=u.length;var c=-1;while(++c<t){l[c]=u[c%f]}}else{l.fill(a)}return l};i.allocUnsafe=function e(t){if(typeof r.allocUnsafe==="function"){return r.allocUnsafe(t)}if(typeof t!=="number"){throw new TypeError("size must be a number")}if(t>o){throw new RangeError("size is too large")}return new r(t)};i.from=function e(i,n,s){if(typeof r.from==="function"&&(!t.Uint8Array||Uint8Array.from!==r.from)){return r.from(i,n,s)}if(typeof i==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof i==="string"){return new r(i,n)}if(typeof ArrayBuffer!=="undefined"&&i instanceof ArrayBuffer){var o=n;if(arguments.length===1){return new r(i)}if(typeof o==="undefined"){o=0}var a=s;if(typeof a==="undefined"){a=i.byteLength-o}if(o>=i.byteLength){throw new RangeError("'offset' is out of bounds")}if(a>i.byteLength-o){throw new RangeError("'length' is out of bounds")}return new r(i.slice(o,o+a))}if(r.isBuffer(i)){var l=new r(i.length);i.copy(l,0,0,i.length);return l}if(i){if(Array.isArray(i)||typeof ArrayBuffer!=="undefined"&&i.buffer instanceof ArrayBuffer||"length"in i){return new r(i)}if(i.type==="Buffer"&&Array.isArray(i.data)){return new r(i.data)}}throw new TypeError("First argument must be a string, Buffer, "+"ArrayBuffer, Array, or array-like object.")};i.allocUnsafeSlow=function e(t){if(typeof r.allocUnsafeSlow==="function"){return r.allocUnsafeSlow(t)}if(typeof t!=="number"){throw new TypeError("size must be a number")}if(t>=o){throw new RangeError("size is too large")}return new s(t)}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{buffer:5}],5:[function(e,t,i){(function(t){"use strict";var n=e("base64-js");var r=e("ieee754");var s=e("isarray");i.Buffer=u;i.SlowBuffer=y;i.INSPECT_MAX_BYTES=50;u.TYPED_ARRAY_SUPPORT=t.TYPED_ARRAY_SUPPORT!==undefined?t.TYPED_ARRAY_SUPPORT:o();i.kMaxLength=a();function o(){try{var e=new Uint8Array(1);e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return e.foo()===42&&typeof e.subarray==="function"&&e.subarray(1,1).byteLength===0}catch(e){return false}}function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(a()<t){throw new RangeError("Invalid typed array length")}if(u.TYPED_ARRAY_SUPPORT){e=new Uint8Array(t);e.__proto__=u.prototype}else{if(e===null){e=new u(t)}e.length=t}return e}function u(e,t,i){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u)){return new u(e,t,i)}if(typeof e==="number"){if(typeof t==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return d(this,e)}return f(this,e,t,i)}u.poolSize=8192;u._augment=function(e){e.__proto__=u.prototype;return e};function f(e,t,i,n){if(typeof t==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&t instanceof ArrayBuffer){return m(e,t,i,n)}if(typeof t==="string"){return p(e,t,i)}return _(e,t)}u.from=function(e,t,i){return f(null,e,t,i)};if(u.TYPED_ARRAY_SUPPORT){u.prototype.__proto__=Uint8Array.prototype;u.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&u[Symbol.species]===u){Object.defineProperty(u,Symbol.species,{value:null,configurable:true})}}function c(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be a number')}else if(e<0){throw new RangeError('"size" argument must not be negative')}}function h(e,t,i,n){c(t);if(t<=0){return l(e,t)}if(i!==undefined){return typeof n==="string"?l(e,t).fill(i,n):l(e,t).fill(i)}return l(e,t)}u.alloc=function(e,t,i){return h(null,e,t,i)};function d(e,t){c(t);e=l(e,t<0?0:v(t)|0);if(!u.TYPED_ARRAY_SUPPORT){for(var i=0;i<t;++i){e[i]=0}}return e}u.allocUnsafe=function(e){return d(null,e)};u.allocUnsafeSlow=function(e){return d(null,e)};function p(e,t,i){if(typeof i!=="string"||i===""){i="utf8"}if(!u.isEncoding(i)){throw new TypeError('"encoding" must be a valid string encoding')}var n=b(t,i)|0;e=l(e,n);var r=e.write(t,i);if(r!==n){e=e.slice(0,r)}return e}function g(e,t){var i=t.length<0?0:v(t.length)|0;e=l(e,i);for(var n=0;n<i;n+=1){e[n]=t[n]&255}return e}function m(e,t,i,n){t.byteLength;if(i<0||t.byteLength<i){throw new RangeError("'offset' is out of bounds")}if(t.byteLength<i+(n||0)){throw new RangeError("'length' is out of bounds")}if(i===undefined&&n===undefined){t=new Uint8Array(t)}else if(n===undefined){t=new Uint8Array(t,i)}else{t=new Uint8Array(t,i,n)}if(u.TYPED_ARRAY_SUPPORT){e=t;e.__proto__=u.prototype}else{e=g(e,t)}return e}function _(e,t){if(u.isBuffer(t)){var i=v(t.length)|0;e=l(e,i);if(e.length===0){return e}t.copy(e,0,0,i);return e}if(t){if(typeof ArrayBuffer!=="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t){if(typeof t.length!=="number"||te(t.length)){return l(e,0)}return g(e,t)}if(t.type==="Buffer"&&s(t.data)){return g(e,t.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(e){if(e>=a()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+a().toString(16)+" bytes")}return e|0}function y(e){if(+e!=e){e=0}return u.alloc(+e)}u.isBuffer=function e(t){return!!(t!=null&&t._isBuffer)};u.compare=function e(t,i){if(!u.isBuffer(t)||!u.isBuffer(i)){throw new TypeError("Arguments must be Buffers")}if(t===i)return 0;var n=t.length;var r=i.length;for(var s=0,o=Math.min(n,r);s<o;++s){if(t[s]!==i[s]){n=t[s];r=i[s];break}}if(n<r)return-1;if(r<n)return 1;return 0};u.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};u.concat=function e(t,i){if(!s(t)){throw new TypeError('"list" argument must be an Array of Buffers')}if(t.length===0){return u.alloc(0)}var n;if(i===undefined){i=0;for(n=0;n<t.length;++n){i+=t[n].length}}var r=u.allocUnsafe(i);var o=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a)){throw new TypeError('"list" argument must be an Array of Buffers')}a.copy(r,o);o+=a.length}return r};function b(e,t){if(u.isBuffer(e)){return e.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){e=""+e}var i=e.length;if(i===0)return 0;var n=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case undefined:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Z(e).length;default:if(n)return Y(e).length;t=(""+t).toLowerCase();n=true}}}u.byteLength=b;function w(e,t,i){var n=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(i===undefined||i>this.length){i=this.length}if(i<=0){return""}i>>>=0;t>>>=0;if(i<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return N(this,t,i);case"utf8":case"utf-8":return q(this,t,i);case"ascii":return j(this,t,i);case"latin1":case"binary":return D(this,t,i);case"base64":return P(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();n=true}}}u.prototype._isBuffer=true;function x(e,t,i){var n=e[t];e[t]=e[i];e[i]=n}u.prototype.swap16=function e(){var t=this.length;if(t%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<t;i+=2){x(this,i,i+1)}return this};u.prototype.swap32=function e(){var t=this.length;if(t%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<t;i+=4){x(this,i,i+3);x(this,i+1,i+2)}return this};u.prototype.swap64=function e(){var t=this.length;if(t%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<t;i+=8){x(this,i,i+7);x(this,i+1,i+6);x(this,i+2,i+5);x(this,i+3,i+4)}return this};u.prototype.toString=function e(){var t=this.length|0;if(t===0)return"";if(arguments.length===0)return q(this,0,t);return w.apply(this,arguments)};u.prototype.equals=function e(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(this===t)return true;return u.compare(this,t)===0};u.prototype.inspect=function e(){var t="";var n=i.INSPECT_MAX_BYTES;if(this.length>0){t=this.toString("hex",0,n).match(/.{2}/g).join(" ");if(this.length>n)t+=" ... "}return"<Buffer "+t+">"};u.prototype.compare=function e(t,i,n,r,s){if(!u.isBuffer(t)){throw new TypeError("Argument must be a Buffer")}if(i===undefined){i=0}if(n===undefined){n=t?t.length:0}if(r===undefined){r=0}if(s===undefined){s=this.length}if(i<0||n>t.length||r<0||s>this.length){throw new RangeError("out of range index")}if(r>=s&&i>=n){return 0}if(r>=s){return-1}if(i>=n){return 1}i>>>=0;n>>>=0;r>>>=0;s>>>=0;if(this===t)return 0;var o=s-r;var a=n-i;var l=Math.min(o,a);var f=this.slice(r,s);var c=t.slice(i,n);for(var h=0;h<l;++h){if(f[h]!==c[h]){o=f[h];a=c[h];break}}if(o<a)return-1;if(a<o)return 1;return 0};function E(e,t,i,n,r){if(e.length===0)return-1;if(typeof i==="string"){n=i;i=0}else if(i>2147483647){i=2147483647}else if(i<-2147483648){i=-2147483648}i=+i;if(isNaN(i)){i=r?0:e.length-1}if(i<0)i=e.length+i;if(i>=e.length){if(r)return-1;else i=e.length-1}else if(i<0){if(r)i=0;else return-1}if(typeof t==="string"){t=u.from(t,n)}if(u.isBuffer(t)){if(t.length===0){return-1}return M(e,t,i,n,r)}else if(typeof t==="number"){t=t&255;if(u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(r){return Uint8Array.prototype.indexOf.call(e,t,i)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,i)}}return M(e,[t],i,n,r)}throw new TypeError("val must be string, number or Buffer")}function M(e,t,i,n,r){var s=1;var o=e.length;var a=t.length;if(n!==undefined){n=String(n).toLowerCase();if(n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le"){if(e.length<2||t.length<2){return-1}s=2;o/=2;a/=2;i/=2}}function l(e,t){if(s===1){return e[t]}else{return e.readUInt16BE(t*s)}}var u;if(r){var f=-1;for(u=i;u<o;u++){if(l(e,u)===l(t,f===-1?0:u-f)){if(f===-1)f=u;if(u-f+1===a)return f*s}else{if(f!==-1)u-=u-f;f=-1}}}else{if(i+a>o)i=o-a;for(u=i;u>=0;u--){var c=true;for(var h=0;h<a;h++){if(l(e,u+h)!==l(t,h)){c=false;break}}if(c)return u}}return-1}u.prototype.includes=function e(t,i,n){return this.indexOf(t,i,n)!==-1};u.prototype.indexOf=function e(t,i,n){return E(this,t,i,n,true)};u.prototype.lastIndexOf=function e(t,i,n){return E(this,t,i,n,false)};function S(e,t,i,n){i=Number(i)||0;var r=e.length-i;if(!n){n=r}else{n=Number(n);if(n>r){n=r}}var s=t.length;if(s%2!==0)throw new TypeError("Invalid hex string");if(n>s/2){n=s/2}for(var o=0;o<n;++o){var a=parseInt(t.substr(o*2,2),16);if(isNaN(a))return o;e[i+o]=a}return o}function A(e,t,i,n){return ee(Y(t,e.length-i),e,i,n)}function C(e,t,i,n){return ee(X(t),e,i,n)}function T(e,t,i,n){return C(e,t,i,n)}function k(e,t,i,n){return ee(Z(t),e,i,n)}function R(e,t,i,n){return ee(J(t,e.length-i),e,i,n)}u.prototype.write=function e(t,i,n,r){if(i===undefined){r="utf8";n=this.length;i=0}else if(n===undefined&&typeof i==="string"){r=i;n=this.length;i=0}else if(isFinite(i)){i=i|0;if(isFinite(n)){n=n|0;if(r===undefined)r="utf8"}else{r=n;n=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var s=this.length-i;if(n===undefined||n>s)n=s;if(t.length>0&&(n<0||i<0)||i>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!r)r="utf8";var o=false;for(;;){switch(r){case"hex":return S(this,t,i,n);case"utf8":case"utf-8":return A(this,t,i,n);case"ascii":return C(this,t,i,n);case"latin1":case"binary":return T(this,t,i,n);case"base64":return k(this,t,i,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,i,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase();o=true}}};u.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,i){if(t===0&&i===e.length){return n.fromByteArray(e)}else{return n.fromByteArray(e.slice(t,i))}}function q(e,t,i){i=Math.min(e.length,i);var n=[];var r=t;while(r<i){var s=e[r];var o=null;var a=s>239?4:s>223?3:s>191?2:1;if(r+a<=i){var l,u,f,c;switch(a){case 1:if(s<128){o=s}break;case 2:l=e[r+1];if((l&192)===128){c=(s&31)<<6|l&63;if(c>127){o=c}}break;case 3:l=e[r+1];u=e[r+2];if((l&192)===128&&(u&192)===128){c=(s&15)<<12|(l&63)<<6|u&63;if(c>2047&&(c<55296||c>57343)){o=c}}break;case 4:l=e[r+1];u=e[r+2];f=e[r+3];if((l&192)===128&&(u&192)===128&&(f&192)===128){c=(s&15)<<18|(l&63)<<12|(u&63)<<6|f&63;if(c>65535&&c<1114112){o=c}}}}if(o===null){o=65533;a=1}else if(o>65535){o-=65536;n.push(o>>>10&1023|55296);o=56320|o&1023}n.push(o);r+=a}return O(n)}var I=4096;function O(e){var t=e.length;if(t<=I){return String.fromCharCode.apply(String,e)}var i="";var n=0;while(n<t){i+=String.fromCharCode.apply(String,e.slice(n,n+=I))}return i}function j(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r){n+=String.fromCharCode(e[r]&127)}return n}function D(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r){n+=String.fromCharCode(e[r])}return n}function N(e,t,i){var n=e.length;if(!t||t<0)t=0;if(!i||i<0||i>n)i=n;var r="";for(var s=t;s<i;++s){r+=G(e[s])}return r}function L(e,t,i){var n=e.slice(t,i);var r="";for(var s=0;s<n.length;s+=2){r+=String.fromCharCode(n[s]+n[s+1]*256)}return r}u.prototype.slice=function e(t,i){var n=this.length;t=~~t;i=i===undefined?n:~~i;if(t<0){t+=n;if(t<0)t=0}else if(t>n){t=n}if(i<0){i+=n;if(i<0)i=0}else if(i>n){i=n}if(i<t)i=t;var r;if(u.TYPED_ARRAY_SUPPORT){r=this.subarray(t,i);r.__proto__=u.prototype}else{var s=i-t;r=new u(s,undefined);for(var o=0;o<s;++o){
r[o]=this[o+t]}}return r};function z(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function e(t,i,n){t=t|0;i=i|0;if(!n)z(t,i,this.length);var r=this[t];var s=1;var o=0;while(++o<i&&(s*=256)){r+=this[t+o]*s}return r};u.prototype.readUIntBE=function e(t,i,n){t=t|0;i=i|0;if(!n){z(t,i,this.length)}var r=this[t+--i];var s=1;while(i>0&&(s*=256)){r+=this[t+--i]*s}return r};u.prototype.readUInt8=function e(t,i){if(!i)z(t,1,this.length);return this[t]};u.prototype.readUInt16LE=function e(t,i){if(!i)z(t,2,this.length);return this[t]|this[t+1]<<8};u.prototype.readUInt16BE=function e(t,i){if(!i)z(t,2,this.length);return this[t]<<8|this[t+1]};u.prototype.readUInt32LE=function e(t,i){if(!i)z(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};u.prototype.readUInt32BE=function e(t,i){if(!i)z(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};u.prototype.readIntLE=function e(t,i,n){t=t|0;i=i|0;if(!n)z(t,i,this.length);var r=this[t];var s=1;var o=0;while(++o<i&&(s*=256)){r+=this[t+o]*s}s*=128;if(r>=s)r-=Math.pow(2,8*i);return r};u.prototype.readIntBE=function e(t,i,n){t=t|0;i=i|0;if(!n)z(t,i,this.length);var r=i;var s=1;var o=this[t+--r];while(r>0&&(s*=256)){o+=this[t+--r]*s}s*=128;if(o>=s)o-=Math.pow(2,8*i);return o};u.prototype.readInt8=function e(t,i){if(!i)z(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};u.prototype.readInt16LE=function e(t,i){if(!i)z(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};u.prototype.readInt16BE=function e(t,i){if(!i)z(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};u.prototype.readInt32LE=function e(t,i){if(!i)z(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};u.prototype.readInt32BE=function e(t,i){if(!i)z(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};u.prototype.readFloatLE=function e(t,i){if(!i)z(t,4,this.length);return r.read(this,t,true,23,4)};u.prototype.readFloatBE=function e(t,i){if(!i)z(t,4,this.length);return r.read(this,t,false,23,4)};u.prototype.readDoubleLE=function e(t,i){if(!i)z(t,8,this.length);return r.read(this,t,true,52,8)};u.prototype.readDoubleBE=function e(t,i){if(!i)z(t,8,this.length);return r.read(this,t,false,52,8)};function $(e,t,i,n,r,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function e(t,i,n,r){t=+t;i=i|0;n=n|0;if(!r){var s=Math.pow(2,8*n)-1;$(this,t,i,n,s,0)}var o=1;var a=0;this[i]=t&255;while(++a<n&&(o*=256)){this[i+a]=t/o&255}return i+n};u.prototype.writeUIntBE=function e(t,i,n,r){t=+t;i=i|0;n=n|0;if(!r){var s=Math.pow(2,8*n)-1;$(this,t,i,n,s,0)}var o=n-1;var a=1;this[i+o]=t&255;while(--o>=0&&(a*=256)){this[i+o]=t/a&255}return i+n};u.prototype.writeUInt8=function e(t,i,n){t=+t;i=i|0;if(!n)$(this,t,i,1,255,0);if(!u.TYPED_ARRAY_SUPPORT)t=Math.floor(t);this[i]=t&255;return i+1};function H(e,t,i,n){if(t<0)t=65535+t+1;for(var r=0,s=Math.min(e.length-i,2);r<s;++r){e[i+r]=(t&255<<8*(n?r:1-r))>>>(n?r:1-r)*8}}u.prototype.writeUInt16LE=function e(t,i,n){t=+t;i=i|0;if(!n)$(this,t,i,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[i]=t&255;this[i+1]=t>>>8}else{H(this,t,i,true)}return i+2};u.prototype.writeUInt16BE=function e(t,i,n){t=+t;i=i|0;if(!n)$(this,t,i,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[i]=t>>>8;this[i+1]=t&255}else{H(this,t,i,false)}return i+2};function B(e,t,i,n){if(t<0)t=4294967295+t+1;for(var r=0,s=Math.min(e.length-i,4);r<s;++r){e[i+r]=t>>>(n?r:3-r)*8&255}}u.prototype.writeUInt32LE=function e(t,i,n){t=+t;i=i|0;if(!n)$(this,t,i,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[i+3]=t>>>24;this[i+2]=t>>>16;this[i+1]=t>>>8;this[i]=t&255}else{B(this,t,i,true)}return i+4};u.prototype.writeUInt32BE=function e(t,i,n){t=+t;i=i|0;if(!n)$(this,t,i,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[i]=t>>>24;this[i+1]=t>>>16;this[i+2]=t>>>8;this[i+3]=t&255}else{B(this,t,i,false)}return i+4};u.prototype.writeIntLE=function e(t,i,n,r){t=+t;i=i|0;if(!r){var s=Math.pow(2,8*n-1);$(this,t,i,n,s-1,-s)}var o=0;var a=1;var l=0;this[i]=t&255;while(++o<n&&(a*=256)){if(t<0&&l===0&&this[i+o-1]!==0){l=1}this[i+o]=(t/a>>0)-l&255}return i+n};u.prototype.writeIntBE=function e(t,i,n,r){t=+t;i=i|0;if(!r){var s=Math.pow(2,8*n-1);$(this,t,i,n,s-1,-s)}var o=n-1;var a=1;var l=0;this[i+o]=t&255;while(--o>=0&&(a*=256)){if(t<0&&l===0&&this[i+o+1]!==0){l=1}this[i+o]=(t/a>>0)-l&255}return i+n};u.prototype.writeInt8=function e(t,i,n){t=+t;i=i|0;if(!n)$(this,t,i,1,127,-128);if(!u.TYPED_ARRAY_SUPPORT)t=Math.floor(t);if(t<0)t=255+t+1;this[i]=t&255;return i+1};u.prototype.writeInt16LE=function e(t,i,n){t=+t;i=i|0;if(!n)$(this,t,i,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[i]=t&255;this[i+1]=t>>>8}else{H(this,t,i,true)}return i+2};u.prototype.writeInt16BE=function e(t,i,n){t=+t;i=i|0;if(!n)$(this,t,i,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[i]=t>>>8;this[i+1]=t&255}else{H(this,t,i,false)}return i+2};u.prototype.writeInt32LE=function e(t,i,n){t=+t;i=i|0;if(!n)$(this,t,i,4,2147483647,-2147483648);if(u.TYPED_ARRAY_SUPPORT){this[i]=t&255;this[i+1]=t>>>8;this[i+2]=t>>>16;this[i+3]=t>>>24}else{B(this,t,i,true)}return i+4};u.prototype.writeInt32BE=function e(t,i,n){t=+t;i=i|0;if(!n)$(this,t,i,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;if(u.TYPED_ARRAY_SUPPORT){this[i]=t>>>24;this[i+1]=t>>>16;this[i+2]=t>>>8;this[i+3]=t&255}else{B(this,t,i,false)}return i+4};function F(e,t,i,n,r,s){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Q(e,t,i,n,s){if(!s){F(e,t,i,4,3.4028234663852886e38,-3.4028234663852886e38)}r.write(e,t,i,n,23,4);return i+4}u.prototype.writeFloatLE=function e(t,i,n){return Q(this,t,i,true,n)};u.prototype.writeFloatBE=function e(t,i,n){return Q(this,t,i,false,n)};function U(e,t,i,n,s){if(!s){F(e,t,i,8,1.7976931348623157e308,-1.7976931348623157e308)}r.write(e,t,i,n,52,8);return i+8}u.prototype.writeDoubleLE=function e(t,i,n){return U(this,t,i,true,n)};u.prototype.writeDoubleBE=function e(t,i,n){return U(this,t,i,false,n)};u.prototype.copy=function e(t,i,n,r){if(!n)n=0;if(!r&&r!==0)r=this.length;if(i>=t.length)i=t.length;if(!i)i=0;if(r>0&&r<n)r=n;if(r===n)return 0;if(t.length===0||this.length===0)return 0;if(i<0){throw new RangeError("targetStart out of bounds")}if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");if(r>this.length)r=this.length;if(t.length-i<r-n){r=t.length-i+n}var s=r-n;var o;if(this===t&&n<i&&i<r){for(o=s-1;o>=0;--o){t[o+i]=this[o+n]}}else if(s<1e3||!u.TYPED_ARRAY_SUPPORT){for(o=0;o<s;++o){t[o+i]=this[o+n]}}else{Uint8Array.prototype.set.call(t,this.subarray(n,n+s),i)}return s};u.prototype.fill=function e(t,i,n,r){if(typeof t==="string"){if(typeof i==="string"){r=i;i=0;n=this.length}else if(typeof n==="string"){r=n;n=this.length}if(t.length===1){var s=t.charCodeAt(0);if(s<256){t=s}}if(r!==undefined&&typeof r!=="string"){throw new TypeError("encoding must be a string")}if(typeof r==="string"&&!u.isEncoding(r)){throw new TypeError("Unknown encoding: "+r)}}else if(typeof t==="number"){t=t&255}if(i<0||this.length<i||this.length<n){throw new RangeError("Out of range index")}if(n<=i){return this}i=i>>>0;n=n===undefined?this.length:n>>>0;if(!t)t=0;var o;if(typeof t==="number"){for(o=i;o<n;++o){this[o]=t}}else{var a=u.isBuffer(t)?t:Y(new u(t,r).toString());var l=a.length;for(o=0;o<n-i;++o){this[o+i]=a[o%l]}}return this};var W=/[^+\/0-9A-Za-z-_]/g;function K(e){e=V(e).replace(W,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function V(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function G(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function Y(e,t){t=t||Infinity;var i;var n=e.length;var r=null;var s=[];for(var o=0;o<n;++o){i=e.charCodeAt(o);if(i>55295&&i<57344){if(!r){if(i>56319){if((t-=3)>-1)s.push(239,191,189);continue}else if(o+1===n){if((t-=3)>-1)s.push(239,191,189);continue}r=i;continue}if(i<56320){if((t-=3)>-1)s.push(239,191,189);r=i;continue}i=(r-55296<<10|i-56320)+65536}else if(r){if((t-=3)>-1)s.push(239,191,189)}r=null;if(i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else{throw new Error("Invalid code point")}}return s}function X(e){var t=[];for(var i=0;i<e.length;++i){t.push(e.charCodeAt(i)&255)}return t}function J(e,t){var i,n,r;var s=[];for(var o=0;o<e.length;++o){if((t-=2)<0)break;i=e.charCodeAt(o);n=i>>8;r=i%256;s.push(r);s.push(n)}return s}function Z(e){return n.toByteArray(K(e))}function ee(e,t,i,n){for(var r=0;r<n;++r){if(r+i>=t.length||r>=e.length)break;t[r+i]=e[r]}return r}function te(e){return e!==e}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":2,ieee754:37,isarray:40}],6:[function(e,t,i){(function(e){function t(e){if(Array.isArray){return Array.isArray(e)}return m(e)==="[object Array]"}i.isArray=t;function n(e){return typeof e==="boolean"}i.isBoolean=n;function r(e){return e===null}i.isNull=r;function s(e){return e==null}i.isNullOrUndefined=s;function o(e){return typeof e==="number"}i.isNumber=o;function a(e){return typeof e==="string"}i.isString=a;function l(e){return typeof e==="symbol"}i.isSymbol=l;function u(e){return e===void 0}i.isUndefined=u;function f(e){return m(e)==="[object RegExp]"}i.isRegExp=f;function c(e){return typeof e==="object"&&e!==null}i.isObject=c;function h(e){return m(e)==="[object Date]"}i.isDate=h;function d(e){return m(e)==="[object Error]"||e instanceof Error}i.isError=d;function p(e){return typeof e==="function"}i.isFunction=p;function g(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}i.isPrimitive=g;i.isBuffer=e.isBuffer;function m(e){return Object.prototype.toString.call(e)}}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":39}],7:[function(e,t,i){var n=e("domelementtype");var r=e("entities");var s={__proto__:null,allowfullscreen:true,async:true,autofocus:true,autoplay:true,checked:true,controls:true,default:true,defer:true,disabled:true,hidden:true,ismap:true,loop:true,multiple:true,muted:true,open:true,readonly:true,required:true,reversed:true,scoped:true,seamless:true,selected:true,typemustmatch:true};var o={__proto__:null,style:true,script:true,xmp:true,iframe:true,noembed:true,noframes:true,plaintext:true,noscript:true};function a(e,t){if(!e)return;var i="",n;for(var o in e){n=e[o];if(i){i+=" "}if(!n&&s[o]){i+=o}else{i+=o+'="'+(t.decodeEntities?r.encodeXML(n):n)+'"'}}return i}var l={__proto__:null,area:true,base:true,basefont:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,isindex:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};var u=t.exports=function(e,t){if(!Array.isArray(e)&&!e.cheerio)e=[e];t=t||{};var i="";for(var r=0;r<e.length;r++){var s=e[r];if(s.type==="root")i+=u(s.children,t);else if(n.isTag(s))i+=f(s,t);else if(s.type===n.Directive)i+=c(s);else if(s.type===n.Comment)i+=p(s);else if(s.type===n.CDATA)i+=d(s);else i+=h(s,t)}return i};function f(e,t){if(e.name==="svg")t={decodeEntities:t.decodeEntities,xmlMode:true};var i="<"+e.name,n=a(e.attribs,t);if(n){i+=" "+n}if(t.xmlMode&&(!e.children||e.children.length===0)){i+="/>"}else{i+=">";if(e.children){i+=u(e.children,t)}if(!l[e.name]||t.xmlMode){i+="</"+e.name+">"}}return i}function c(e){return"<"+e.data+">"}function h(e,t){var i=e.data||"";if(t.decodeEntities&&!(e.parent&&e.parent.name in o)){i=r.encodeXML(i)}return i}function d(e){return"<![CDATA["+e.children[0].data+"]]>"}function p(e){return"<!--"+e.data+"-->"}},{domelementtype:8,entities:20}],8:[function(e,t,i){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(e){return e.type==="tag"||e.type==="script"||e.type==="style"}}},{}],9:[function(e,t,i){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return e.type==="tag"||e.type==="script"||e.type==="style"}}},{}],10:[function(e,t,i){var n=e("domelementtype");var r=/\s+/g;var s=e("./lib/node");var o=e("./lib/element");function a(e,t,i){if(typeof e==="object"){i=t;t=e;e=null}else if(typeof t==="function"){i=t;t=l}this._callback=e;this._options=t||l;this._elementCB=i;this.dom=[];this._done=false;this._tagStack=[];this._parser=this._parser||null}var l={normalizeWhitespace:false,withStartIndices:false};a.prototype.onparserinit=function(e){this._parser=e};a.prototype.onreset=function(){a.call(this,this._callback,this._options,this._elementCB)};a.prototype.onend=function(){if(this._done)return;this._done=true;this._parser=null;this._handleCallback(null)};a.prototype._handleCallback=a.prototype.onerror=function(e){if(typeof this._callback==="function"){this._callback(e,this.dom)}else{if(e)throw e}};a.prototype.onclosetag=function(){var e=this._tagStack.pop();if(this._elementCB)this._elementCB(e)};a.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1];var i=t?t.children:this.dom;var n=i[i.length-1];e.next=null;if(this._options.withStartIndices){e.startIndex=this._parser.startIndex}if(this._options.withDomLvl1){e.__proto__=e.type==="tag"?o:s}if(n){e.prev=n;n.next=e}else{e.prev=null}i.push(e);e.parent=t||null};a.prototype.onopentag=function(e,t){var i={type:e==="script"?n.Script:e==="style"?n.Style:n.Tag,name:e,attribs:t,children:[]};this._addDomElement(i);this._tagStack.push(i)};a.prototype.ontext=function(e){var t=this._options.normalizeWhitespace||this._options.ignoreWhitespace;var i;if(!this._tagStack.length&&this.dom.length&&(i=this.dom[this.dom.length-1]).type===n.Text){if(t){i.data=(i.data+e).replace(r," ")}else{i.data+=e}}else{if(this._tagStack.length&&(i=this._tagStack[this._tagStack.length-1])&&(i=i.children[i.children.length-1])&&i.type===n.Text){if(t){i.data=(i.data+e).replace(r," ")}else{i.data+=e}}else{if(t){e=e.replace(r," ")}this._addDomElement({data:e,type:n.Text})}}};a.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===n.Comment){t.data+=e;return}var i={data:e,type:n.Comment};this._addDomElement(i);this._tagStack.push(i)};a.prototype.oncdatastart=function(){var e={children:[{data:"",type:n.Text}],type:n.CDATA};this._addDomElement(e);this._tagStack.push(e)};a.prototype.oncommentend=a.prototype.oncdataend=function(){this._tagStack.pop()};a.prototype.onprocessinginstruction=function(e,t){this._addDomElement({name:e,data:t,type:n.Directive})};t.exports=a},{"./lib/element":11,"./lib/node":12,domelementtype:9}],11:[function(e,t,i){var n=e("./node");var r=t.exports=Object.create(n);var s={tagName:"name"};Object.keys(s).forEach(function(e){var t=s[e];Object.defineProperty(r,e,{get:function(){return this[t]||null},set:function(e){this[t]=e;return e}})})},{"./node":12}],12:[function(e,t,i){var n=t.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return s[this.type]||s.element}};var r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"};var s={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){this[t]=e;return e}})})},{}],13:[function(e,t,i){var n=t.exports;[e("./lib/stringify"),e("./lib/traversal"),e("./lib/manipulation"),e("./lib/querying"),e("./lib/legacy"),e("./lib/helpers")].forEach(function(e){Object.keys(e).forEach(function(t){n[t]=e[t].bind(n)})})},{"./lib/helpers":14,"./lib/legacy":15,"./lib/manipulation":16,"./lib/querying":17,"./lib/stringify":18,"./lib/traversal":19}],14:[function(e,t,i){i.removeSubsets=function(e){var t=e.length,i,n,r;while(--t>-1){i=n=e[t];e[t]=null;r=true;while(n){if(e.indexOf(n)>-1){r=false;e.splice(t,1);break}n=n.parent}if(r){e[t]=i}}return e};var n={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16};var r=i.compareDocumentPosition=function(e,t){var i=[];var r=[];var s,o,a,l,u,f;if(e===t){return 0}s=e;while(s){i.unshift(s);s=s.parent}s=t;while(s){r.unshift(s);s=s.parent}f=0;while(i[f]===r[f]){f++}if(f===0){return n.DISCONNECTED}o=i[f-1];a=o.children;l=i[f];u=r[f];if(a.indexOf(l)>a.indexOf(u)){if(o===t){return n.FOLLOWING|n.CONTAINED_BY}return n.FOLLOWING}else{if(o===e){return n.PRECEDING|n.CONTAINS}return n.PRECEDING}};i.uniqueSort=function(e){var t=e.length,i,s;e=e.slice();while(--t>-1){i=e[t];s=e.indexOf(i);if(s>-1&&s<t){e.splice(t,1)}}e.sort(function(e,t){var i=r(e,t);if(i&n.PRECEDING){return-1}else if(i&n.FOLLOWING){return 1}return 0});return e}},{}],15:[function(e,t,i){var n=e("domelementtype");var r=i.isTag=n.isTag;i.testElement=function(e,t){for(var i in e){if(!e.hasOwnProperty(i));else if(i==="tag_name"){if(!r(t)||!e.tag_name(t.name)){return false}}else if(i==="tag_type"){if(!e.tag_type(t.type))return false}else if(i==="tag_contains"){if(r(t)||!e.tag_contains(t.data)){return false}}else if(!t.attribs||!e[i](t.attribs[i])){return false}}return true};var s={tag_name:function(e){if(typeof e==="function"){return function(t){return r(t)&&e(t.name)}}else if(e==="*"){return r}else{return function(t){return r(t)&&t.name===e}}},tag_type:function(e){if(typeof e==="function"){return function(t){return e(t.type)}}else{return function(t){return t.type===e}}},tag_contains:function(e){if(typeof e==="function"){return function(t){return!r(t)&&e(t.data)}}else{return function(t){return!r(t)&&t.data===e}}}};function o(e,t){if(typeof t==="function"){return function(i){return i.attribs&&t(i.attribs[e])}}else{return function(i){return i.attribs&&i.attribs[e]===t}}}function a(e,t){return function(i){return e(i)||t(i)}}i.getElements=function(e,t,i,n){var r=Object.keys(e).map(function(t){var i=e[t];return t in s?s[t](i):o(t,i)});return r.length===0?[]:this.filter(r.reduce(a),t,i,n)};i.getElementById=function(e,t,i){if(!Array.isArray(t))t=[t];return this.findOne(o("id",e),t,i!==false)};i.getElementsByTagName=function(e,t,i,n){return this.filter(s.tag_name(e),t,i,n)};i.getElementsByTagType=function(e,t,i,n){return this.filter(s.tag_type(e),t,i,n)}},{domelementtype:9}],16:[function(e,t,i){i.removeElement=function(e){if(e.prev)e.prev.next=e.next;if(e.next)e.next.prev=e.prev;if(e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}};i.replaceElement=function(e,t){var i=t.prev=e.prev;if(i){i.next=t}var n=t.next=e.next;if(n){n.prev=t}var r=t.parent=e.parent;if(r){var s=r.children;s[s.lastIndexOf(e)]=t}};i.appendChild=function(e,t){t.parent=e;if(e.children.push(t)!==1){var i=e.children[e.children.length-2];i.next=t;t.prev=i;t.next=null}};i.append=function(e,t){var i=e.parent,n=e.next;t.next=n;t.prev=e;e.next=t;t.parent=i;if(n){n.prev=t;if(i){var r=i.children;r.splice(r.lastIndexOf(n),0,t)}}else if(i){i.children.push(t)}};i.prepend=function(e,t){var i=e.parent;if(i){var n=i.children;n.splice(n.lastIndexOf(e),0,t)}if(e.prev){e.prev.next=t}t.parent=i;t.prev=e.prev;t.next=e;e.prev=t}},{}],17:[function(e,t,i){var n=e("domelementtype").isTag;t.exports={filter:r,find:s,findOneChild:o,findOne:a,existsOne:l,findAll:u};function r(e,t,i,n){if(!Array.isArray(t))t=[t];if(typeof n!=="number"||!isFinite(n)){n=Infinity}return s(e,t,i!==false,n)}function s(e,t,i,n){var r=[],o;for(var a=0,l=t.length;a<l;a++){if(e(t[a])){r.push(t[a]);if(--n<=0)break}o=t[a].children;if(i&&o&&o.length>0){o=s(e,o,i,n);r=r.concat(o);n-=o.length;if(n<=0)break}}return r}function o(e,t){for(var i=0,n=t.length;i<n;i++){if(e(t[i]))return t[i]}return null}function a(e,t){var i=null;for(var r=0,s=t.length;r<s&&!i;r++){if(!n(t[r])){continue}else if(e(t[r])){i=t[r]}else if(t[r].children.length>0){i=a(e,t[r].children)}}return i}function l(e,t){for(var i=0,r=t.length;i<r;i++){if(n(t[i])&&(e(t[i])||t[i].children.length>0&&l(e,t[i].children))){return true}}return false}function u(e,t){var i=[];for(var r=0,s=t.length;r<s;r++){if(!n(t[r]))continue;if(e(t[r]))i.push(t[r]);if(t[r].children.length>0){i=i.concat(u(e,t[r].children))}}return i}},{domelementtype:9}],18:[function(e,t,i){var n=e("domelementtype"),r=e("dom-serializer"),s=n.isTag;t.exports={getInnerHTML:o,getOuterHTML:r,getText:a};function o(e,t){return e.children?e.children.map(function(e){return r(e,t)}).join(""):""}function a(e){if(Array.isArray(e))return e.map(a).join("");if(s(e)||e.type===n.CDATA)return a(e.children);if(e.type===n.Text)return e.data;return""}},{"dom-serializer":7,domelementtype:9}],19:[function(e,t,i){var n=i.getChildren=function(e){return e.children};var r=i.getParent=function(e){return e.parent};i.getSiblings=function(e){var t=r(e);return t?n(t):[e]};i.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]};i.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)};i.getName=function(e){return e.name}},{}],20:[function(e,t,i){var n=e("./lib/encode.js"),r=e("./lib/decode.js");i.decode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)};i.decodeStrict=function(e,t){return(!t||t<=0?r.XML:r.HTMLStrict)(e)};i.encode=function(e,t){return(!t||t<=0?n.XML:n.HTML)(e)};i.encodeXML=n.XML;i.encodeHTML4=i.encodeHTML5=i.encodeHTML=n.HTML;i.decodeXML=i.decodeXMLStrict=r.XML;i.decodeHTML4=i.decodeHTML5=i.decodeHTML=r.HTML;i.decodeHTML4Strict=i.decodeHTML5Strict=i.decodeHTMLStrict=r.HTMLStrict;i.escape=n.escape},{"./lib/decode.js":21,"./lib/encode.js":23}],21:[function(e,t,i){var n=e("../maps/entities.json"),r=e("../maps/legacy.json"),s=e("../maps/xml.json"),o=e("./decode_codepoint.js");var a=u(s),l=u(n);function u(e){var t=Object.keys(e).join("|"),i=h(e);t+="|#[xX][\\da-fA-F]+|#\\d+";var n=new RegExp("&(?:"+t+");","g");return function(e){return String(e).replace(n,i)}}var f=function(){var e=Object.keys(r).sort(c);var t=Object.keys(n).sort(c);for(var i=0,s=0;i<t.length;i++){if(e[s]===t[i]){t[i]+=";?";s++}else{t[i]+=";"}}var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=h(n);function l(e){if(e.substr(-1)!==";")e+=";";return a(e)}return function(e){return String(e).replace(o,l)}}();function c(e,t){return e<t?1:-1}function h(e){return function t(i){if(i.charAt(1)==="#"){if(i.charAt(2)==="X"||i.charAt(2)==="x"){return o(parseInt(i.substr(3),16))}return o(parseInt(i.substr(2),10))}return e[i.slice(1,-1)]}}t.exports={XML:a,HTML:f,HTMLStrict:l}},{"../maps/entities.json":25,"../maps/legacy.json":26,"../maps/xml.json":27,"./decode_codepoint.js":22}],22:[function(e,t,i){var n=e("../maps/decode.json");t.exports=r;function r(e){if(e>=55296&&e<=57343||e>1114111){return"\ufffd"}if(e in n){e=n[e]}var t="";if(e>65535){e-=65536;t+=String.fromCharCode(e>>>10&1023|55296);e=56320|e&1023}t+=String.fromCharCode(e);return t}},{"../maps/decode.json":24}],23:[function(e,t,i){var n=a(e("../maps/xml.json")),r=l(n);i.XML=d(n,r);var s=a(e("../maps/entities.json")),o=l(s);i.HTML=d(s,o);function a(e){return Object.keys(e).sort().reduce(function(t,i){t[e[i]]="&"+i+";";return t},{})}function l(e){var t=[],i=[];Object.keys(e).forEach(function(e){if(e.length===1){t.push("\\"+e)}else{i.push(e)}});i.unshift("["+t.join("")+"]");return new RegExp(i.join("|"),"g")}var u=/[^\0-\x7F]/g,f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function c(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function h(e){var t=e.charCodeAt(0);var i=e.charCodeAt(1);var n=(t-55296)*1024+i-56320+65536;return"&#x"+n.toString(16).toUpperCase()+";"}function d(e,t){function i(t){return e[t]}return function(e){return e.replace(t,i).replace(f,h).replace(u,c)}}var p=l(n);function g(e){return e.replace(p,c).replace(f,h).replace(u,c)}i.escape=g},{"../maps/entities.json":25,"../maps/xml.json":27}],24:[function(e,t,i){t.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},{}],25:[function(e,t,i){t.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",
Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},{}],26:[function(e,t,i){t.exports={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",amp:"&",AMP:"&",Aring:"\xc5",aring:"\xe5",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",brvbar:"\xa6",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",copy:"\xa9",COPY:"\xa9",curren:"\xa4",deg:"\xb0",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",gt:">",GT:">",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",iquest:"\xbf",Iuml:"\xcf",iuml:"\xef",laquo:"\xab",lt:"<",LT:"<",macr:"\xaf",micro:"\xb5",middot:"\xb7",nbsp:"\xa0",not:"\xac",Ntilde:"\xd1",ntilde:"\xf1",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",Ograve:"\xd2",ograve:"\xf2",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",plusmn:"\xb1",pound:"\xa3",quot:'"',QUOT:'"',raquo:"\xbb",reg:"\xae",REG:"\xae",sect:"\xa7",shy:"\xad",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",szlig:"\xdf",THORN:"\xde",thorn:"\xfe",times:"\xd7",Uacute:"\xda",uacute:"\xfa",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",Uuml:"\xdc",uuml:"\xfc",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff"}},{}],27:[function(e,t,i){t.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},{}],28:[function(e,t,i){function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=n;n.EventEmitter=n;n.prototype._events=undefined;n.prototype._maxListeners=undefined;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};n.prototype.emit=function(e){var t,i,n,s,l,u;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}else{var f=new Error('Uncaught, unspecified "error" event. ('+t+")");f.context=t;throw f}}}i=this._events[e];if(a(i))return false;if(r(i)){switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1);i.apply(this,s)}}else if(o(i)){s=Array.prototype.slice.call(arguments,1);u=i.slice();n=u.length;for(l=0;l<n;l++)u[l].apply(this,s)}return true};n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,r(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(o(this._events[e])&&!this._events[e].warned){if(!a(this._maxListeners)){i=this._maxListeners}else{i=n.defaultMaxListeners}if(i&&i>0&&this._events[e].length>i){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};n.prototype.on=n.prototype.addListener
;n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var i=false;function n(){this.removeListener(e,n);if(!i){i=true;t.apply(this,arguments)}}n.listener=t;this.on(e,n);return this};n.prototype.removeListener=function(e,t){var i,n,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;i=this._events[e];s=i.length;n=-1;if(i===t||r(i.listener)&&i.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(o(i)){for(a=s;a-- >0;){if(i[a]===t||i[a].listener&&i[a].listener===t){n=a;break}}if(n<0)return this;if(i.length===1){i.length=0;delete this._events[e]}else{i.splice(n,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};n.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}i=this._events[e];if(r(i)){this.removeListener(e,i)}else if(i){while(i.length)this.removeListener(e,i[i.length-1])}delete this._events[e];return this};n.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(r(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;else if(t)return t.length}return 0};n.listenerCount=function(e,t){return e.listenerCount(t)};function r(e){return typeof e==="function"}function s(e){return typeof e==="number"}function o(e){return typeof e==="object"&&e!==null}function a(e){return e===void 0}},{}],29:[function(e,t,i){t.exports=n;function n(e){this._cbs=e||{};this.events=[]}var r=e("./").EVENTS;Object.keys(r).forEach(function(e){if(r[e]===0){e="on"+e;n.prototype[e]=function(){this.events.push([e]);if(this._cbs[e])this._cbs[e]()}}else if(r[e]===1){e="on"+e;n.prototype[e]=function(t){this.events.push([e,t]);if(this._cbs[e])this._cbs[e](t)}}else if(r[e]===2){e="on"+e;n.prototype[e]=function(t,i){this.events.push([e,t,i]);if(this._cbs[e])this._cbs[e](t,i)}}else{throw Error("wrong number of arguments")}});n.prototype.onreset=function(){this.events=[];if(this._cbs.onreset)this._cbs.onreset()};n.prototype.restart=function(){if(this._cbs.onreset)this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++){if(this._cbs[this.events[e][0]]){var i=this.events[e].length;if(i===1){this._cbs[this.events[e][0]]()}else if(i===2){this._cbs[this.events[e][0]](this.events[e][1])}else{this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}}}},{"./":36}],30:[function(e,t,i){var n=e("./index.js"),r=n.DomHandler,s=n.DomUtils;function o(e,t){this.init(e,t)}e("inherits")(o,r);o.prototype.init=r;function a(e,t){return s.getElementsByTagName(e,t,true)}function l(e,t){return s.getElementsByTagName(e,t,true,1)[0]}function u(e,t,i){return s.getText(s.getElementsByTagName(e,t,i,1)).trim()}function f(e,t,i,n,r){var s=u(i,n,r);if(s)e[t]=s}var c=function(e){return e==="rss"||e==="feed"||e==="rdf:RDF"};o.prototype.onend=function(){var e={},t=l(c,this.dom),i,n;if(t){if(t.name==="feed"){n=t.children;e.type="atom";f(e,"id","id",n);f(e,"title","title",n);if((i=l("link",n))&&(i=i.attribs)&&(i=i.href))e.link=i;f(e,"description","subtitle",n);if(i=u("updated",n))e.updated=new Date(i);f(e,"author","email",n,true);e.items=a("entry",n).map(function(e){var t={},i;e=e.children;f(t,"id","id",e);f(t,"title","title",e);if((i=l("link",e))&&(i=i.attribs)&&(i=i.href))t.link=i;if(i=u("summary",e)||u("content",e))t.description=i;if(i=u("updated",e))t.pubDate=new Date(i);return t})}else{n=l("channel",t.children).children;e.type=t.name.substr(0,3);e.id="";f(e,"title","title",n);f(e,"link","link",n);f(e,"description","description",n);if(i=u("lastBuildDate",n))e.updated=new Date(i);f(e,"author","managingEditor",n,true);e.items=a("item",t.children).map(function(e){var t={},i;e=e.children;f(t,"id","guid",e);f(t,"title","title",e);f(t,"link","link",e);f(t,"description","description",e);if(i=u("pubDate",e))t.pubDate=new Date(i);return t})}}this.dom=e;r.prototype._handleCallback.call(this,t?null:Error("couldn't find root of feed"))};t.exports=o},{"./index.js":36,inherits:38}],31:[function(e,t,i){var n=e("./Tokenizer.js");var r={input:true,option:true,optgroup:true,select:true,button:true,datalist:true,textarea:true};var s={tr:{tr:true,th:true,td:true},th:{th:true},td:{thead:true,th:true,td:true},body:{head:true,link:true,script:true},li:{li:true},p:{p:true},h1:{p:true},h2:{p:true},h3:{p:true},h4:{p:true},h5:{p:true},h6:{p:true},select:r,input:r,output:r,button:r,datalist:r,textarea:r,option:{option:true},optgroup:{optgroup:true}};var o={__proto__:null,area:true,base:true,basefont:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,isindex:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true,path:true,circle:true,ellipse:true,line:true,rect:true,use:true,stop:true,polyline:true,polygon:true};var a=/\s|\//;function l(e,t){this._options=t||{};this._cbs=e||{};this._tagname="";this._attribname="";this._attribvalue="";this._attribs=null;this._stack=[];this.startIndex=0;this.endIndex=null;this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode;this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode;if(this._options.Tokenizer){n=this._options.Tokenizer}this._tokenizer=new n(this._options,this);if(this._cbs.onparserinit)this._cbs.onparserinit(this)}e("inherits")(l,e("events").EventEmitter);l.prototype._updatePosition=function(e){if(this.endIndex===null){if(this._tokenizer._sectionStart<=e){this.startIndex=0}else{this.startIndex=this._tokenizer._sectionStart-e}}else this.startIndex=this.endIndex+1;this.endIndex=this._tokenizer.getAbsoluteIndex()};l.prototype.ontext=function(e){this._updatePosition(1);this.endIndex--;if(this._cbs.ontext)this._cbs.ontext(e)};l.prototype.onopentagname=function(e){if(this._lowerCaseTagNames){e=e.toLowerCase()}this._tagname=e;if(!this._options.xmlMode&&e in s){for(var t;(t=this._stack[this._stack.length-1])in s[e];this.onclosetag(t));}if(this._options.xmlMode||!(e in o)){this._stack.push(e)}if(this._cbs.onopentagname)this._cbs.onopentagname(e);if(this._cbs.onopentag)this._attribs={}};l.prototype.onopentagend=function(){this._updatePosition(1);if(this._attribs){if(this._cbs.onopentag)this._cbs.onopentag(this._tagname,this._attribs);this._attribs=null}if(!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in o){this._cbs.onclosetag(this._tagname)}this._tagname=""};l.prototype.onclosetag=function(e){this._updatePosition(1);if(this._lowerCaseTagNames){e=e.toLowerCase()}if(this._stack.length&&(!(e in o)||this._options.xmlMode)){var t=this._stack.lastIndexOf(e);if(t!==-1){if(this._cbs.onclosetag){t=this._stack.length-t;while(t--)this._cbs.onclosetag(this._stack.pop())}else this._stack.length=t}else if(e==="p"&&!this._options.xmlMode){this.onopentagname(e);this._closeCurrentTag()}}else if(!this._options.xmlMode&&(e==="br"||e==="p")){this.onopentagname(e);this._closeCurrentTag()}};l.prototype.onselfclosingtag=function(){if(this._options.xmlMode||this._options.recognizeSelfClosing){this._closeCurrentTag()}else{this.onopentagend()}};l.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend();if(this._stack[this._stack.length-1]===e){if(this._cbs.onclosetag){this._cbs.onclosetag(e)}this._stack.pop()}};l.prototype.onattribname=function(e){if(this._lowerCaseAttributeNames){e=e.toLowerCase()}this._attribname=e};l.prototype.onattribdata=function(e){this._attribvalue+=e};l.prototype.onattribend=function(){if(this._cbs.onattribute)this._cbs.onattribute(this._attribname,this._attribvalue);if(this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)){this._attribs[this._attribname]=this._attribvalue}this._attribname="";this._attribvalue=""};l.prototype._getInstructionName=function(e){var t=e.search(a),i=t<0?e:e.substr(0,t);if(this._lowerCaseTagNames){i=i.toLowerCase()}return i};l.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}};l.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}};l.prototype.oncomment=function(e){this._updatePosition(4);if(this._cbs.oncomment)this._cbs.oncomment(e);if(this._cbs.oncommentend)this._cbs.oncommentend()};l.prototype.oncdata=function(e){this._updatePosition(1);if(this._options.xmlMode||this._options.recognizeCDATA){if(this._cbs.oncdatastart)this._cbs.oncdatastart();if(this._cbs.ontext)this._cbs.ontext(e);if(this._cbs.oncdataend)this._cbs.oncdataend()}else{this.oncomment("[CDATA["+e+"]]")}};l.prototype.onerror=function(e){if(this._cbs.onerror)this._cbs.onerror(e)};l.prototype.onend=function(){if(this._cbs.onclosetag){for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));}if(this._cbs.onend)this._cbs.onend()};l.prototype.reset=function(){if(this._cbs.onreset)this._cbs.onreset();this._tokenizer.reset();this._tagname="";this._attribname="";this._attribs=null;this._stack=[];if(this._cbs.onparserinit)this._cbs.onparserinit(this)};l.prototype.parseComplete=function(e){this.reset();this.end(e)};l.prototype.write=function(e){this._tokenizer.write(e)};l.prototype.end=function(e){this._tokenizer.end(e)};l.prototype.pause=function(){this._tokenizer.pause()};l.prototype.resume=function(){this._tokenizer.resume()};l.prototype.parseChunk=l.prototype.write;l.prototype.done=l.prototype.end;t.exports=l},{"./Tokenizer.js":34,events:28,inherits:38}],32:[function(e,t,i){t.exports=n;function n(e){this._cbs=e||{}}var r=e("./").EVENTS;Object.keys(r).forEach(function(e){if(r[e]===0){e="on"+e;n.prototype[e]=function(){if(this._cbs[e])this._cbs[e]()}}else if(r[e]===1){e="on"+e;n.prototype[e]=function(t){if(this._cbs[e])this._cbs[e](t)}}else if(r[e]===2){e="on"+e;n.prototype[e]=function(t,i){if(this._cbs[e])this._cbs[e](t,i)}}else{throw Error("wrong number of arguments")}})},{"./":36}],33:[function(e,t,i){t.exports=r;var n=e("./WritableStream.js");function r(e){n.call(this,new s(this),e)}e("inherits")(r,n);r.prototype.readable=true;function s(e){this.scope=e}var o=e("../").EVENTS;Object.keys(o).forEach(function(e){if(o[e]===0){s.prototype["on"+e]=function(){this.scope.emit(e)}}else if(o[e]===1){s.prototype["on"+e]=function(t){this.scope.emit(e,t)}}else if(o[e]===2){s.prototype["on"+e]=function(t,i){this.scope.emit(e,t,i)}}else{throw Error("wrong number of arguments!")}})},{"../":36,"./WritableStream.js":35,inherits:38}],34:[function(e,t,i){t.exports=_e;var n=e("entities/lib/decode_codepoint.js"),r=e("entities/maps/entities.json"),s=e("entities/maps/legacy.json"),o=e("entities/maps/xml.json"),a=0,l=a++,u=a++,f=a++,c=a++,h=a++,d=a++,p=a++,g=a++,m=a++,_=a++,v=a++,y=a++,b=a++,w=a++,x=a++,E=a++,M=a++,S=a++,A=a++,C=a++,T=a++,k=a++,R=a++,P=a++,q=a++,I=a++,O=a++,j=a++,D=a++,N=a++,L=a++,z=a++,$=a++,H=a++,B=a++,F=a++,Q=a++,U=a++,W=a++,K=a++,V=a++,G=a++,Y=a++,X=a++,J=a++,Z=a++,ee=a++,te=a++,ie=a++,ne=a++,re=a++,se=a++,oe=a++,ae=a++,le=a++,ue=0,fe=ue++,ce=ue++,he=ue++;function de(e){return e===" "||e==="\n"||e==="\t"||e==="\f"||e==="\r"}function pe(e,t){return function(i){if(i===e)this._state=t}}function ge(e,t,i){var n=e.toLowerCase();if(e===n){return function(e){if(e===n){this._state=t}else{this._state=i;this._index--}}}else{return function(r){if(r===n||r===e){this._state=t}else{this._state=i;this._index--}}}}function me(e,t){var i=e.toLowerCase();return function(n){if(n===i||n===e){this._state=t}else{this._state=f;this._index--}}}function _e(e,t){this._state=l;this._buffer="";this._sectionStart=0;this._index=0;this._bufferOffset=0;this._baseState=l;this._special=fe;this._cbs=t;this._running=true;this._ended=false;this._xmlMode=!!(e&&e.xmlMode);this._decodeEntities=!!(e&&e.decodeEntities)}_e.prototype._stateText=function(e){if(e==="<"){if(this._index>this._sectionStart){this._cbs.ontext(this._getSection())}this._state=u;this._sectionStart=this._index}else if(this._decodeEntities&&this._special===fe&&e==="&"){if(this._index>this._sectionStart){this._cbs.ontext(this._getSection())}this._baseState=l;this._state=re;this._sectionStart=this._index}};_e.prototype._stateBeforeTagName=function(e){if(e==="/"){this._state=h}else if(e==="<"){this._cbs.ontext(this._getSection());this._sectionStart=this._index}else if(e===">"||this._special!==fe||de(e)){this._state=l}else if(e==="!"){this._state=x;this._sectionStart=this._index+1}else if(e==="?"){this._state=M;this._sectionStart=this._index+1}else{this._state=!this._xmlMode&&(e==="s"||e==="S")?L:f;this._sectionStart=this._index}};_e.prototype._stateInTagName=function(e){if(e==="/"||e===">"||de(e)){this._emitToken("onopentagname");this._state=g;this._index--}};_e.prototype._stateBeforeCloseingTagName=function(e){if(de(e));else if(e===">"){this._state=l}else if(this._special!==fe){if(e==="s"||e==="S"){this._state=z}else{this._state=l;this._index--}}else{this._state=d;this._sectionStart=this._index}};_e.prototype._stateInCloseingTagName=function(e){if(e===">"||de(e)){this._emitToken("onclosetag");this._state=p;this._index--}};_e.prototype._stateAfterCloseingTagName=function(e){if(e===">"){this._state=l;this._sectionStart=this._index+1}};_e.prototype._stateBeforeAttributeName=function(e){if(e===">"){this._cbs.onopentagend();this._state=l;this._sectionStart=this._index+1}else if(e==="/"){this._state=c}else if(!de(e)){this._state=m;this._sectionStart=this._index}};_e.prototype._stateInSelfClosingTag=function(e){if(e===">"){this._cbs.onselfclosingtag();this._state=l;this._sectionStart=this._index+1}else if(!de(e)){this._state=g;this._index--}};_e.prototype._stateInAttributeName=function(e){if(e==="="||e==="/"||e===">"||de(e)){this._cbs.onattribname(this._getSection());this._sectionStart=-1;this._state=_;this._index--}};_e.prototype._stateAfterAttributeName=function(e){if(e==="="){this._state=v}else if(e==="/"||e===">"){this._cbs.onattribend();this._state=g;this._index--}else if(!de(e)){this._cbs.onattribend();this._state=m;this._sectionStart=this._index}};_e.prototype._stateBeforeAttributeValue=function(e){if(e==='"'){this._state=y;this._sectionStart=this._index+1}else if(e==="'"){this._state=b;this._sectionStart=this._index+1}else if(!de(e)){this._state=w;this._sectionStart=this._index;this._index--}};_e.prototype._stateInAttributeValueDoubleQuotes=function(e){if(e==='"'){this._emitToken("onattribdata");this._cbs.onattribend();this._state=g}else if(this._decodeEntities&&e==="&"){this._emitToken("onattribdata");this._baseState=this._state;this._state=re;this._sectionStart=this._index}};_e.prototype._stateInAttributeValueSingleQuotes=function(e){if(e==="'"){this._emitToken("onattribdata");this._cbs.onattribend();this._state=g}else if(this._decodeEntities&&e==="&"){this._emitToken("onattribdata");this._baseState=this._state;this._state=re;this._sectionStart=this._index}};_e.prototype._stateInAttributeValueNoQuotes=function(e){if(de(e)||e===">"){this._emitToken("onattribdata");this._cbs.onattribend();this._state=g;this._index--}else if(this._decodeEntities&&e==="&"){this._emitToken("onattribdata");this._baseState=this._state;this._state=re;this._sectionStart=this._index}};_e.prototype._stateBeforeDeclaration=function(e){this._state=e==="["?k:e==="-"?S:E};_e.prototype._stateInDeclaration=function(e){if(e===">"){this._cbs.ondeclaration(this._getSection());this._state=l;this._sectionStart=this._index+1}};_e.prototype._stateInProcessingInstruction=function(e){if(e===">"){this._cbs.onprocessinginstruction(this._getSection());this._state=l;this._sectionStart=this._index+1}};_e.prototype._stateBeforeComment=function(e){if(e==="-"){this._state=A;this._sectionStart=this._index+1}else{this._state=E}};_e.prototype._stateInComment=function(e){if(e==="-")this._state=C};_e.prototype._stateAfterComment1=function(e){if(e==="-"){this._state=T}else{this._state=A}};_e.prototype._stateAfterComment2=function(e){if(e===">"){this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2));this._state=l;this._sectionStart=this._index+1}else if(e!=="-"){this._state=A}};_e.prototype._stateBeforeCdata1=ge("C",R,E);_e.prototype._stateBeforeCdata2=ge("D",P,E);_e.prototype._stateBeforeCdata3=ge("A",q,E);_e.prototype._stateBeforeCdata4=ge("T",I,E);_e.prototype._stateBeforeCdata5=ge("A",O,E);_e.prototype._stateBeforeCdata6=function(e){if(e==="["){this._state=j;this._sectionStart=this._index+1}else{this._state=E;this._index--}};_e.prototype._stateInCdata=function(e){if(e==="]")this._state=D};_e.prototype._stateAfterCdata1=pe("]",N);_e.prototype._stateAfterCdata2=function(e){if(e===">"){this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2));this._state=l;this._sectionStart=this._index+1}else if(e!=="]"){this._state=j}};_e.prototype._stateBeforeSpecial=function(e){if(e==="c"||e==="C"){this._state=$}else if(e==="t"||e==="T"){this._state=Y}else{this._state=f;this._index--}};_e.prototype._stateBeforeSpecialEnd=function(e){if(this._special===ce&&(e==="c"||e==="C")){this._state=U}else if(this._special===he&&(e==="t"||e==="T")){this._state=ee}else this._state=l};_e.prototype._stateBeforeScript1=me("R",H);_e.prototype._stateBeforeScript2=me("I",B);_e.prototype._stateBeforeScript3=me("P",F);_e.prototype._stateBeforeScript4=me("T",Q);_e.prototype._stateBeforeScript5=function(e){if(e==="/"||e===">"||de(e)){this._special=ce}this._state=f;this._index--};_e.prototype._stateAfterScript1=ge("R",W,l);_e.prototype._stateAfterScript2=ge("I",K,l);_e.prototype._stateAfterScript3=ge("P",V,l);_e.prototype._stateAfterScript4=ge("T",G,l);_e.prototype._stateAfterScript5=function(e){if(e===">"||de(e)){this._special=fe;this._state=d;this._sectionStart=this._index-6;this._index--}else this._state=l};_e.prototype._stateBeforeStyle1=me("Y",X);_e.prototype._stateBeforeStyle2=me("L",J);_e.prototype._stateBeforeStyle3=me("E",Z);_e.prototype._stateBeforeStyle4=function(e){if(e==="/"||e===">"||de(e)){this._special=he}this._state=f;this._index--};_e.prototype._stateAfterStyle1=ge("Y",te,l);_e.prototype._stateAfterStyle2=ge("L",ie,l);_e.prototype._stateAfterStyle3=ge("E",ne,l);_e.prototype._stateAfterStyle4=function(e){if(e===">"||de(e)){this._special=fe;this._state=d;this._sectionStart=this._index-5;this._index--}else this._state=l};_e.prototype._stateBeforeEntity=ge("#",se,oe);_e.prototype._stateBeforeNumericEntity=ge("X",le,ae);_e.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?o:r;if(t.hasOwnProperty(e)){this._emitPartial(t[e]);this._sectionStart=this._index+1}}};_e.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;if(t>6)t=6;while(t>=2){var i=this._buffer.substr(e,t);if(s.hasOwnProperty(i)){this._emitPartial(s[i]);this._sectionStart+=t+1;return}else{t--}}};_e.prototype._stateInNamedEntity=function(e){if(e===";"){this._parseNamedEntityStrict();if(this._sectionStart+1<this._index&&!this._xmlMode){this._parseLegacyEntity()}this._state=this._baseState}else if((e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")){if(this._xmlMode);else if(this._sectionStart+1===this._index);else if(this._baseState!==l){if(e!=="="){this._parseNamedEntityStrict()}}else{this._parseLegacyEntity()}this._state=this._baseState;this._index--}};_e.prototype._decodeNumericEntity=function(e,t){var i=this._sectionStart+e;if(i!==this._index){var r=this._buffer.substring(i,this._index);var s=parseInt(r,t);this._emitPartial(n(s));this._sectionStart=this._index}else{this._sectionStart--}this._state=this._baseState};_e.prototype._stateInNumericEntity=function(e){if(e===";"){this._decodeNumericEntity(2,10);this._sectionStart++}else if(e<"0"||e>"9"){if(!this._xmlMode){this._decodeNumericEntity(2,10)}else{this._state=this._baseState}this._index--}};_e.prototype._stateInHexEntity=function(e){if(e===";"){this._decodeNumericEntity(3,16);this._sectionStart++}else if((e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")){if(!this._xmlMode){this._decodeNumericEntity(3,16)}else{this._state=this._baseState}this._index--}};_e.prototype._cleanup=function(){if(this._sectionStart<0){this._buffer="";this._bufferOffset+=this._index;this._index=0}else if(this._running){if(this._state===l){if(this._sectionStart!==this._index){this._cbs.ontext(this._buffer.substr(this._sectionStart))}this._buffer="";this._bufferOffset+=this._index;this._index=0}else if(this._sectionStart===this._index){this._buffer="";this._bufferOffset+=this._index;this._index=0}else{this._buffer=this._buffer.substr(this._sectionStart);this._index-=this._sectionStart;this._bufferOffset+=this._sectionStart}this._sectionStart=0}};_e.prototype.write=function(e){if(this._ended)this._cbs.onerror(Error(".write() after done!"));this._buffer+=e;this._parse()};_e.prototype._parse=function(){while(this._index<this._buffer.length&&this._running){var e=this._buffer.charAt(this._index);if(this._state===l){this._stateText(e)}else if(this._state===u){this._stateBeforeTagName(e)}else if(this._state===f){this._stateInTagName(e)}else if(this._state===h){this._stateBeforeCloseingTagName(e)}else if(this._state===d){this._stateInCloseingTagName(e)}else if(this._state===p){this._stateAfterCloseingTagName(e)}else if(this._state===c){this._stateInSelfClosingTag(e)}else if(this._state===g){this._stateBeforeAttributeName(e)}else if(this._state===m){this._stateInAttributeName(e)}else if(this._state===_){this._stateAfterAttributeName(e)}else if(this._state===v){this._stateBeforeAttributeValue(e)}else if(this._state===y){this._stateInAttributeValueDoubleQuotes(e)}else if(this._state===b){this._stateInAttributeValueSingleQuotes(e)}else if(this._state===w){this._stateInAttributeValueNoQuotes(e)}else if(this._state===x){this._stateBeforeDeclaration(e)}else if(this._state===E){this._stateInDeclaration(e)}else if(this._state===M){this._stateInProcessingInstruction(e)}else if(this._state===S){this._stateBeforeComment(e)}else if(this._state===A){this._stateInComment(e)}else if(this._state===C){this._stateAfterComment1(e)}else if(this._state===T){this._stateAfterComment2(e)}else if(this._state===k){this._stateBeforeCdata1(e)}else if(this._state===R){this._stateBeforeCdata2(e)}else if(this._state===P){this._stateBeforeCdata3(e)}else if(this._state===q){this._stateBeforeCdata4(e)}else if(this._state===I){this._stateBeforeCdata5(e)}else if(this._state===O){this._stateBeforeCdata6(e)}else if(this._state===j){this._stateInCdata(e)}else if(this._state===D){this._stateAfterCdata1(e)}else if(this._state===N){this._stateAfterCdata2(e)}else if(this._state===L){this._stateBeforeSpecial(e)}else if(this._state===z){this._stateBeforeSpecialEnd(e)}else if(this._state===$){this._stateBeforeScript1(e)}else if(this._state===H){this._stateBeforeScript2(e)}else if(this._state===B){this._stateBeforeScript3(e)}else if(this._state===F){this._stateBeforeScript4(e)}else if(this._state===Q){this._stateBeforeScript5(e)}else if(this._state===U){this._stateAfterScript1(e)}else if(this._state===W){this._stateAfterScript2(e)}else if(this._state===K){this._stateAfterScript3(e)}else if(this._state===V){this._stateAfterScript4(e)}else if(this._state===G){this._stateAfterScript5(e)}else if(this._state===Y){this._stateBeforeStyle1(e)}else if(this._state===X){this._stateBeforeStyle2(e)}else if(this._state===J){this._stateBeforeStyle3(e)}else if(this._state===Z){this._stateBeforeStyle4(e)}else if(this._state===ee){this._stateAfterStyle1(e)}else if(this._state===te){this._stateAfterStyle2(e)}else if(this._state===ie){this._stateAfterStyle3(e)}else if(this._state===ne){this._stateAfterStyle4(e)}else if(this._state===re){this._stateBeforeEntity(e)}else if(this._state===se){this._stateBeforeNumericEntity(e)}else if(this._state===oe){this._stateInNamedEntity(e)}else if(this._state===ae){this._stateInNumericEntity(e)}else if(this._state===le){this._stateInHexEntity(e)}else{this._cbs.onerror(Error("unknown _state"),this._state)}this._index++}this._cleanup()};_e.prototype.pause=function(){this._running=false};_e.prototype.resume=function(){this._running=true;if(this._index<this._buffer.length){this._parse()}if(this._ended){this._finish()}};_e.prototype.end=function(e){if(this._ended)this._cbs.onerror(Error(".end() after done!"));if(e)this.write(e);this._ended=true;if(this._running)this._finish()};_e.prototype._finish=function(){if(this._sectionStart<this._index){this._handleTrailingData()}this._cbs.onend()};_e.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);if(this._state===j||this._state===D||this._state===N){this._cbs.oncdata(e)}else if(this._state===A||this._state===C||this._state===T){this._cbs.oncomment(e)}else if(this._state===oe&&!this._xmlMode){this._parseLegacyEntity();if(this._sectionStart<this._index){this._state=this._baseState;this._handleTrailingData()}}else if(this._state===ae&&!this._xmlMode){this._decodeNumericEntity(2,10);if(this._sectionStart<this._index){this._state=this._baseState;this._handleTrailingData()}}else if(this._state===le&&!this._xmlMode){this._decodeNumericEntity(3,16);if(this._sectionStart<this._index){this._state=this._baseState;this._handleTrailingData()}}else if(this._state!==f&&this._state!==g&&this._state!==v&&this._state!==_&&this._state!==m&&this._state!==b&&this._state!==y&&this._state!==w&&this._state!==d){this._cbs.ontext(e)}};_e.prototype.reset=function(){_e.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)};_e.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index};_e.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)};_e.prototype._emitToken=function(e){this._cbs[e](this._getSection());this._sectionStart=-1};_e.prototype._emitPartial=function(e){if(this._baseState!==l){this._cbs.onattribdata(e)}else{this._cbs.ontext(e)}}},{"entities/lib/decode_codepoint.js":22,"entities/maps/entities.json":25,"entities/maps/legacy.json":26,"entities/maps/xml.json":27}],35:[function(e,t,i){t.exports=a;var n=e("./Parser.js"),r=e("stream").Writable||e("readable-stream").Writable,s=e("string_decoder").StringDecoder,o=e("buffer").Buffer;function a(e,t){var i=this._parser=new n(e,t);var o=this._decoder=new s;r.call(this,{decodeStrings:false});this.once("finish",function(){i.end(o.end())})}e("inherits")(a,r);r.prototype._write=function(e,t,i){if(e instanceof o)e=this._decoder.write(e);this._parser.write(e);i()}},{"./Parser.js":31,buffer:5,inherits:38,"readable-stream":3,stream:55,string_decoder:56}],36:[function(e,t,i){var n=e("./Parser.js"),r=e("domhandler");function s(e,i){delete t.exports[e];t.exports[e]=i;return i}t.exports={Parser:n,Tokenizer:e("./Tokenizer.js"),ElementType:e("domelementtype"),DomHandler:r,get FeedHandler(){return s("FeedHandler",e("./FeedHandler.js"))},get Stream(){return s("Stream",e("./Stream.js"))},get WritableStream(){return s("WritableStream",e("./WritableStream.js"))},get ProxyHandler(){return s("ProxyHandler",e("./ProxyHandler.js"))},get DomUtils(){return s("DomUtils",e("domutils"))},get CollectingHandler(){return s("CollectingHandler",e("./CollectingHandler.js"))},DefaultHandler:r,get RssHandler(){return s("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var i=new r(t);new n(i,t).end(e);return i.dom},parseFeed:function(e,i){var r=new t.exports.FeedHandler(i);new n(r,i).end(e);return r.dom},createDomStream:function(e,t,i){var s=new r(e,t,i);return new n(s,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},{"./CollectingHandler.js":29,"./FeedHandler.js":30,"./Parser.js":31,"./ProxyHandler.js":32,"./Stream.js":33,"./Tokenizer.js":34,"./WritableStream.js":35,domelementtype:9,domhandler:10,domutils:13}],37:[function(e,t,i){i.read=function(e,t,i,n,r){var s,o;var a=r*8-n-1;var l=(1<<a)-1;var u=l>>1;var f=-7;var c=i?r-1:0;var h=i?-1:1;var d=e[t+c];c+=h;s=d&(1<<-f)-1;d>>=-f;f+=a;for(;f>0;s=s*256+e[t+c],c+=h,f-=8){}o=s&(1<<-f)-1;s>>=-f;f+=n;for(;f>0;o=o*256+e[t+c],c+=h,f-=8){}if(s===0){s=1-u}else if(s===l){return o?NaN:(d?-1:1)*Infinity}else{o=o+Math.pow(2,n);s=s-u}return(d?-1:1)*o*Math.pow(2,s-n)};i.write=function(e,t,i,n,r,s){var o,a,l;var u=s*8-r-1;var f=(1<<u)-1;var c=f>>1;var h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0;var d=n?0:s-1;var p=n?1:-1;var g=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;o=f}else{o=Math.floor(Math.log(t)/Math.LN2);if(t*(l=Math.pow(2,-o))<1){o--;l*=2}if(o+c>=1){t+=h/l}else{t+=h*Math.pow(2,1-c)}if(t*l>=2){o++;l/=2}if(o+c>=f){a=0;o=f}else if(o+c>=1){a=(t*l-1)*Math.pow(2,r);o=o+c}else{a=t*Math.pow(2,c-1)*Math.pow(2,r);o=0}}for(;r>=8;e[i+d]=a&255,d+=p,a/=256,r-=8){}o=o<<r|a;u+=r;for(;u>0;e[i+d]=o&255,d+=p,o/=256,u-=8){}e[i+d-p]|=g*128}},{}],38:[function(e,t,i){if(typeof Object.create==="function"){t.exports=function e(t,i){t.super_=i;t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function e(t,i){t.super_=i;var n=function(){};n.prototype=i.prototype;t.prototype=new n;t.prototype.constructor=t}}},{}],39:[function(e,t,i){t.exports=function(e){return e!=null&&(n(e)||r(e)||!!e._isBuffer)};function n(e){return!!e.constructor&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}function r(e){return typeof e.readFloatLE==="function"&&typeof e.slice==="function"&&n(e.slice(0,0))}},{}],40:[function(e,t,i){var n={}.toString;t.exports=Array.isArray||function(e){return n.call(e)=="[object Array]"}},{}],41:[function(e,t,i){(function(e){"use strict";if(!e.version||e.version.indexOf("v0.")===0||e.version.indexOf("v1.")===0&&e.version.indexOf("v1.8.")!==0){t.exports=i}else{t.exports=e.nextTick}function i(t,i,n,r){if(typeof t!=="function"){throw new TypeError('"callback" argument must be a function')}var s=arguments.length;var o,a;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function e(){t.call(null,i)});case 3:return e.nextTick(function e(){t.call(null,i,n)});case 4:return e.nextTick(function e(){t.call(null,i,n,r)});default:o=new Array(s-1);a=0;while(a<o.length){o[a++]=arguments[a]}return e.nextTick(function e(){t.apply(null,o)})}}}).call(this,e("_process"))},{_process:42}],42:[function(e,t,i){var n=t.exports={};var r;var s;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=o}}catch(e){r=o}try{if(typeof clearTimeout==="function"){s=clearTimeout}else{s=a}}catch(e){s=a}})();function l(e){if(r===setTimeout){return setTimeout(e,0)}if((r===o||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(s===clearTimeout){return clearTimeout(e)}if((s===a||!s)&&clearTimeout){s=clearTimeout;return clearTimeout(e)}try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}var f=[];var c=false;var h;var d=-1;function p(){if(!c||!h){return}c=false;if(h.length){f=h.concat(f)}else{d=-1}if(f.length){g()}}function g(){if(c){return}var e=l(p);c=true;var t=f.length;while(t){h=f;f=[];while(++d<t){if(h){h[d].run()}}d=-1;t=f.length}h=null;c=false;u(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}}f.push(new m(e,t));if(f.length===1&&!c){l(g)}};function m(e,t){this.fun=e;this.array=t}
m.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function _(){}n.on=_;n.addListener=_;n.once=_;n.off=_;n.removeListener=_;n.removeAllListeners=_;n.emit=_;n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],43:[function(e,t,i){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":44}],44:[function(e,t,i){"use strict";var n=Object.keys||function(e){var t=[];for(var i in e){t.push(i)}return t};t.exports=c;var r=e("process-nextick-args");var s=e("core-util-is");s.inherits=e("inherits");var o=e("./_stream_readable");var a=e("./_stream_writable");s.inherits(c,o);var l=n(a.prototype);for(var u=0;u<l.length;u++){var f=l[u];if(!c.prototype[f])c.prototype[f]=a.prototype[f]}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e);a.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",h)}function h(){if(this.allowHalfOpen||this._writableState.ended)return;r(d,this)}function d(e){e.end()}function p(e,t){for(var i=0,n=e.length;i<n;i++){t(e[i],i)}}},{"./_stream_readable":46,"./_stream_writable":48,"core-util-is":6,inherits:38,"process-nextick-args":41}],45:[function(e,t,i){"use strict";t.exports=s;var n=e("./_stream_transform");var r=e("core-util-is");r.inherits=e("inherits");r.inherits(s,n);function s(e){if(!(this instanceof s))return new s(e);n.call(this,e)}s.prototype._transform=function(e,t,i){i(null,e)}},{"./_stream_transform":47,"core-util-is":6,inherits:38}],46:[function(e,t,i){(function(i){"use strict";t.exports=v;var n=e("process-nextick-args");var r=e("isarray");v.ReadableState=_;var s=e("events").EventEmitter;var o=function(e,t){return e.listeners(t).length};var a;(function(){try{a=e("st"+"ream")}catch(e){}finally{if(!a)a=e("events").EventEmitter}})();var l=e("buffer").Buffer;var u=e("buffer-shims");var f=e("core-util-is");f.inherits=e("inherits");var c=e("util");var h=void 0;if(c&&c.debuglog){h=c.debuglog("stream")}else{h=function(){}}var d=e("./internal/streams/BufferList");var p;f.inherits(v,a);function g(e,t,i){if(typeof e.prependListener==="function"){return e.prependListener(t,i)}else{if(!e._events||!e._events[t])e.on(t,i);else if(r(e._events[t]))e._events[t].unshift(i);else e._events[t]=[i,e._events[t]]}}var m;function _(t,i){m=m||e("./_stream_duplex");t=t||{};this.objectMode=!!t.objectMode;if(i instanceof m)this.objectMode=this.objectMode||!!t.readableObjectMode;var n=t.highWaterMark;var r=this.objectMode?16:16*1024;this.highWaterMark=n||n===0?n:r;this.highWaterMark=~~this.highWaterMark;this.buffer=new d;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.defaultEncoding=t.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(t.encoding){if(!p)p=e("string_decoder/").StringDecoder;this.decoder=new p(t.encoding);this.encoding=t.encoding}}var m;function v(t){m=m||e("./_stream_duplex");if(!(this instanceof v))return new v(t);this._readableState=new _(t,this);this.readable=true;if(t&&typeof t.read==="function")this._read=t.read;a.call(this)}v.prototype.push=function(e,t){var i=this._readableState;if(!i.objectMode&&typeof e==="string"){t=t||i.defaultEncoding;if(t!==i.encoding){e=u.from(e,t);t=""}}return y(this,i,e,t,false)};v.prototype.unshift=function(e){var t=this._readableState;return y(this,t,e,"",true)};v.prototype.isPaused=function(){return this._readableState.flowing===false};function y(e,t,i,n,r){var s=M(t,i);if(s){e.emit("error",s)}else if(i===null){t.reading=false;S(e,t)}else if(t.objectMode||i&&i.length>0){if(t.ended&&!r){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&r){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var l;if(t.decoder&&!r&&!n){i=t.decoder.write(i);l=!t.objectMode&&i.length===0}if(!r)t.reading=false;if(!l){if(t.flowing&&t.length===0&&!t.sync){e.emit("data",i);e.read(0)}else{t.length+=t.objectMode?1:i.length;if(r)t.buffer.unshift(i);else t.buffer.push(i);if(t.needReadable)A(e)}}T(e,t)}}else if(!r){t.reading=false}return b(t)}function b(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}v.prototype.setEncoding=function(t){if(!p)p=e("string_decoder/").StringDecoder;this._readableState.decoder=new p(t);this._readableState.encoding=t;return this};var w=8388608;function x(e){if(e>=w){e=w}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function E(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=x(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}v.prototype.read=function(e){h("read",e);e=parseInt(e,10);var t=this._readableState;var i=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){h("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)z(this);else A(this);return null}e=E(e,t);if(e===0&&t.ended){if(t.length===0)z(this);return null}var n=t.needReadable;h("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;h("length less than watermark",n)}if(t.ended||t.reading){n=false;h("reading or ended",n)}else if(n){h("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=E(i,t)}var r;if(e>0)r=j(e,t);else r=null;if(r===null){t.needReadable=true;e=0}else{t.length-=e}if(t.length===0){if(!t.ended)t.needReadable=true;if(i!==e&&t.ended)z(this)}if(r!==null)this.emit("data",r);return r};function M(e,t){var i=null;if(!l.isBuffer(t)&&typeof t!=="string"&&t!==null&&t!==undefined&&!e.objectMode){i=new TypeError("Invalid non-string/buffer chunk")}return i}function S(e,t){if(t.ended)return;if(t.decoder){var i=t.decoder.end();if(i&&i.length){t.buffer.push(i);t.length+=t.objectMode?1:i.length}}t.ended=true;A(e)}function A(e){var t=e._readableState;t.needReadable=false;if(!t.emittedReadable){h("emitReadable",t.flowing);t.emittedReadable=true;if(t.sync)n(C,e);else C(e)}}function C(e){h("emit readable");e.emit("readable");O(e)}function T(e,t){if(!t.readingMore){t.readingMore=true;n(k,e,t)}}function k(e,t){var i=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){h("maybeReadMore read 0");e.read(0);if(i===t.length)break;else i=t.length}t.readingMore=false}v.prototype._read=function(e){this.emit("error",new Error("not implemented"))};v.prototype.pipe=function(e,t){var r=this;var s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e);break}s.pipesCount+=1;h("pipe count=%d opts=%j",s.pipesCount,t);var a=(!t||t.end!==false)&&e!==i.stdout&&e!==i.stderr;var l=a?f:p;if(s.endEmitted)n(l);else r.once("end",l);e.on("unpipe",u);function u(e){h("onunpipe");if(e===r){p()}}function f(){h("onend");e.end()}var c=R(r);e.on("drain",c);var d=false;function p(){h("cleanup");e.removeListener("close",y);e.removeListener("finish",b);e.removeListener("drain",c);e.removeListener("error",v);e.removeListener("unpipe",u);r.removeListener("end",f);r.removeListener("end",p);r.removeListener("data",_);d=true;if(s.awaitDrain&&(!e._writableState||e._writableState.needDrain))c()}var m=false;r.on("data",_);function _(t){h("ondata");m=false;var i=e.write(t);if(false===i&&!m){if((s.pipesCount===1&&s.pipes===e||s.pipesCount>1&&B(s.pipes,e)!==-1)&&!d){h("false write response, pause",r._readableState.awaitDrain);r._readableState.awaitDrain++;m=true}r.pause()}}function v(t){h("onerror",t);w();e.removeListener("error",v);if(o(e,"error")===0)e.emit("error",t)}g(e,"error",v);function y(){e.removeListener("finish",b);w()}e.once("close",y);function b(){h("onfinish");e.removeListener("close",y);w()}e.once("finish",b);function w(){h("unpipe");r.unpipe(e)}e.emit("pipe",r);if(!s.flowing){h("pipe resume");r.resume()}return e};function R(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&o(e,"data")){t.flowing=true;O(e)}}}v.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this);return this}if(!e){var i=t.pipes;var n=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var r=0;r<n;r++){i[r].emit("unpipe",this)}return this}var s=B(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this);return this};v.prototype.on=function(e,t){var i=a.prototype.on.call(this,e,t);if(e==="data"){if(this._readableState.flowing!==false)this.resume()}else if(e==="readable"){var r=this._readableState;if(!r.endEmitted&&!r.readableListening){r.readableListening=r.needReadable=true;r.emittedReadable=false;if(!r.reading){n(P,this)}else if(r.length){A(this,r)}}}return i};v.prototype.addListener=v.prototype.on;function P(e){h("readable nexttick read 0");e.read(0)}v.prototype.resume=function(){var e=this._readableState;if(!e.flowing){h("resume");e.flowing=true;q(this,e)}return this};function q(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;n(I,e,t)}}function I(e,t){if(!t.reading){h("resume read 0");e.read(0)}t.resumeScheduled=false;t.awaitDrain=0;e.emit("resume");O(e);if(t.flowing&&!t.reading)e.read(0)}v.prototype.pause=function(){h("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){h("pause");this._readableState.flowing=false;this.emit("pause")}return this};function O(e){var t=e._readableState;h("flow",t.flowing);while(t.flowing&&e.read()!==null){}}v.prototype.wrap=function(e){var t=this._readableState;var i=false;var n=this;e.on("end",function(){h("wrapped end");if(t.decoder&&!t.ended){var e=t.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});e.on("data",function(r){h("wrapped data");if(t.decoder)r=t.decoder.write(r);if(t.objectMode&&(r===null||r===undefined))return;else if(!t.objectMode&&(!r||!r.length))return;var s=n.push(r);if(!s){i=true;e.pause()}});for(var r in e){if(this[r]===undefined&&typeof e[r]==="function"){this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r)}}var s=["error","close","destroy","pause","resume"];H(s,function(t){e.on(t,n.emit.bind(n,t))});n._read=function(t){h("wrapped _read",t);if(i){i=false;e.resume()}};return n};v._fromList=j;function j(e,t){if(t.length===0)return null;var i;if(t.objectMode)i=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)i=t.buffer.join("");else if(t.buffer.length===1)i=t.buffer.head.data;else i=t.buffer.concat(t.length);t.buffer.clear()}else{i=D(e,t.buffer,t.decoder)}return i}function D(e,t,i){var n;if(e<t.head.data.length){n=t.head.data.slice(0,e);t.head.data=t.head.data.slice(e)}else if(e===t.head.data.length){n=t.shift()}else{n=i?N(e,t):L(e,t)}return n}function N(e,t){var i=t.head;var n=1;var r=i.data;e-=r.length;while(i=i.next){var s=i.data;var o=e>s.length?s.length:e;if(o===s.length)r+=s;else r+=s.slice(0,e);e-=o;if(e===0){if(o===s.length){++n;if(i.next)t.head=i.next;else t.head=t.tail=null}else{t.head=i;i.data=s.slice(o)}break}++n}t.length-=n;return r}function L(e,t){var i=u.allocUnsafe(e);var n=t.head;var r=1;n.data.copy(i);e-=n.data.length;while(n=n.next){var s=n.data;var o=e>s.length?s.length:e;s.copy(i,i.length-e,0,o);e-=o;if(e===0){if(o===s.length){++r;if(n.next)t.head=n.next;else t.head=t.tail=null}else{t.head=n;n.data=s.slice(o)}break}++r}t.length-=r;return i}function z(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!t.endEmitted){t.ended=true;n($,t,e)}}function $(e,t){if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end")}}function H(e,t){for(var i=0,n=e.length;i<n;i++){t(e[i],i)}}function B(e,t){for(var i=0,n=e.length;i<n;i++){if(e[i]===t)return i}return-1}}).call(this,e("_process"))},{"./_stream_duplex":44,"./internal/streams/BufferList":49,_process:42,buffer:5,"buffer-shims":4,"core-util-is":6,events:28,inherits:38,isarray:40,"process-nextick-args":41,"string_decoder/":56,util:3}],47:[function(e,t,i){"use strict";t.exports=a;var n=e("./_stream_duplex");var r=e("core-util-is");r.inherits=e("inherits");r.inherits(a,n);function s(e){this.afterTransform=function(t,i){return o(e,t,i)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null;this.writeencoding=null}function o(e,t,i){var n=e._transformState;n.transforming=false;var r=n.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null;n.writecb=null;if(i!==null&&i!==undefined)e.push(i);r(t);var s=e._readableState;s.reading=false;if(s.needReadable||s.length<s.highWaterMark){e._read(s.highWaterMark)}}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e);this._transformState=new s(this);var t=this;this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.once("prefinish",function(){if(typeof this._flush==="function")this._flush(function(e){l(t,e)});else l(t)})}a.prototype.push=function(e,t){this._transformState.needTransform=false;return n.prototype.push.call(this,e,t)};a.prototype._transform=function(e,t,i){throw new Error("Not implemented")};a.prototype._write=function(e,t,i){var n=this._transformState;n.writecb=i;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var r=this._readableState;if(n.needTransform||r.needReadable||r.length<r.highWaterMark)this._read(r.highWaterMark)}};a.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};function l(e,t){if(t)return e.emit("error",t);var i=e._writableState;var n=e._transformState;if(i.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}},{"./_stream_duplex":44,"core-util-is":6,inherits:38}],48:[function(e,t,i){(function(i){"use strict";t.exports=p;var n=e("process-nextick-args");var r=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?setImmediate:n;p.WritableState=d;var s=e("core-util-is");s.inherits=e("inherits");var o={deprecate:e("util-deprecate")};var a;(function(){try{a=e("st"+"ream")}catch(e){}finally{if(!a)a=e("events").EventEmitter}})();var l=e("buffer").Buffer;var u=e("buffer-shims");s.inherits(p,a);function f(){}function c(e,t,i){this.chunk=e;this.encoding=t;this.callback=i;this.next=null}var h;function d(t,i){h=h||e("./_stream_duplex");t=t||{};this.objectMode=!!t.objectMode;if(i instanceof h)this.objectMode=this.objectMode||!!t.writableObjectMode;var n=t.highWaterMark;var r=this.objectMode?16:16*1024;this.highWaterMark=n||n===0?n:r;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var s=t.decodeStrings===false;this.decodeStrings=!s;this.defaultEncoding=t.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){x(i,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new R(this)}d.prototype.getBuffer=function e(){var t=this.bufferedRequest;var i=[];while(t){i.push(t);t=t.next}return i};(function(){try{Object.defineProperty(d.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.")})}catch(e){}})();var h;function p(t){h=h||e("./_stream_duplex");if(!(this instanceof p)&&!(this instanceof h))return new p(t);this._writableState=new d(t,this);this.writable=true;if(t){if(typeof t.write==="function")this._write=t.write;if(typeof t.writev==="function")this._writev=t.writev}a.call(this)}p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function g(e,t){var i=new Error("write after end");e.emit("error",i);n(t,i)}function m(e,t,i,r){var s=true;var o=false;if(i===null){o=new TypeError("May not write null values to stream")}else if(!l.isBuffer(i)&&typeof i!=="string"&&i!==undefined&&!t.objectMode){o=new TypeError("Invalid non-string/buffer chunk")}if(o){e.emit("error",o);n(r,o);s=false}return s}p.prototype.write=function(e,t,i){var n=this._writableState;var r=false;if(typeof t==="function"){i=t;t=null}if(l.isBuffer(e))t="buffer";else if(!t)t=n.defaultEncoding;if(typeof i!=="function")i=f;if(n.ended)g(this,i);else if(m(this,n,e,i)){n.pendingcb++;r=v(this,n,e,t,i)}return r};p.prototype.cork=function(){var e=this._writableState;e.corked++};p.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest)S(this,e)}};p.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t;return this};function _(e,t,i){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=u.from(t,i)}return t}function v(e,t,i,n,r){i=_(t,i,n);if(l.isBuffer(i))n="buffer";var s=t.objectMode?1:i.length;t.length+=s;var o=t.length<t.highWaterMark;if(!o)t.needDrain=true;if(t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new c(i,n,r);if(a){a.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{y(e,t,false,s,i,n,r)}return o}function y(e,t,i,n,r,s,o){t.writelen=n;t.writecb=o;t.writing=true;t.sync=true;if(i)e._writev(r,t.onwrite);else e._write(r,s,t.onwrite);t.sync=false}function b(e,t,i,r,s){--t.pendingcb;if(i)n(s,r);else s(r);e._writableState.errorEmitted=true;e.emit("error",r)}function w(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function x(e,t){var i=e._writableState;var n=i.sync;var s=i.writecb;w(i);if(t)b(e,i,n,t,s);else{var o=A(i);if(!o&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest){S(e,i)}if(n){r(E,e,i,o,s)}else{E(e,i,o,s)}}}function E(e,t,i,n){if(!i)M(e,t);t.pendingcb--;n();T(e,t)}function M(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function S(e,t){t.bufferProcessing=true;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var n=t.bufferedRequestCount;var r=new Array(n);var s=t.corkedRequestsFree;s.entry=i;var o=0;while(i){r[o]=i;i=i.next;o+=1}y(e,t,true,t.length,r,"",s.finish);t.pendingcb++;t.lastBufferedRequest=null;if(s.next){t.corkedRequestsFree=s.next;s.next=null}else{t.corkedRequestsFree=new R(t)}}else{while(i){var a=i.chunk;var l=i.encoding;var u=i.callback;var f=t.objectMode?1:a.length;y(e,t,false,f,a,l,u);i=i.next;if(t.writing){break}}if(i===null)t.lastBufferedRequest=null}t.bufferedRequestCount=0;t.bufferedRequest=i;t.bufferProcessing=false}p.prototype._write=function(e,t,i){i(new Error("not implemented"))};p.prototype._writev=null;p.prototype.end=function(e,t,i){var n=this._writableState;if(typeof e==="function"){i=e;e=null;t=null}else if(typeof t==="function"){i=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending&&!n.finished)k(this,n,i)};function A(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function C(e,t){if(!t.prefinished){t.prefinished=true;e.emit("prefinish")}}function T(e,t){var i=A(t);if(i){if(t.pendingcb===0){C(e,t);t.finished=true;e.emit("finish")}else{C(e,t)}}return i}function k(e,t,i){t.ending=true;T(e,t);if(i){if(t.finished)n(i);else e.once("finish",i)}t.ended=true;e.writable=false}function R(e){var t=this;this.next=null;this.entry=null;this.finish=function(i){var n=t.entry;t.entry=null;while(n){var r=n.callback;e.pendingcb--;r(i);n=n.next}if(e.corkedRequestsFree){e.corkedRequestsFree.next=t}else{e.corkedRequestsFree=t}}}}).call(this,e("_process"))},{"./_stream_duplex":44,_process:42,buffer:5,"buffer-shims":4,"core-util-is":6,events:28,inherits:38,"process-nextick-args":41,"util-deprecate":57}],49:[function(e,t,i){"use strict";var n=e("buffer").Buffer;var r=e("buffer-shims");t.exports=s;function s(){this.head=null;this.tail=null;this.length=0}s.prototype.push=function(e){var t={data:e,next:null};if(this.length>0)this.tail.next=t;else this.head=t;this.tail=t;++this.length};s.prototype.unshift=function(e){var t={data:e,next:this.head};if(this.length===0)this.tail=t;this.head=t;++this.length};s.prototype.shift=function(){if(this.length===0)return;var e=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return e};s.prototype.clear=function(){this.head=this.tail=null;this.length=0};s.prototype.join=function(e){if(this.length===0)return"";var t=this.head;var i=""+t.data;while(t=t.next){i+=e+t.data}return i};s.prototype.concat=function(e){if(this.length===0)return r.alloc(0);if(this.length===1)return this.head.data;var t=r.allocUnsafe(e>>>0);var i=this.head;var n=0;while(i){i.data.copy(t,n);n+=i.data.length;i=i.next}return t}},{buffer:5,"buffer-shims":4}],50:[function(e,t,i){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":45}],51:[function(e,t,i){(function(n){var r=function(){try{return e("st"+"ream")}catch(e){}}();i=t.exports=e("./lib/_stream_readable.js");i.Stream=r||i;i.Readable=i;i.Writable=e("./lib/_stream_writable.js");i.Duplex=e("./lib/_stream_duplex.js");i.Transform=e("./lib/_stream_transform.js");i.PassThrough=e("./lib/_stream_passthrough.js");if(!n.browser&&n.env.READABLE_STREAM==="disable"&&r){t.exports=r}}).call(this,e("_process"))},{"./lib/_stream_duplex.js":44,"./lib/_stream_passthrough.js":45,"./lib/_stream_readable.js":46,"./lib/_stream_transform.js":47,"./lib/_stream_writable.js":48,_process:42}],52:[function(e,t,i){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":47}],53:[function(e,t,i){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":48}],54:[function(e,t,i){t.exports=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}},{}],55:[function(e,t,i){t.exports=s;var n=e("events").EventEmitter;var r=e("inherits");r(s,n);s.Readable=e("readable-stream/readable.js");s.Writable=e("readable-stream/writable.js");s.Duplex=e("readable-stream/duplex.js");s.Transform=e("readable-stream/transform.js");s.PassThrough=e("readable-stream/passthrough.js");s.Stream=s;function s(){n.call(this)}s.prototype.pipe=function(e,t){var i=this;function r(t){if(e.writable){if(false===e.write(t)&&i.pause){i.pause()}}}i.on("data",r);function s(){if(i.readable&&i.resume){i.resume()}}e.on("drain",s);if(!e._isStdio&&(!t||t.end!==false)){i.on("end",a);i.on("close",l)}var o=false;function a(){if(o)return;o=true;e.end()}function l(){if(o)return;o=true;if(typeof e.destroy==="function")e.destroy()}function u(e){f();if(n.listenerCount(this,"error")===0){throw e}}i.on("error",u);e.on("error",u);function f(){i.removeListener("data",r);e.removeListener("drain",s);i.removeListener("end",a);i.removeListener("close",l);i.removeListener("error",u);e.removeListener("error",u);i.removeListener("end",f);i.removeListener("close",f);e.removeListener("close",f)}i.on("end",f);i.on("close",f);e.on("close",f);e.emit("pipe",i);return e}},{events:28,inherits:38,"readable-stream/duplex.js":43,"readable-stream/passthrough.js":50,"readable-stream/readable.js":51,"readable-stream/transform.js":52,"readable-stream/writable.js":53}],56:[function(e,t,i){var n=e("buffer").Buffer;var r=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function s(e){if(e&&!r(e)){throw new Error("Unknown encoding: "+e)}}var o=i.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");s(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=l;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=u;break;default:this.write=a;return}this.charBuffer=new n(6);this.charReceived=0;this.charLength=0};o.prototype.write=function(e){var t="";while(this.charLength){var i=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,0,i);this.charReceived+=i;if(this.charReceived<this.charLength){return""}e=e.slice(i,e.length);t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(n>=55296&&n<=56319){this.charLength+=this.surrogateSize;t="";continue}this.charReceived=this.charLength=0;if(e.length===0){return t}break}this.detectIncompleteChar(e);var r=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-this.charReceived,r);r-=this.charReceived}t+=e.toString(this.encoding,0,r);var r=t.length-1;var n=t.charCodeAt(r);if(n>=55296&&n<=56319){var s=this.surrogateSize;this.charLength+=s;this.charReceived+=s;this.charBuffer.copy(this.charBuffer,s,0,s);e.copy(this.charBuffer,0,0,s);return t.substring(0,r)}return t};o.prototype.detectIncompleteChar=function(e){var t=e.length>=3?3:e.length;for(;t>0;t--){var i=e[e.length-t];if(t==1&&i>>5==6){this.charLength=2;break}if(t<=2&&i>>4==14){this.charLength=3;break}if(t<=3&&i>>3==30){this.charLength=4;break}}this.charReceived=t};o.prototype.end=function(e){var t="";if(e&&e.length)t=this.write(e);if(this.charReceived){var i=this.charReceived;var n=this.charBuffer;var r=this.encoding;t+=n.slice(0,i).toString(r)}return t};function a(e){return e.toString(this.encoding)}function l(e){this.charReceived=e.length%2;this.charLength=this.charReceived?2:0}function u(e){this.charReceived=e.length%3;this.charLength=this.charReceived?3:0}},{buffer:5}],57:[function(e,t,i){(function(e){t.exports=i;function i(e,t){if(n("noDeprecation")){return e}var i=false;function r(){if(!i){if(n("throwDeprecation")){throw new Error(t)}else if(n("traceDeprecation")){console.trace(t)}else{console.warn(t)}i=true}return e.apply(this,arguments)}return r}function n(t){try{if(!e.localStorage)return false}catch(e){return false}var i=e.localStorage[t];if(null==i)return false;return String(i).toLowerCase()==="true"}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],58:[function(e,t,i){t.exports=r;var n=Object.prototype.hasOwnProperty;function r(){var e={};for(var t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i){if(n.call(i,r)){e[r]=i[r]}}}return e}},{}]},{},[1])(1)});